(function(e){var t={};function r(n){if(t[n]){return t[n].exports}var i=t[n]={i:n,l:false,exports:{}};e[n].call(i.exports,i,i.exports,r);i.l=true;return i.exports}r.m=e;r.c=t;r.d=function(e,t,n){if(!r.o(e,t)){Object.defineProperty(e,t,{enumerable:true,get:n})}};r.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})};r.t=function(e,t){if(t&1)e=r(e);if(t&8)return e;if(t&4&&typeof e==="object"&&e&&e.__esModule)return e;var n=Object.create(null);r.r(n);Object.defineProperty(n,"default",{enumerable:true,value:e});if(t&2&&typeof e!="string")for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n};r.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};r.d(t,"a",t);return t};r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};r.p="static/js/tasks/";return r(r.s=45)})([function(e,t){e.exports=function(e){var t=[];t.toString=function t(){return this.map(function(t){var n=r(t,e);if(t[2]){return"@media "+t[2]+"{"+n+"}"}else{return n}}).join("")};t.i=function(e,r){if(typeof e==="string")e=[[null,e,""]];var n={};for(var i=0;i<this.length;i++){var a=this[i][0];if(typeof a==="number")n[a]=true}for(i=0;i<e.length;i++){var o=e[i];if(typeof o[0]!=="number"||!n[o[0]]){if(r&&!o[2]){o[2]=r}else if(r){o[2]="("+o[2]+") and ("+r+")"}t.push(o)}}};return t};function r(e,t){var r=e[1]||"";var i=e[3];if(!i){return r}if(t&&typeof btoa==="function"){var a=n(i);var o=i.sources.map(function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"});return[r].concat(o).concat([a]).join("\n")}return[r].join("\n")}function n(e){var t=btoa(unescape(encodeURIComponent(JSON.stringify(e))));var r="sourceMappingURL=data:application/json;charset=utf-8;base64,"+t;return"/*# "+r+" */"}},function(e,t,r){"use strict";r.r(t);function n(e,t){var r=[];var n={};for(var i=0;i<t.length;i++){var a=t[i];var o=a[0];var s=a[1];var u=a[2];var l=a[3];var c={id:e+":"+i,css:s,media:u,sourceMap:l};if(!n[o]){r.push(n[o]={id:o,parts:[c]})}else{n[o].parts.push(c)}}return r}r.d(t,"default",function(){return d});var i=typeof document!=="undefined";if(typeof DEBUG!=="undefined"&&DEBUG){if(!i){throw new Error("vue-style-loader cannot be used in a non-browser environment. "+"Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.")}}var a={};var o=i&&(document.head||document.getElementsByTagName("head")[0]);var s=null;var u=0;var l=false;var c=function(){};var f=null;var h="data-vue-ssr-id";var p=typeof navigator!=="undefined"&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function d(e,t,r,i){l=r;f=i||{};var o=n(e,t);v(o);return function t(r){var i=[];for(var s=0;s<o.length;s++){var u=o[s];var l=a[u.id];l.refs--;i.push(l)}if(r){o=n(e,r);v(o)}else{o=[]}for(var s=0;s<i.length;s++){var l=i[s];if(l.refs===0){for(var c=0;c<l.parts.length;c++){l.parts[c]()}delete a[l.id]}}}}function v(e){for(var t=0;t<e.length;t++){var r=e[t];var n=a[r.id];if(n){n.refs++;for(var i=0;i<n.parts.length;i++){n.parts[i](r.parts[i])}for(;i<r.parts.length;i++){n.parts.push(m(r.parts[i]))}if(n.parts.length>r.parts.length){n.parts.length=r.parts.length}}else{var o=[];for(var i=0;i<r.parts.length;i++){o.push(m(r.parts[i]))}a[r.id]={id:r.id,refs:1,parts:o}}}}function y(){var e=document.createElement("style");e.type="text/css";o.appendChild(e);return e}function m(e){var t,r;var n=document.querySelector("style["+h+'~="'+e.id+'"]');if(n){if(l){return c}else{n.parentNode.removeChild(n)}}if(p){var i=u++;n=s||(s=y());t=_.bind(null,n,i,false);r=_.bind(null,n,i,true)}else{n=y();t=b.bind(null,n);r=function(){n.parentNode.removeChild(n)}}t(e);return function n(i){if(i){if(i.css===e.css&&i.media===e.media&&i.sourceMap===e.sourceMap){return}t(e=i)}else{r()}}}var g=function(){var e=[];return function(t,r){e[t]=r;return e.filter(Boolean).join("\n")}}();function _(e,t,r,n){var i=r?"":n.css;if(e.styleSheet){e.styleSheet.cssText=g(t,i)}else{var a=document.createTextNode(i);var o=e.childNodes;if(o[t])e.removeChild(o[t]);if(o.length){e.insertBefore(a,o[t])}else{e.appendChild(a)}}}function b(e,t){var r=t.css;var n=t.media;var i=t.sourceMap;if(n){e.setAttribute("media",n)}if(f.ssrId){e.setAttribute(h,t.id)}if(i){r+="\n/*# sourceURL="+i.sources[0]+" */";r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"}if(e.styleSheet){e.styleSheet.cssText=r}else{while(e.firstChild){e.removeChild(e.firstChild)}e.appendChild(document.createTextNode(r))}}},function(e,t,r){"use strict";(function(e,r){
/*!
 * Vue.js v2.5.17
 * (c) 2014-2018 Evan You
 * Released under the MIT License.
 */
var n=Object.freeze({});function i(e){return e===undefined||e===null}function a(e){return e!==undefined&&e!==null}function o(e){return e===true}function s(e){return e===false}function u(e){return typeof e==="string"||typeof e==="number"||typeof e==="symbol"||typeof e==="boolean"}function l(e){return e!==null&&typeof e==="object"}var c=Object.prototype.toString;function f(e){return c.call(e).slice(8,-1)}function h(e){return c.call(e)==="[object Object]"}function p(e){return c.call(e)==="[object RegExp]"}function d(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function v(e){return e==null?"":typeof e==="object"?JSON.stringify(e,null,2):String(e)}function y(e){var t=parseFloat(e);return isNaN(t)?e:t}function m(e,t){var r=Object.create(null);var n=e.split(",");for(var i=0;i<n.length;i++){r[n[i]]=true}return t?function(e){return r[e.toLowerCase()]}:function(e){return r[e]}}var g=m("slot,component",true);var _=m("key,ref,slot,slot-scope,is");function b(e,t){if(e.length){var r=e.indexOf(t);if(r>-1){return e.splice(r,1)}}}var w=Object.prototype.hasOwnProperty;function C(e,t){return w.call(e,t)}function E(e){var t=Object.create(null);return function r(n){var i=t[n];return i||(t[n]=e(n))}}var T=/-(\w)/g;var k=E(function(e){return e.replace(T,function(e,t){return t?t.toUpperCase():""})});var S=E(function(e){return e.charAt(0).toUpperCase()+e.slice(1)});var x=/\B([A-Z])/g;var I=E(function(e){return e.replace(x,"-$1").toLowerCase()});function O(e,t){function r(r){var n=arguments.length;return n?n>1?e.apply(t,arguments):e.call(t,r):e.call(t)}r._length=e.length;return r}function N(e,t){return e.bind(t)}var A=Function.prototype.bind?N:O;function P(e,t){t=t||0;var r=e.length-t;var n=new Array(r);while(r--){n[r]=e[r+t]}return n}function D(e,t){for(var r in t){e[r]=t[r]}return e}function R(e){var t={};for(var r=0;r<e.length;r++){if(e[r]){D(t,e[r])}}return t}function M(e,t,r){}var F=function(e,t,r){return false};var L=function(e){return e};function j(e){return e.reduce(function(e,t){return e.concat(t.staticKeys||[])},[]).join(",")}function $(e,t){if(e===t){return true}var r=l(e);var n=l(t);if(r&&n){try{var i=Array.isArray(e);var a=Array.isArray(t);if(i&&a){return e.length===t.length&&e.every(function(e,r){return $(e,t[r])})}else if(!i&&!a){var o=Object.keys(e);var s=Object.keys(t);return o.length===s.length&&o.every(function(r){return $(e[r],t[r])})}else{return false}}catch(e){return false}}else if(!r&&!n){return String(e)===String(t)}else{return false}}function U(e,t){for(var r=0;r<e.length;r++){if($(e[r],t)){return r}}return-1}function B(e){var t=false;return function(){if(!t){t=true;e.apply(this,arguments)}}}var W="data-server-rendered";var q=["component","directive","filter"];var V=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured"];var H={optionMergeStrategies:Object.create(null),silent:false,productionTip:"production"!=="production",devtools:"production"!=="production",performance:false,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:F,isReservedAttr:F,isUnknownElement:F,getTagNamespace:M,parsePlatformTagName:L,mustUseProp:F,_lifecycleHooks:V};function Q(e){var t=(e+"").charCodeAt(0);return t===36||t===95}function K(e,t,r,n){Object.defineProperty(e,t,{value:r,enumerable:!!n,writable:true,configurable:true})}var z=/[^\w.$]/;function G(e){if(z.test(e)){return}var t=e.split(".");return function(e){for(var r=0;r<t.length;r++){if(!e){return}e=e[t[r]]}return e}}var Y="__proto__"in{};var J=typeof window!=="undefined";var X=typeof WXEnvironment!=="undefined"&&!!WXEnvironment.platform;var Z=X&&WXEnvironment.platform.toLowerCase();var ee=J&&window.navigator.userAgent.toLowerCase();var te=ee&&/msie|trident/.test(ee);var re=ee&&ee.indexOf("msie 9.0")>0;var ne=ee&&ee.indexOf("edge/")>0;var ie=ee&&ee.indexOf("android")>0||Z==="android";var ae=ee&&/iphone|ipad|ipod|ios/.test(ee)||Z==="ios";var oe=ee&&/chrome\/\d+/.test(ee)&&!ne;var se={}.watch;var ue=false;if(J){try{var le={};Object.defineProperty(le,"passive",{get:function e(){ue=true}});window.addEventListener("test-passive",null,le)}catch(e){}}var ce;var fe=function(){if(ce===undefined){if(!J&&!X&&typeof e!=="undefined"){ce=e["process"].env.VUE_ENV==="server"}else{ce=false}}return ce};var he=J&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function pe(e){return typeof e==="function"&&/native code/.test(e.toString())}var de=typeof Symbol!=="undefined"&&pe(Symbol)&&typeof Reflect!=="undefined"&&pe(Reflect.ownKeys);var ve;if(typeof Set!=="undefined"&&pe(Set)){ve=Set}else{ve=function(){function e(){this.set=Object.create(null)}e.prototype.has=function e(t){return this.set[t]===true};e.prototype.add=function e(t){this.set[t]=true};e.prototype.clear=function e(){this.set=Object.create(null)};return e}()}var ye=M;var me=M;var ge=M;var _e=M;if(false){var be,we,Ce,Ee}var Te=0;var ke=function e(){this.id=Te++;this.subs=[]};ke.prototype.addSub=function e(t){this.subs.push(t)};ke.prototype.removeSub=function e(t){b(this.subs,t)};ke.prototype.depend=function e(){if(ke.target){ke.target.addDep(this)}};ke.prototype.notify=function e(){var t=this.subs.slice();for(var r=0,n=t.length;r<n;r++){t[r].update()}};ke.target=null;var Se=[];function xe(e){if(ke.target){Se.push(ke.target)}ke.target=e}function Ie(){ke.target=Se.pop()}var Oe=function e(t,r,n,i,a,o,s,u){this.tag=t;this.data=r;this.children=n;this.text=i;this.elm=a;this.ns=undefined;this.context=o;this.fnContext=undefined;this.fnOptions=undefined;this.fnScopeId=undefined;this.key=r&&r.key;this.componentOptions=s;this.componentInstance=undefined;this.parent=undefined;this.raw=false;this.isStatic=false;this.isRootInsert=true;this.isComment=false;this.isCloned=false;this.isOnce=false;this.asyncFactory=u;this.asyncMeta=undefined;this.isAsyncPlaceholder=false};var Ne={child:{configurable:true}};Ne.child.get=function(){return this.componentInstance};Object.defineProperties(Oe.prototype,Ne);var Ae=function(e){if(e===void 0)e="";var t=new Oe;t.text=e;t.isComment=true;return t};function Pe(e){return new Oe(undefined,undefined,undefined,String(e))}function De(e){var t=new Oe(e.tag,e.data,e.children,e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);t.ns=e.ns;t.isStatic=e.isStatic;t.key=e.key;t.isComment=e.isComment;t.fnContext=e.fnContext;t.fnOptions=e.fnOptions;t.fnScopeId=e.fnScopeId;t.isCloned=true;return t}var Re=Array.prototype;var Me=Object.create(Re);var Fe=["push","pop","shift","unshift","splice","sort","reverse"];Fe.forEach(function(e){var t=Re[e];K(Me,e,function r(){var n=[],i=arguments.length;while(i--)n[i]=arguments[i];var a=t.apply(this,n);var o=this.__ob__;var s;switch(e){case"push":case"unshift":s=n;break;case"splice":s=n.slice(2);break}if(s){o.observeArray(s)}o.dep.notify();return a})});var Le=Object.getOwnPropertyNames(Me);var je=true;function $e(e){je=e}var Ue=function e(t){this.value=t;this.dep=new ke;this.vmCount=0;K(t,"__ob__",this);if(Array.isArray(t)){var r=Y?Be:We;r(t,Me,Le);this.observeArray(t)}else{this.walk(t)}};Ue.prototype.walk=function e(t){var r=Object.keys(t);for(var n=0;n<r.length;n++){Ve(t,r[n])}};Ue.prototype.observeArray=function e(t){for(var r=0,n=t.length;r<n;r++){qe(t[r])}};function Be(e,t,r){e.__proto__=t}function We(e,t,r){for(var n=0,i=r.length;n<i;n++){var a=r[n];K(e,a,t[a])}}function qe(e,t){if(!l(e)||e instanceof Oe){return}var r;if(C(e,"__ob__")&&e.__ob__ instanceof Ue){r=e.__ob__}else if(je&&!fe()&&(Array.isArray(e)||h(e))&&Object.isExtensible(e)&&!e._isVue){r=new Ue(e)}if(t&&r){r.vmCount++}return r}function Ve(e,t,r,n,i){var a=new ke;var o=Object.getOwnPropertyDescriptor(e,t);if(o&&o.configurable===false){return}var s=o&&o.get;if(!s&&arguments.length===2){r=e[t]}var u=o&&o.set;var l=!i&&qe(r);Object.defineProperty(e,t,{enumerable:true,configurable:true,get:function t(){var n=s?s.call(e):r;if(ke.target){a.depend();if(l){l.dep.depend();if(Array.isArray(n)){Ke(n)}}}return n},set:function t(n){var o=s?s.call(e):r;if(n===o||n!==n&&o!==o){return}if(false){}if(u){u.call(e,n)}else{r=n}l=!i&&qe(n);a.notify()}})}function He(e,t,r){if(false){}if(Array.isArray(e)&&d(t)){e.length=Math.max(e.length,t);e.splice(t,1,r);return r}if(t in e&&!(t in Object.prototype)){e[t]=r;return r}var n=e.__ob__;if(e._isVue||n&&n.vmCount){"production"!=="production"&&ye("Avoid adding reactive properties to a Vue instance or its root $data "+"at runtime - declare it upfront in the data option.");return r}if(!n){e[t]=r;return r}Ve(n.value,t,r);n.dep.notify();return r}function Qe(e,t){if(false){}if(Array.isArray(e)&&d(t)){e.splice(t,1);return}var r=e.__ob__;if(e._isVue||r&&r.vmCount){"production"!=="production"&&ye("Avoid deleting properties on a Vue instance or its root $data "+"- just set it to null.");return}if(!C(e,t)){return}delete e[t];if(!r){return}r.dep.notify()}function Ke(e){for(var t=void 0,r=0,n=e.length;r<n;r++){t=e[r];t&&t.__ob__&&t.__ob__.dep.depend();if(Array.isArray(t)){Ke(t)}}}var ze=H.optionMergeStrategies;if(false){}function Ge(e,t){if(!t){return e}var r,n,i;var a=Object.keys(t);for(var o=0;o<a.length;o++){r=a[o];n=e[r];i=t[r];if(!C(e,r)){He(e,r,i)}else if(h(n)&&h(i)){Ge(n,i)}}return e}function Ye(e,t,r){if(!r){if(!t){return e}if(!e){return t}return function r(){return Ge(typeof t==="function"?t.call(this,this):t,typeof e==="function"?e.call(this,this):e)}}else{return function n(){var i=typeof t==="function"?t.call(r,r):t;var a=typeof e==="function"?e.call(r,r):e;if(i){return Ge(i,a)}else{return a}}}}ze.data=function(e,t,r){if(!r){if(t&&typeof t!=="function"){"production"!=="production"&&ye('The "data" option should be a function '+"that returns a per-instance value in component "+"definitions.",r);return e}return Ye(e,t)}return Ye(e,t,r)};function Je(e,t){return t?e?e.concat(t):Array.isArray(t)?t:[t]:e}V.forEach(function(e){ze[e]=Je});function Xe(e,t,r,n){var i=Object.create(e||null);if(t){"production"!=="production"&&at(n,t,r);return D(i,t)}else{return i}}q.forEach(function(e){ze[e+"s"]=Xe});ze.watch=function(e,t,r,n){if(e===se){e=undefined}if(t===se){t=undefined}if(!t){return Object.create(e||null)}if(false){}if(!e){return t}var i={};D(i,e);for(var a in t){var o=i[a];var s=t[a];if(o&&!Array.isArray(o)){o=[o]}i[a]=o?o.concat(s):Array.isArray(s)?s:[s]}return i};ze.props=ze.methods=ze.inject=ze.computed=function(e,t,r,n){if(t&&"production"!=="production"){at(n,t,r)}if(!e){return t}var i=Object.create(null);D(i,e);if(t){D(i,t)}return i};ze.provide=Ye;var Ze=function(e,t){return t===undefined?e:t};function et(e){for(var t in e.components){tt(t)}}function tt(e){if(!/^[a-zA-Z][\w-]*$/.test(e)){ye('Invalid component name: "'+e+'". Component names '+"can only contain alphanumeric characters and the hyphen, "+"and must start with a letter.")}if(g(e)||H.isReservedTag(e)){ye("Do not use built-in or reserved HTML elements as component "+"id: "+e)}}function rt(e,t){var r=e.props;if(!r){return}var n={};var i,a,o;if(Array.isArray(r)){i=r.length;while(i--){a=r[i];if(typeof a==="string"){o=k(a);n[o]={type:null}}else if(false){}}}else if(h(r)){for(var s in r){a=r[s];o=k(s);n[o]=h(a)?a:{type:a}}}else if(false){}e.props=n}function nt(e,t){var r=e.inject;if(!r){return}var n=e.inject={};if(Array.isArray(r)){for(var i=0;i<r.length;i++){n[r[i]]={from:r[i]}}}else if(h(r)){for(var a in r){var o=r[a];n[a]=h(o)?D({from:a},o):{from:o}}}else if(false){}}function it(e){var t=e.directives;if(t){for(var r in t){var n=t[r];if(typeof n==="function"){t[r]={bind:n,update:n}}}}}function at(e,t,r){if(!h(t)){ye('Invalid value for option "'+e+'": expected an Object, '+"but got "+f(t)+".",r)}}function ot(e,t,r){if(false){}if(typeof t==="function"){t=t.options}rt(t,r);nt(t,r);it(t);var n=t.extends;if(n){e=ot(e,n,r)}if(t.mixins){for(var i=0,a=t.mixins.length;i<a;i++){e=ot(e,t.mixins[i],r)}}var o={};var s;for(s in e){u(s)}for(s in t){if(!C(e,s)){u(s)}}function u(n){var i=ze[n]||Ze;o[n]=i(e[n],t[n],r,n)}return o}function st(e,t,r,n){if(typeof r!=="string"){return}var i=e[t];if(C(i,r)){return i[r]}var a=k(r);if(C(i,a)){return i[a]}var o=S(a);if(C(i,o)){return i[o]}var s=i[r]||i[a]||i[o];if(false){}return s}function ut(e,t,r,n){var i=t[e];var a=!C(r,e);var o=r[e];var s=vt(Boolean,i.type);if(s>-1){if(a&&!C(i,"default")){o=false}else if(o===""||o===I(e)){var u=vt(String,i.type);if(u<0||s<u){o=true}}}if(o===undefined){o=lt(n,i,e);var l=je;$e(true);qe(o);$e(l)}if(false){}return o}function lt(e,t,r){if(!C(t,"default")){return undefined}var n=t.default;if(false){}if(e&&e.$options.propsData&&e.$options.propsData[r]===undefined&&e._props[r]!==undefined){return e._props[r]}return typeof n==="function"&&pt(t.type)!=="Function"?n.call(e):n}function ct(e,t,r,n,i){if(e.required&&i){ye('Missing required prop: "'+t+'"',n);return}if(r==null&&!e.required){return}var a=e.type;var o=!a||a===true;var s=[];if(a){if(!Array.isArray(a)){a=[a]}for(var u=0;u<a.length&&!o;u++){var l=ht(r,a[u]);s.push(l.expectedType||"");o=l.valid}}if(!o){ye('Invalid prop: type check failed for prop "'+t+'".'+" Expected "+s.map(S).join(", ")+", got "+f(r)+".",n);return}var c=e.validator;if(c){if(!c(r)){ye('Invalid prop: custom validator check failed for prop "'+t+'".',n)}}}var ft=/^(String|Number|Boolean|Function|Symbol)$/;function ht(e,t){var r;var n=pt(t);if(ft.test(n)){var i=typeof e;r=i===n.toLowerCase();if(!r&&i==="object"){r=e instanceof t}}else if(n==="Object"){r=h(e)}else if(n==="Array"){r=Array.isArray(e)}else{r=e instanceof t}return{valid:r,expectedType:n}}function pt(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function dt(e,t){return pt(e)===pt(t)}function vt(e,t){if(!Array.isArray(t)){return dt(t,e)?0:-1}for(var r=0,n=t.length;r<n;r++){if(dt(t[r],e)){return r}}return-1}function yt(e,t,r){if(t){var n=t;while(n=n.$parent){var i=n.$options.errorCaptured;if(i){for(var a=0;a<i.length;a++){try{var o=i[a].call(n,e,t,r)===false;if(o){return}}catch(e){mt(e,n,"errorCaptured hook")}}}}}mt(e,t,r)}function mt(e,t,r){if(H.errorHandler){try{return H.errorHandler.call(null,e,t,r)}catch(e){gt(e,null,"config.errorHandler")}}gt(e,t,r)}function gt(e,t,r){if(false){}if((J||X)&&typeof console!=="undefined"){console.error(e)}else{throw e}}var _t=[];var bt=false;function wt(){bt=false;var e=_t.slice(0);_t.length=0;for(var t=0;t<e.length;t++){e[t]()}}var Ct;var Et;var Tt=false;if(typeof r!=="undefined"&&pe(r)){Et=function(){r(wt)}}else if(typeof MessageChannel!=="undefined"&&(pe(MessageChannel)||MessageChannel.toString()==="[object MessageChannelConstructor]")){var kt=new MessageChannel;var St=kt.port2;kt.port1.onmessage=wt;Et=function(){St.postMessage(1)}}else{Et=function(){setTimeout(wt,0)}}if(typeof Promise!=="undefined"&&pe(Promise)){var xt=Promise.resolve();Ct=function(){xt.then(wt);if(ae){setTimeout(M)}}}else{Ct=Et}function It(e){return e._withTask||(e._withTask=function(){Tt=true;var t=e.apply(null,arguments);Tt=false;return t})}function Ot(e,t){var r;_t.push(function(){if(e){try{e.call(t)}catch(e){yt(e,t,"nextTick")}}else if(r){r(t)}});if(!bt){bt=true;if(Tt){Et()}else{Ct()}}if(!e&&typeof Promise!=="undefined"){return new Promise(function(e){r=e})}}var Nt;var At;if(false){var Pt}var Dt;if(false){var Rt,Mt,Ft,Lt,jt,$t}var Ut=new ve;function Bt(e){Wt(e,Ut);Ut.clear()}function Wt(e,t){var r,n;var i=Array.isArray(e);if(!i&&!l(e)||Object.isFrozen(e)||e instanceof Oe){return}if(e.__ob__){var a=e.__ob__.dep.id;if(t.has(a)){return}t.add(a)}if(i){r=e.length;while(r--){Wt(e[r],t)}}else{n=Object.keys(e);r=n.length;while(r--){Wt(e[n[r]],t)}}}var qt=E(function(e){var t=e.charAt(0)==="&";e=t?e.slice(1):e;var r=e.charAt(0)==="~";e=r?e.slice(1):e;var n=e.charAt(0)==="!";e=n?e.slice(1):e;return{name:e,once:r,capture:n,passive:t}});function Vt(e){function t(){var e=arguments;var r=t.fns;if(Array.isArray(r)){var n=r.slice();for(var i=0;i<n.length;i++){n[i].apply(null,e)}}else{return r.apply(null,arguments)}}t.fns=e;return t}function Ht(e,t,r,n,a){var o,s,u,l,c;for(o in e){s=u=e[o];l=t[o];c=qt(o);if(i(u)){"production"!=="production"&&ye('Invalid handler for event "'+c.name+'": got '+String(u),a)}else if(i(l)){if(i(u.fns)){u=e[o]=Vt(u)}r(c.name,u,c.once,c.capture,c.passive,c.params)}else if(u!==l){l.fns=u;e[o]=l}}for(o in t){if(i(e[o])){c=qt(o);n(c.name,t[o],c.capture)}}}function Qt(e,t,r){if(e instanceof Oe){e=e.data.hook||(e.data.hook={})}var n;var s=e[t];function u(){r.apply(this,arguments);b(n.fns,u)}if(i(s)){n=Vt([u])}else{if(a(s.fns)&&o(s.merged)){n=s;n.fns.push(u)}else{n=Vt([s,u])}}n.merged=true;e[t]=n}function Kt(e,t,r){var n=t.options.props;if(i(n)){return}var o={};var s=e.attrs;var u=e.props;if(a(s)||a(u)){for(var l in n){var c=I(l);if(false){var f}zt(o,u,l,c,true)||zt(o,s,l,c,false)}}return o}function zt(e,t,r,n,i){if(a(t)){if(C(t,r)){e[r]=t[r];if(!i){delete t[r]}return true}else if(C(t,n)){e[r]=t[n];if(!i){delete t[n]}return true}}return false}function Gt(e){for(var t=0;t<e.length;t++){if(Array.isArray(e[t])){return Array.prototype.concat.apply([],e)}}return e}function Yt(e){return u(e)?[Pe(e)]:Array.isArray(e)?Xt(e):undefined}function Jt(e){return a(e)&&a(e.text)&&s(e.isComment)}function Xt(e,t){var r=[];var n,s,l,c;for(n=0;n<e.length;n++){s=e[n];if(i(s)||typeof s==="boolean"){continue}l=r.length-1;c=r[l];if(Array.isArray(s)){if(s.length>0){s=Xt(s,(t||"")+"_"+n);if(Jt(s[0])&&Jt(c)){r[l]=Pe(c.text+s[0].text);s.shift()}r.push.apply(r,s)}}else if(u(s)){if(Jt(c)){r[l]=Pe(c.text+s)}else if(s!==""){r.push(Pe(s))}}else{if(Jt(s)&&Jt(c)){r[l]=Pe(c.text+s.text)}else{if(o(e._isVList)&&a(s.tag)&&i(s.key)&&a(t)){s.key="__vlist"+t+"_"+n+"__"}r.push(s)}}}return r}function Zt(e,t){if(e.__esModule||de&&e[Symbol.toStringTag]==="Module"){e=e.default}return l(e)?t.extend(e):e}function er(e,t,r,n,i){var a=Ae();a.asyncFactory=e;a.asyncMeta={data:t,context:r,children:n,tag:i};return a}function tr(e,t,r){if(o(e.error)&&a(e.errorComp)){return e.errorComp}if(a(e.resolved)){return e.resolved}if(o(e.loading)&&a(e.loadingComp)){return e.loadingComp}if(a(e.contexts)){e.contexts.push(r)}else{var n=e.contexts=[r];var s=true;var u=function(){for(var e=0,t=n.length;e<t;e++){n[e].$forceUpdate()}};var c=B(function(r){e.resolved=Zt(r,t);if(!s){u()}});var f=B(function(t){"production"!=="production"&&ye("Failed to resolve async component: "+String(e)+(t?"\nReason: "+t:""));if(a(e.errorComp)){e.error=true;u()}});var h=e(c,f);if(l(h)){if(typeof h.then==="function"){if(i(e.resolved)){h.then(c,f)}}else if(a(h.component)&&typeof h.component.then==="function"){h.component.then(c,f);if(a(h.error)){e.errorComp=Zt(h.error,t)}if(a(h.loading)){e.loadingComp=Zt(h.loading,t);if(h.delay===0){e.loading=true}else{setTimeout(function(){if(i(e.resolved)&&i(e.error)){e.loading=true;u()}},h.delay||200)}}if(a(h.timeout)){setTimeout(function(){if(i(e.resolved)){f(false?undefined:null)}},h.timeout)}}}s=false;return e.loading?e.loadingComp:e.resolved}}function rr(e){return e.isComment&&e.asyncFactory}function nr(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++){var r=e[t];if(a(r)&&(a(r.componentOptions)||rr(r))){return r}}}}function ir(e){e._events=Object.create(null);e._hasHookEvent=false;var t=e.$options._parentListeners;if(t){ur(e,t)}}var ar;function or(e,t,r){if(r){ar.$once(e,t)}else{ar.$on(e,t)}}function sr(e,t){ar.$off(e,t)}function ur(e,t,r){ar=e;Ht(t,r||{},or,sr,e);ar=undefined}function lr(e){var t=/^hook:/;e.prototype.$on=function(e,r){var n=this;var i=this;if(Array.isArray(e)){for(var a=0,o=e.length;a<o;a++){n.$on(e[a],r)}}else{(i._events[e]||(i._events[e]=[])).push(r);if(t.test(e)){i._hasHookEvent=true}}return i};e.prototype.$once=function(e,t){var r=this;function n(){r.$off(e,n);t.apply(r,arguments)}n.fn=t;r.$on(e,n);return r};e.prototype.$off=function(e,t){var r=this;var n=this;if(!arguments.length){n._events=Object.create(null);return n}if(Array.isArray(e)){for(var i=0,a=e.length;i<a;i++){r.$off(e[i],t)}return n}var o=n._events[e];if(!o){return n}if(!t){n._events[e]=null;return n}if(t){var s;var u=o.length;while(u--){s=o[u];if(s===t||s.fn===t){o.splice(u,1);break}}}return n};e.prototype.$emit=function(e){var t=this;if(false){var r}var n=t._events[e];if(n){n=n.length>1?P(n):n;var i=P(arguments,1);for(var a=0,o=n.length;a<o;a++){try{n[a].apply(t,i)}catch(r){yt(r,t,'event handler for "'+e+'"')}}}return t}}function cr(e,t){var r={};if(!e){return r}for(var n=0,i=e.length;n<i;n++){var a=e[n];var o=a.data;if(o&&o.attrs&&o.attrs.slot){delete o.attrs.slot}if((a.context===t||a.fnContext===t)&&o&&o.slot!=null){var s=o.slot;var u=r[s]||(r[s]=[]);if(a.tag==="template"){u.push.apply(u,a.children||[])}else{u.push(a)}}else{(r.default||(r.default=[])).push(a)}}for(var l in r){if(r[l].every(fr)){delete r[l]}}return r}function fr(e){return e.isComment&&!e.asyncFactory||e.text===" "}function hr(e,t){t=t||{};for(var r=0;r<e.length;r++){if(Array.isArray(e[r])){hr(e[r],t)}else{t[e[r].key]=e[r].fn}}return t}var pr=null;var dr=false;function vr(e){var t=e.$options;var r=t.parent;if(r&&!t.abstract){while(r.$options.abstract&&r.$parent){r=r.$parent}r.$children.push(e)}e.$parent=r;e.$root=r?r.$root:e;e.$children=[];e.$refs={};e._watcher=null;e._inactive=null;e._directInactive=false;e._isMounted=false;e._isDestroyed=false;e._isBeingDestroyed=false}function yr(e){e.prototype._update=function(e,t){var r=this;if(r._isMounted){Cr(r,"beforeUpdate")}var n=r.$el;var i=r._vnode;var a=pr;pr=r;r._vnode=e;if(!i){r.$el=r.__patch__(r.$el,e,t,false,r.$options._parentElm,r.$options._refElm);r.$options._parentElm=r.$options._refElm=null}else{r.$el=r.__patch__(i,e)}pr=a;if(n){n.__vue__=null}if(r.$el){r.$el.__vue__=r}if(r.$vnode&&r.$parent&&r.$vnode===r.$parent._vnode){r.$parent.$el=r.$el}};e.prototype.$forceUpdate=function(){var e=this;if(e._watcher){e._watcher.update()}};e.prototype.$destroy=function(){var e=this;if(e._isBeingDestroyed){return}Cr(e,"beforeDestroy");e._isBeingDestroyed=true;var t=e.$parent;if(t&&!t._isBeingDestroyed&&!e.$options.abstract){b(t.$children,e)}if(e._watcher){e._watcher.teardown()}var r=e._watchers.length;while(r--){e._watchers[r].teardown()}if(e._data.__ob__){e._data.__ob__.vmCount--}e._isDestroyed=true;e.__patch__(e._vnode,null);Cr(e,"destroyed");e.$off();if(e.$el){e.$el.__vue__=null}if(e.$vnode){e.$vnode.parent=null}}}function mr(e,t,r){e.$el=t;if(!e.$options.render){e.$options.render=Ae;if(false){}}Cr(e,"beforeMount");var n;if(false){}else{n=function(){e._update(e._render(),r)}}new jr(e,n,M,null,true);r=false;if(e.$vnode==null){e._isMounted=true;Cr(e,"mounted")}return e}function gr(e,t,r,i,a){if(false){}var o=!!(a||e.$options._renderChildren||i.data.scopedSlots||e.$scopedSlots!==n);e.$options._parentVnode=i;e.$vnode=i;if(e._vnode){e._vnode.parent=i}e.$options._renderChildren=a;e.$attrs=i.data.attrs||n;e.$listeners=r||n;if(t&&e.$options.props){$e(false);var s=e._props;var u=e.$options._propKeys||[];for(var l=0;l<u.length;l++){var c=u[l];var f=e.$options.props;s[c]=ut(c,f,t,e)}$e(true);e.$options.propsData=t}r=r||n;var h=e.$options._parentListeners;e.$options._parentListeners=r;ur(e,r,h);if(o){e.$slots=cr(a,i.context);e.$forceUpdate()}if(false){}}function _r(e){while(e&&(e=e.$parent)){if(e._inactive){return true}}return false}function br(e,t){if(t){e._directInactive=false;if(_r(e)){return}}else if(e._directInactive){return}if(e._inactive||e._inactive===null){e._inactive=false;for(var r=0;r<e.$children.length;r++){br(e.$children[r])}Cr(e,"activated")}}function wr(e,t){if(t){e._directInactive=true;if(_r(e)){return}}if(!e._inactive){e._inactive=true;for(var r=0;r<e.$children.length;r++){wr(e.$children[r])}Cr(e,"deactivated")}}function Cr(e,t){xe();var r=e.$options[t];if(r){for(var n=0,i=r.length;n<i;n++){try{r[n].call(e)}catch(r){yt(r,e,t+" hook")}}}if(e._hasHookEvent){e.$emit("hook:"+t)}Ie()}var Er=100;var Tr=[];var kr=[];var Sr={};var xr={};var Ir=false;var Or=false;var Nr=0;function Ar(){Nr=Tr.length=kr.length=0;Sr={};if(false){}Ir=Or=false}function Pr(){Or=true;var e,t;Tr.sort(function(e,t){return e.id-t.id});for(Nr=0;Nr<Tr.length;Nr++){e=Tr[Nr];t=e.id;Sr[t]=null;e.run();if(false){}}var r=kr.slice();var n=Tr.slice();Ar();Mr(r);Dr(n);if(he&&H.devtools){he.emit("flush")}}function Dr(e){var t=e.length;while(t--){var r=e[t];var n=r.vm;if(n._watcher===r&&n._isMounted){Cr(n,"updated")}}}function Rr(e){e._inactive=false;kr.push(e)}function Mr(e){for(var t=0;t<e.length;t++){e[t]._inactive=true;br(e[t],true)}}function Fr(e){var t=e.id;if(Sr[t]==null){Sr[t]=true;if(!Or){Tr.push(e)}else{var r=Tr.length-1;while(r>Nr&&Tr[r].id>e.id){r--}Tr.splice(r+1,0,e)}if(!Ir){Ir=true;Ot(Pr)}}}var Lr=0;var jr=function e(t,r,n,i,a){this.vm=t;if(a){t._watcher=this}t._watchers.push(this);if(i){this.deep=!!i.deep;this.user=!!i.user;this.lazy=!!i.lazy;this.sync=!!i.sync}else{this.deep=this.user=this.lazy=this.sync=false}this.cb=n;this.id=++Lr;this.active=true;this.dirty=this.lazy;this.deps=[];this.newDeps=[];this.depIds=new ve;this.newDepIds=new ve;this.expression=false?undefined:"";if(typeof r==="function"){this.getter=r}else{this.getter=G(r);if(!this.getter){this.getter=function(){};"production"!=="production"&&ye('Failed watching path: "'+r+'" '+"Watcher only accepts simple dot-delimited paths. "+"For full control, use a function instead.",t)}}this.value=this.lazy?undefined:this.get()};jr.prototype.get=function e(){xe(this);var t;var r=this.vm;try{t=this.getter.call(r,r)}catch(e){if(this.user){yt(e,r,'getter for watcher "'+this.expression+'"')}else{throw e}}finally{if(this.deep){Bt(t)}Ie();this.cleanupDeps()}return t};jr.prototype.addDep=function e(t){var r=t.id;if(!this.newDepIds.has(r)){this.newDepIds.add(r);this.newDeps.push(t);if(!this.depIds.has(r)){t.addSub(this)}}};jr.prototype.cleanupDeps=function e(){var t=this;var r=this.deps.length;while(r--){var n=t.deps[r];if(!t.newDepIds.has(n.id)){n.removeSub(t)}}var i=this.depIds;this.depIds=this.newDepIds;this.newDepIds=i;this.newDepIds.clear();i=this.deps;this.deps=this.newDeps;this.newDeps=i;this.newDeps.length=0};jr.prototype.update=function e(){if(this.lazy){this.dirty=true}else if(this.sync){this.run()}else{Fr(this)}};jr.prototype.run=function e(){if(this.active){var t=this.get();if(t!==this.value||l(t)||this.deep){var r=this.value;this.value=t;if(this.user){try{this.cb.call(this.vm,t,r)}catch(e){yt(e,this.vm,'callback for watcher "'+this.expression+'"')}}else{this.cb.call(this.vm,t,r)}}}};jr.prototype.evaluate=function e(){this.value=this.get();this.dirty=false};jr.prototype.depend=function e(){var t=this;var r=this.deps.length;while(r--){t.deps[r].depend()}};jr.prototype.teardown=function e(){var t=this;if(this.active){if(!this.vm._isBeingDestroyed){b(this.vm._watchers,this)}var r=this.deps.length;while(r--){t.deps[r].removeSub(t)}this.active=false}};var $r={enumerable:true,configurable:true,get:M,set:M};function Ur(e,t,r){$r.get=function e(){return this[t][r]};$r.set=function e(n){this[t][r]=n};Object.defineProperty(e,r,$r)}function Br(e){e._watchers=[];var t=e.$options;if(t.props){Wr(e,t.props)}if(t.methods){Gr(e,t.methods)}if(t.data){qr(e)}else{qe(e._data={},true)}if(t.computed){Qr(e,t.computed)}if(t.watch&&t.watch!==se){Yr(e,t.watch)}}function Wr(e,t){var r=e.$options.propsData||{};var n=e._props={};var i=e.$options._propKeys=[];var a=!e.$parent;if(!a){$e(false)}var o=function(a){i.push(a);var o=ut(a,t,r,e);if(false){var s}else{Ve(n,a,o)}if(!(a in e)){Ur(e,"_props",a)}};for(var s in t)o(s);$e(true)}function qr(e){var t=e.$options.data;t=e._data=typeof t==="function"?Vr(t,e):t||{};if(!h(t)){t={};"production"!=="production"&&ye("data functions should return an object:\n"+"https://vuejs.org/v2/guide/components.html#data-Must-Be-a-Function",e)}var r=Object.keys(t);var n=e.$options.props;var i=e.$options.methods;var a=r.length;while(a--){var o=r[a];if(false){}if(n&&C(n,o)){"production"!=="production"&&ye('The data property "'+o+'" is already declared as a prop. '+"Use prop default value instead.",e)}else if(!Q(o)){Ur(e,"_data",o)}}qe(t,true)}function Vr(e,t){xe();try{return e.call(t,t)}catch(e){yt(e,t,"data()");return{}}finally{Ie()}}var Hr={lazy:true};function Qr(e,t){var r=e._computedWatchers=Object.create(null);var n=fe();for(var i in t){var a=t[i];var o=typeof a==="function"?a:a.get;if(false){}if(!n){r[i]=new jr(e,o||M,M,Hr)}if(!(i in e)){Kr(e,i,a)}else if(false){}}}function Kr(e,t,r){var n=!fe();if(typeof r==="function"){$r.get=n?zr(t):r;$r.set=M}else{$r.get=r.get?n&&r.cache!==false?zr(t):r.get:M;$r.set=r.set?r.set:M}if(false){}Object.defineProperty(e,t,$r)}function zr(e){return function t(){var r=this._computedWatchers&&this._computedWatchers[e];if(r){if(r.dirty){r.evaluate()}if(ke.target){r.depend()}return r.value}}}function Gr(e,t){var r=e.$options.props;for(var n in t){if(false){}e[n]=t[n]==null?M:A(t[n],e)}}function Yr(e,t){for(var r in t){var n=t[r];if(Array.isArray(n)){for(var i=0;i<n.length;i++){Jr(e,r,n[i])}}else{Jr(e,r,n)}}}function Jr(e,t,r,n){if(h(r)){n=r;r=r.handler}if(typeof r==="string"){r=e[r]}return e.$watch(t,r,n)}function Xr(e){var t={};t.get=function(){return this._data};var r={};r.get=function(){return this._props};if(false){}Object.defineProperty(e.prototype,"$data",t);Object.defineProperty(e.prototype,"$props",r);e.prototype.$set=He;e.prototype.$delete=Qe;e.prototype.$watch=function(e,t,r){var n=this;if(h(t)){return Jr(n,e,t,r)}r=r||{};r.user=true;var i=new jr(n,e,t,r);if(r.immediate){t.call(n,i.value)}return function e(){i.teardown()}}}function Zr(e){var t=e.$options.provide;if(t){e._provided=typeof t==="function"?t.call(e):t}}function en(e){var t=tn(e.$options.inject,e);if(t){$e(false);Object.keys(t).forEach(function(r){if(false){}else{Ve(e,r,t[r])}});$e(true)}}function tn(e,t){if(e){var r=Object.create(null);var n=de?Reflect.ownKeys(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}):Object.keys(e);for(var i=0;i<n.length;i++){var a=n[i];var o=e[a].from;var s=t;while(s){if(s._provided&&C(s._provided,o)){r[a]=s._provided[o];break}s=s.$parent}if(!s){if("default"in e[a]){var u=e[a].default;r[a]=typeof u==="function"?u.call(t):u}else if(false){}}}return r}}function rn(e,t){var r,n,i,o,s;if(Array.isArray(e)||typeof e==="string"){r=new Array(e.length);for(n=0,i=e.length;n<i;n++){r[n]=t(e[n],n)}}else if(typeof e==="number"){r=new Array(e);for(n=0;n<e;n++){r[n]=t(n+1,n)}}else if(l(e)){o=Object.keys(e);r=new Array(o.length);for(n=0,i=o.length;n<i;n++){s=o[n];r[n]=t(e[s],s,n)}}if(a(r)){r._isVList=true}return r}function nn(e,t,r,n){var i=this.$scopedSlots[e];var a;if(i){r=r||{};if(n){if(false){}r=D(D({},n),r)}a=i(r)||t}else{var o=this.$slots[e];if(o){if(false){}o._rendered=true}a=o||t}var s=r&&r.slot;if(s){return this.$createElement("template",{slot:s},a)}else{return a}}function an(e){return st(this.$options,"filters",e,true)||L}function on(e,t){if(Array.isArray(e)){return e.indexOf(t)===-1}else{return e!==t}}function sn(e,t,r,n,i){var a=H.keyCodes[t]||r;if(i&&n&&!H.keyCodes[t]){return on(i,n)}else if(a){return on(a,e)}else if(n){return I(n)!==t}}function un(e,t,r,n,i){if(r){if(!l(r)){"production"!=="production"&&ye("v-bind without argument expects an Object or Array value",this)}else{if(Array.isArray(r)){r=R(r)}var a;var o=function(o){if(o==="class"||o==="style"||_(o)){a=e}else{var s=e.attrs&&e.attrs.type;a=n||H.mustUseProp(t,s,o)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}if(!(o in a)){a[o]=r[o];if(i){var u=e.on||(e.on={});u["update:"+o]=function(e){r[o]=e}}}};for(var s in r)o(s)}}return e}function ln(e,t){var r=this._staticTrees||(this._staticTrees=[]);var n=r[e];if(n&&!t){return n}n=r[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this);fn(n,"__static__"+e,false);return n}function cn(e,t,r){fn(e,"__once__"+t+(r?"_"+r:""),true);return e}function fn(e,t,r){if(Array.isArray(e)){for(var n=0;n<e.length;n++){if(e[n]&&typeof e[n]!=="string"){hn(e[n],t+"_"+n,r)}}}else{hn(e,t,r)}}function hn(e,t,r){e.isStatic=true;e.key=t;e.isOnce=r}function pn(e,t){if(t){if(!h(t)){"production"!=="production"&&ye("v-on without argument expects an Object value",this)}else{var r=e.on=e.on?D({},e.on):{};for(var n in t){var i=r[n];var a=t[n];r[n]=i?[].concat(i,a):a}}}return e}function dn(e){e._o=cn;e._n=y;e._s=v;e._l=rn;e._t=nn;e._q=$;e._i=U;e._m=ln;e._f=an;e._k=sn;e._b=un;e._v=Pe;e._e=Ae;e._u=hr;e._g=pn}function vn(e,t,r,i,a){var s=a.options;var u;if(C(i,"_uid")){u=Object.create(i);u._original=i}else{u=i;i=i._original}var l=o(s._compiled);var c=!l;this.data=e;this.props=t;this.children=r;this.parent=i;this.listeners=e.on||n;this.injections=tn(s.inject,i);this.slots=function(){return cr(r,i)};if(l){this.$options=s;this.$slots=this.slots();this.$scopedSlots=e.scopedSlots||n}if(s._scopeId){this._c=function(e,t,r,n){var a=xn(u,e,t,r,n,c);if(a&&!Array.isArray(a)){a.fnScopeId=s._scopeId;a.fnContext=i}return a}}else{this._c=function(e,t,r,n){return xn(u,e,t,r,n,c)}}}dn(vn.prototype);function yn(e,t,r,i,o){var s=e.options;var u={};var l=s.props;if(a(l)){for(var c in l){u[c]=ut(c,l,t||n)}}else{if(a(r.attrs)){gn(u,r.attrs)}if(a(r.props)){gn(u,r.props)}}var f=new vn(r,u,o,i,e);var h=s.render.call(null,f._c,f);if(h instanceof Oe){return mn(h,r,f.parent,s)}else if(Array.isArray(h)){var p=Yt(h)||[];var d=new Array(p.length);for(var v=0;v<p.length;v++){d[v]=mn(p[v],r,f.parent,s)}return d}}function mn(e,t,r,n){var i=De(e);i.fnContext=r;i.fnOptions=n;if(t.slot){(i.data||(i.data={})).slot=t.slot}return i}function gn(e,t){for(var r in t){e[k(r)]=t[r]}}var _n={init:function e(t,r,n,i){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var a=t;_n.prepatch(a,a)}else{var o=t.componentInstance=Cn(t,pr,n,i);o.$mount(r?t.elm:undefined,r)}},prepatch:function e(t,r){var n=r.componentOptions;var i=r.componentInstance=t.componentInstance;gr(i,n.propsData,n.listeners,r,n.children)},insert:function e(t){var r=t.context;var n=t.componentInstance;if(!n._isMounted){n._isMounted=true;Cr(n,"mounted")}if(t.data.keepAlive){if(r._isMounted){Rr(n)}else{br(n,true)}}},destroy:function e(t){var r=t.componentInstance;if(!r._isDestroyed){if(!t.data.keepAlive){r.$destroy()}else{wr(r,true)}}}};var bn=Object.keys(_n);function wn(e,t,r,n,s){if(i(e)){return}var u=r.$options._base;if(l(e)){e=u.extend(e)}if(typeof e!=="function"){if(false){}return}var c;if(i(e.cid)){c=e;e=tr(c,u,r);if(e===undefined){return er(c,t,r,n,s)}}t=t||{};Fn(e);if(a(t.model)){Tn(e.options,t)}var f=Kt(t,e,s);if(o(e.options.functional)){return yn(e,f,t,r,n)}var h=t.on;t.on=t.nativeOn;if(o(e.options.abstract)){var p=t.slot;t={};if(p){t.slot=p}}En(t);var d=e.options.name||s;var v=new Oe("vue-component-"+e.cid+(d?"-"+d:""),t,undefined,undefined,undefined,r,{Ctor:e,propsData:f,listeners:h,tag:s,children:n},c);return v}function Cn(e,t,r,n){var i={_isComponent:true,parent:t,_parentVnode:e,_parentElm:r||null,_refElm:n||null};var o=e.data.inlineTemplate;if(a(o)){i.render=o.render;i.staticRenderFns=o.staticRenderFns}return new e.componentOptions.Ctor(i)}function En(e){var t=e.hook||(e.hook={});for(var r=0;r<bn.length;r++){var n=bn[r];t[n]=_n[n]}}function Tn(e,t){var r=e.model&&e.model.prop||"value";var n=e.model&&e.model.event||"input";(t.props||(t.props={}))[r]=t.model.value;var i=t.on||(t.on={});if(a(i[n])){i[n]=[t.model.callback].concat(i[n])}else{i[n]=t.model.callback}}var kn=1;var Sn=2;function xn(e,t,r,n,i,a){if(Array.isArray(r)||u(r)){i=n;n=r;r=undefined}if(o(a)){i=Sn}return In(e,t,r,n,i)}function In(e,t,r,n,i){if(a(r)&&a(r.__ob__)){"production"!=="production"&&ye("Avoid using observed data object as vnode data: "+JSON.stringify(r)+"\n"+"Always create fresh vnode data objects in each render!",e);return Ae()}if(a(r)&&a(r.is)){t=r.is}if(!t){return Ae()}if(false){}if(Array.isArray(n)&&typeof n[0]==="function"){r=r||{};r.scopedSlots={default:n[0]};n.length=0}if(i===Sn){n=Yt(n)}else if(i===kn){n=Gt(n)}var o,s;if(typeof t==="string"){var u;s=e.$vnode&&e.$vnode.ns||H.getTagNamespace(t);if(H.isReservedTag(t)){o=new Oe(H.parsePlatformTagName(t),r,n,undefined,undefined,e)}else if(a(u=st(e.$options,"components",t))){o=wn(u,r,e,n,t)}else{o=new Oe(t,r,n,undefined,undefined,e)}}else{o=wn(t,r,e,n)}if(Array.isArray(o)){return o}else if(a(o)){if(a(s)){On(o,s)}if(a(r)){Nn(r)}return o}else{return Ae()}}function On(e,t,r){e.ns=t;if(e.tag==="foreignObject"){t=undefined;r=true}if(a(e.children)){for(var n=0,s=e.children.length;n<s;n++){var u=e.children[n];if(a(u.tag)&&(i(u.ns)||o(r)&&u.tag!=="svg")){On(u,t,r)}}}}function Nn(e){if(l(e.style)){Bt(e.style)}if(l(e.class)){Bt(e.class)}}function An(e){e._vnode=null;e._staticTrees=null;var t=e.$options;var r=e.$vnode=t._parentVnode;var i=r&&r.context;e.$slots=cr(t._renderChildren,i);e.$scopedSlots=n;e._c=function(t,r,n,i){return xn(e,t,r,n,i,false)};e.$createElement=function(t,r,n,i){return xn(e,t,r,n,i,true)};var a=r&&r.data;if(false){}else{Ve(e,"$attrs",a&&a.attrs||n,null,true);Ve(e,"$listeners",t._parentListeners||n,null,true)}}function Pn(e){dn(e.prototype);e.prototype.$nextTick=function(e){return Ot(e,this)};e.prototype._render=function(){var e=this;var t=e.$options;var r=t.render;var i=t._parentVnode;if(false){var a}if(i){e.$scopedSlots=i.data.scopedSlots||n}e.$vnode=i;var o;try{o=r.call(e._renderProxy,e.$createElement)}catch(t){yt(t,e,"render");if(false){}else{o=e._vnode}}if(!(o instanceof Oe)){if(false){}o=Ae()}o.parent=i;return o}}var Dn=0;function Rn(e){e.prototype._init=function(e){var t=this;t._uid=Dn++;var r,n;if(false){}t._isVue=true;if(e&&e._isComponent){Mn(t,e)}else{t.$options=ot(Fn(t.constructor),e||{},t)}if(false){}else{t._renderProxy=t}t._self=t;vr(t);ir(t);An(t);Cr(t,"beforeCreate");en(t);Br(t);Zr(t);Cr(t,"created");if(false){}if(t.$options.el){t.$mount(t.$options.el)}}}function Mn(e,t){var r=e.$options=Object.create(e.constructor.options);var n=t._parentVnode;r.parent=t.parent;r._parentVnode=n;r._parentElm=t._parentElm;r._refElm=t._refElm;var i=n.componentOptions;r.propsData=i.propsData;r._parentListeners=i.listeners;r._renderChildren=i.children;r._componentTag=i.tag;if(t.render){r.render=t.render;r.staticRenderFns=t.staticRenderFns}}function Fn(e){var t=e.options;if(e.super){var r=Fn(e.super);var n=e.superOptions;if(r!==n){e.superOptions=r;var i=Ln(e);if(i){D(e.extendOptions,i)}t=e.options=ot(r,e.extendOptions);if(t.name){t.components[t.name]=e}}}return t}function Ln(e){var t;var r=e.options;var n=e.extendOptions;var i=e.sealedOptions;for(var a in r){if(r[a]!==i[a]){if(!t){t={}}t[a]=jn(r[a],n[a],i[a])}}return t}function jn(e,t,r){if(Array.isArray(e)){var n=[];r=Array.isArray(r)?r:[r];t=Array.isArray(t)?t:[t];for(var i=0;i<e.length;i++){if(t.indexOf(e[i])>=0||r.indexOf(e[i])<0){n.push(e[i])}}return n}else{return e}}function $n(e){if(false){}this._init(e)}Rn($n);Xr($n);lr($n);yr($n);Pn($n);function Un(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1){return this}var r=P(arguments,1);r.unshift(this);if(typeof e.install==="function"){e.install.apply(e,r)}else if(typeof e==="function"){e.apply(null,r)}t.push(e);return this}}function Bn(e){e.mixin=function(e){this.options=ot(this.options,e);return this}}function Wn(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var r=this;var n=r.cid;var i=e._Ctor||(e._Ctor={});if(i[n]){return i[n]}var a=e.name||r.options.name;if(false){}var o=function e(t){this._init(t)};o.prototype=Object.create(r.prototype);o.prototype.constructor=o;o.cid=t++;o.options=ot(r.options,e);o["super"]=r;if(o.options.props){qn(o)}if(o.options.computed){Vn(o)}o.extend=r.extend;o.mixin=r.mixin;o.use=r.use;q.forEach(function(e){o[e]=r[e]});if(a){o.options.components[a]=o}o.superOptions=r.options;o.extendOptions=e;o.sealedOptions=D({},o.options);i[n]=o;return o}}function qn(e){var t=e.options.props;for(var r in t){Ur(e.prototype,"_props",r)}}function Vn(e){var t=e.options.computed;for(var r in t){Kr(e.prototype,r,t[r])}}function Hn(e){q.forEach(function(t){e[t]=function(e,r){if(!r){return this.options[t+"s"][e]}else{if(false){}if(t==="component"&&h(r)){r.name=r.name||e;r=this.options._base.extend(r)}if(t==="directive"&&typeof r==="function"){r={bind:r,update:r}}this.options[t+"s"][e]=r;return r}}})}function Qn(e){return e&&(e.Ctor.options.name||e.tag)}function Kn(e,t){if(Array.isArray(e)){return e.indexOf(t)>-1}else if(typeof e==="string"){return e.split(",").indexOf(t)>-1}else if(p(e)){return e.test(t)}return false}function zn(e,t){var r=e.cache;var n=e.keys;var i=e._vnode;for(var a in r){var o=r[a];if(o){var s=Qn(o.componentOptions);if(s&&!t(s)){Gn(r,a,n,i)}}}}function Gn(e,t,r,n){var i=e[t];if(i&&(!n||i.tag!==n.tag)){i.componentInstance.$destroy()}e[t]=null;b(r,t)}var Yn=[String,RegExp,Array];var Jn={name:"keep-alive",abstract:true,props:{include:Yn,exclude:Yn,max:[String,Number]},created:function e(){this.cache=Object.create(null);this.keys=[]},destroyed:function e(){var t=this;for(var r in t.cache){Gn(t.cache,r,t.keys)}},mounted:function e(){var t=this;this.$watch("include",function(e){zn(t,function(t){return Kn(e,t)})});this.$watch("exclude",function(e){zn(t,function(t){return!Kn(e,t)})})},render:function e(){var t=this.$slots.default;var r=nr(t);var n=r&&r.componentOptions;if(n){var i=Qn(n);var a=this;var o=a.include;var s=a.exclude;if(o&&(!i||!Kn(o,i))||s&&i&&Kn(s,i)){return r}var u=this;var l=u.cache;var c=u.keys;var f=r.key==null?n.Ctor.cid+(n.tag?"::"+n.tag:""):r.key;if(l[f]){r.componentInstance=l[f].componentInstance;b(c,f);c.push(f)}else{l[f]=r;c.push(f);if(this.max&&c.length>parseInt(this.max)){Gn(l,c[0],c,this._vnode)}}r.data.keepAlive=true}return r||t&&t[0]}};var Xn={KeepAlive:Jn};function Zn(e){var t={};t.get=function(){return H};if(false){}Object.defineProperty(e,"config",t);e.util={warn:ye,extend:D,mergeOptions:ot,defineReactive:Ve};e.set=He;e.delete=Qe;e.nextTick=Ot;e.options=Object.create(null);q.forEach(function(t){e.options[t+"s"]=Object.create(null)});e.options._base=e;D(e.options.components,Xn);Un(e);Bn(e);Wn(e);Hn(e)}Zn($n);Object.defineProperty($n.prototype,"$isServer",{get:fe});Object.defineProperty($n.prototype,"$ssrContext",{get:function e(){return this.$vnode&&this.$vnode.ssrContext}});Object.defineProperty($n,"FunctionalRenderContext",{value:vn});$n.version="2.5.17";var ei=m("style,class");var ti=m("input,textarea,option,select,progress");var ri=function(e,t,r){return r==="value"&&ti(e)&&t!=="button"||r==="selected"&&e==="option"||r==="checked"&&e==="input"||r==="muted"&&e==="video"};var ni=m("contenteditable,draggable,spellcheck");var ii=m("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,"+"default,defaultchecked,defaultmuted,defaultselected,defer,disabled,"+"enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,"+"muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,"+"required,reversed,scoped,seamless,selected,sortable,translate,"+"truespeed,typemustmatch,visible");var ai="http://www.w3.org/1999/xlink";var oi=function(e){return e.charAt(5)===":"&&e.slice(0,5)==="xlink"};var si=function(e){return oi(e)?e.slice(6,e.length):""};var ui=function(e){return e==null||e===false};function li(e){var t=e.data;var r=e;var n=e;while(a(n.componentInstance)){n=n.componentInstance._vnode;if(n&&n.data){t=ci(n.data,t)}}while(a(r=r.parent)){if(r&&r.data){t=ci(t,r.data)}}return fi(t.staticClass,t.class)}function ci(e,t){return{staticClass:hi(e.staticClass,t.staticClass),class:a(e.class)?[e.class,t.class]:t.class}}function fi(e,t){if(a(e)||a(t)){return hi(e,pi(t))}return""}function hi(e,t){return e?t?e+" "+t:e:t||""}function pi(e){if(Array.isArray(e)){return di(e)}if(l(e)){return vi(e)}if(typeof e==="string"){return e}return""}function di(e){var t="";var r;for(var n=0,i=e.length;n<i;n++){if(a(r=pi(e[n]))&&r!==""){if(t){t+=" "}t+=r}}return t}function vi(e){var t="";for(var r in e){if(e[r]){if(t){t+=" "}t+=r}}return t}var yi={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};var mi=m("html,body,base,head,link,meta,style,title,"+"address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,"+"div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,"+"a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,"+"s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,"+"embed,object,param,source,canvas,script,noscript,del,ins,"+"caption,col,colgroup,table,thead,tbody,td,th,tr,"+"button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,"+"output,progress,select,textarea,"+"details,dialog,menu,menuitem,summary,"+"content,element,shadow,template,blockquote,iframe,tfoot");var gi=m("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,"+"foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,"+"polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",true);var _i=function(e){return e==="pre"};var bi=function(e){return mi(e)||gi(e)};function wi(e){if(gi(e)){return"svg"}if(e==="math"){return"math"}}var Ci=Object.create(null);function Ei(e){if(!J){return true}if(bi(e)){return false}e=e.toLowerCase();if(Ci[e]!=null){return Ci[e]}var t=document.createElement(e);if(e.indexOf("-")>-1){return Ci[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement}else{return Ci[e]=/HTMLUnknownElement/.test(t.toString())}}var Ti=m("text,number,password,search,email,tel,url");function ki(e){if(typeof e==="string"){var t=document.querySelector(e);if(!t){"production"!=="production"&&ye("Cannot find element: "+e);return document.createElement("div")}return t}else{return e}}function Si(e,t){var r=document.createElement(e);if(e!=="select"){return r}if(t.data&&t.data.attrs&&t.data.attrs.multiple!==undefined){r.setAttribute("multiple","multiple")}return r}function xi(e,t){return document.createElementNS(yi[e],t)}function Ii(e){return document.createTextNode(e)}function Oi(e){return document.createComment(e)}function Ni(e,t,r){e.insertBefore(t,r)}function Ai(e,t){e.removeChild(t)}function Pi(e,t){e.appendChild(t)}function Di(e){return e.parentNode}function Ri(e){return e.nextSibling}function Mi(e){return e.tagName}function Fi(e,t){e.textContent=t}function Li(e,t){e.setAttribute(t,"")}var ji=Object.freeze({createElement:Si,createElementNS:xi,createTextNode:Ii,createComment:Oi,insertBefore:Ni,removeChild:Ai,appendChild:Pi,parentNode:Di,nextSibling:Ri,tagName:Mi,setTextContent:Fi,setStyleScope:Li});var $i={create:function e(t,r){Ui(r)},update:function e(t,r){if(t.data.ref!==r.data.ref){Ui(t,true);Ui(r)}},destroy:function e(t){Ui(t,true)}};function Ui(e,t){var r=e.data.ref;if(!a(r)){return}var n=e.context;var i=e.componentInstance||e.elm;var o=n.$refs;if(t){if(Array.isArray(o[r])){b(o[r],i)}else if(o[r]===i){o[r]=undefined}}else{if(e.data.refInFor){if(!Array.isArray(o[r])){o[r]=[i]}else if(o[r].indexOf(i)<0){o[r].push(i)}}else{o[r]=i}}}var Bi=new Oe("",{},[]);var Wi=["create","activate","update","remove","destroy"];function qi(e,t){return e.key===t.key&&(e.tag===t.tag&&e.isComment===t.isComment&&a(e.data)===a(t.data)&&Vi(e,t)||o(e.isAsyncPlaceholder)&&e.asyncFactory===t.asyncFactory&&i(t.asyncFactory.error))}function Vi(e,t){if(e.tag!=="input"){return true}var r;var n=a(r=e.data)&&a(r=r.attrs)&&r.type;var i=a(r=t.data)&&a(r=r.attrs)&&r.type;return n===i||Ti(n)&&Ti(i)}function Hi(e,t,r){var n,i;var o={};for(n=t;n<=r;++n){i=e[n].key;if(a(i)){o[i]=n}}return o}function Qi(e){var t,r;var n={};var s=e.modules;var l=e.nodeOps;for(t=0;t<Wi.length;++t){n[Wi[t]]=[];for(r=0;r<s.length;++r){if(a(s[r][Wi[t]])){n[Wi[t]].push(s[r][Wi[t]])}}}function c(e){return new Oe(l.tagName(e).toLowerCase(),{},[],undefined,e)}function f(e,t){function r(){if(--r.listeners===0){h(e)}}r.listeners=t;return r}function h(e){var t=l.parentNode(e);if(a(t)){l.removeChild(t,e)}}function d(e,t){return!t&&!e.ns&&!(H.ignoredElements.length&&H.ignoredElements.some(function(t){return p(t)?t.test(e.tag):t===e.tag}))&&H.isUnknownElement(e.tag)}var v=0;function y(e,t,r,n,i,s,u){if(a(e.elm)&&a(s)){e=s[u]=De(e)}e.isRootInsert=!i;if(g(e,t,r,n)){return}var c=e.data;var f=e.children;var h=e.tag;if(a(h)){if(false){}e.elm=e.ns?l.createElementNS(e.ns,h):l.createElement(h,e);k(e);{C(e,f,t);if(a(c)){T(e,t)}w(r,e.elm,n)}if(false){}}else if(o(e.isComment)){e.elm=l.createComment(e.text);w(r,e.elm,n)}else{e.elm=l.createTextNode(e.text);w(r,e.elm,n)}}function g(e,t,r,n){var i=e.data;if(a(i)){var s=a(e.componentInstance)&&i.keepAlive;if(a(i=i.hook)&&a(i=i.init)){i(e,false,r,n)}if(a(e.componentInstance)){_(e,t);if(o(s)){b(e,t,r,n)}return true}}}function _(e,t){if(a(e.data.pendingInsert)){t.push.apply(t,e.data.pendingInsert);e.data.pendingInsert=null}e.elm=e.componentInstance.$el;if(E(e)){T(e,t);k(e)}else{Ui(e);t.push(e)}}function b(e,t,r,i){var o;var s=e;while(s.componentInstance){s=s.componentInstance._vnode;if(a(o=s.data)&&a(o=o.transition)){for(o=0;o<n.activate.length;++o){n.activate[o](Bi,s)}t.push(s);break}}w(r,e.elm,i)}function w(e,t,r){if(a(e)){if(a(r)){if(r.parentNode===e){l.insertBefore(e,t,r)}}else{l.appendChild(e,t)}}}function C(e,t,r){if(Array.isArray(t)){if(false){}for(var n=0;n<t.length;++n){y(t[n],r,e.elm,null,true,t,n)}}else if(u(e.text)){l.appendChild(e.elm,l.createTextNode(String(e.text)))}}function E(e){while(e.componentInstance){e=e.componentInstance._vnode}return a(e.tag)}function T(e,r){for(var i=0;i<n.create.length;++i){n.create[i](Bi,e)}t=e.data.hook;if(a(t)){if(a(t.create)){t.create(Bi,e)}if(a(t.insert)){r.push(e)}}}function k(e){var t;if(a(t=e.fnScopeId)){l.setStyleScope(e.elm,t)}else{var r=e;while(r){if(a(t=r.context)&&a(t=t.$options._scopeId)){l.setStyleScope(e.elm,t)}r=r.parent}}if(a(t=pr)&&t!==e.context&&t!==e.fnContext&&a(t=t.$options._scopeId)){l.setStyleScope(e.elm,t)}}function S(e,t,r,n,i,a){for(;n<=i;++n){y(r[n],a,e,t,false,r,n)}}function x(e){var t,r;var i=e.data;if(a(i)){if(a(t=i.hook)&&a(t=t.destroy)){t(e)}for(t=0;t<n.destroy.length;++t){n.destroy[t](e)}}if(a(t=e.children)){for(r=0;r<e.children.length;++r){x(e.children[r])}}}function I(e,t,r,n){for(;r<=n;++r){var i=t[r];if(a(i)){if(a(i.tag)){O(i);x(i)}else{h(i.elm)}}}}function O(e,t){if(a(t)||a(e.data)){var r;var i=n.remove.length+1;if(a(t)){t.listeners+=i}else{t=f(e.elm,i)}if(a(r=e.componentInstance)&&a(r=r._vnode)&&a(r.data)){O(r,t)}for(r=0;r<n.remove.length;++r){n.remove[r](e,t)}if(a(r=e.data.hook)&&a(r=r.remove)){r(e,t)}else{t()}}else{h(e.elm)}}function N(e,t,r,n,o){var s=0;var u=0;var c=t.length-1;var f=t[0];var h=t[c];var p=r.length-1;var d=r[0];var v=r[p];var m,g,_,b;var w=!o;if(false){}while(s<=c&&u<=p){if(i(f)){f=t[++s]}else if(i(h)){h=t[--c]}else if(qi(f,d)){D(f,d,n);f=t[++s];d=r[++u]}else if(qi(h,v)){D(h,v,n);h=t[--c];v=r[--p]}else if(qi(f,v)){D(f,v,n);w&&l.insertBefore(e,f.elm,l.nextSibling(h.elm));f=t[++s];v=r[--p]}else if(qi(h,d)){D(h,d,n);w&&l.insertBefore(e,h.elm,f.elm);h=t[--c];d=r[++u]}else{if(i(m)){m=Hi(t,s,c)}g=a(d.key)?m[d.key]:P(d,t,s,c);if(i(g)){y(d,n,e,f.elm,false,r,u)}else{_=t[g];if(qi(_,d)){D(_,d,n);t[g]=undefined;w&&l.insertBefore(e,_.elm,f.elm)}else{y(d,n,e,f.elm,false,r,u)}}d=r[++u]}}if(s>c){b=i(r[p+1])?null:r[p+1].elm;S(e,b,r,u,p,n)}else if(u>p){I(e,t,s,c)}}function A(e){var t={};for(var r=0;r<e.length;r++){var n=e[r];var i=n.key;if(a(i)){if(t[i]){ye("Duplicate keys detected: '"+i+"'. This may cause an update error.",n.context)}else{t[i]=true}}}}function P(e,t,r,n){for(var i=r;i<n;i++){var o=t[i];if(a(o)&&qi(e,o)){return i}}}function D(e,t,r,s){if(e===t){return}var u=t.elm=e.elm;if(o(e.isAsyncPlaceholder)){if(a(t.asyncFactory.resolved)){L(e.elm,t,r)}else{t.isAsyncPlaceholder=true}return}if(o(t.isStatic)&&o(e.isStatic)&&t.key===e.key&&(o(t.isCloned)||o(t.isOnce))){t.componentInstance=e.componentInstance;return}var c;var f=t.data;if(a(f)&&a(c=f.hook)&&a(c=c.prepatch)){c(e,t)}var h=e.children;var p=t.children;if(a(f)&&E(t)){for(c=0;c<n.update.length;++c){n.update[c](e,t)}if(a(c=f.hook)&&a(c=c.update)){c(e,t)}}if(i(t.text)){if(a(h)&&a(p)){if(h!==p){N(u,h,p,r,s)}}else if(a(p)){if(a(e.text)){l.setTextContent(u,"")}S(u,null,p,0,p.length-1,r)}else if(a(h)){I(u,h,0,h.length-1)}else if(a(e.text)){l.setTextContent(u,"")}}else if(e.text!==t.text){l.setTextContent(u,t.text)}if(a(f)){if(a(c=f.hook)&&a(c=c.postpatch)){c(e,t)}}}function R(e,t,r){if(o(r)&&a(e.parent)){e.parent.data.pendingInsert=t}else{for(var n=0;n<t.length;++n){t[n].data.hook.insert(t[n])}}}var M=false;var F=m("attrs,class,staticClass,staticStyle,key");function L(e,t,r,n){var i;var s=t.tag;var u=t.data;var l=t.children;n=n||u&&u.pre;t.elm=e;if(o(t.isComment)&&a(t.asyncFactory)){t.isAsyncPlaceholder=true;return true}if(false){}if(a(u)){if(a(i=u.hook)&&a(i=i.init)){i(t,true)}if(a(i=t.componentInstance)){_(t,r);return true}}if(a(s)){if(a(l)){if(!e.hasChildNodes()){C(t,l,r)}else{if(a(i=u)&&a(i=i.domProps)&&a(i=i.innerHTML)){if(i!==e.innerHTML){if(false){}return false}}else{var c=true;var f=e.firstChild;for(var h=0;h<l.length;h++){if(!f||!L(f,l[h],r,n)){c=false;break}f=f.nextSibling}if(!c||f){if(false){}return false}}}}if(a(u)){var p=false;for(var d in u){if(!F(d)){p=true;T(t,r);break}}if(!p&&u["class"]){Bt(u["class"])}}}else if(e.data!==t.text){e.data=t.text}return true}function j(e,t,r){if(a(t.tag)){return t.tag.indexOf("vue-component")===0||!d(t,r)&&t.tag.toLowerCase()===(e.tagName&&e.tagName.toLowerCase())}else{return e.nodeType===(t.isComment?8:3)}}return function e(t,r,s,u,f,h){if(i(r)){if(a(t)){x(t)}return}var p=false;var d=[];if(i(t)){p=true;y(r,d,f,h)}else{var v=a(t.nodeType);if(!v&&qi(t,r)){D(t,r,d,u)}else{if(v){if(t.nodeType===1&&t.hasAttribute(W)){t.removeAttribute(W);s=true}if(o(s)){if(L(t,r,d)){R(r,d,true);return t}else if(false){}}t=c(t)}var m=t.elm;var g=l.parentNode(m);y(r,d,m._leaveCb?null:g,l.nextSibling(m));if(a(r.parent)){var _=r.parent;var b=E(r);while(_){for(var w=0;w<n.destroy.length;++w){n.destroy[w](_)}_.elm=r.elm;if(b){for(var C=0;C<n.create.length;++C){n.create[C](Bi,_)}var T=_.data.hook.insert;if(T.merged){for(var k=1;k<T.fns.length;k++){T.fns[k]()}}}else{Ui(_)}_=_.parent}}if(a(g)){I(g,[t],0,0)}else if(a(t.tag)){x(t)}}}R(r,d,p);return r.elm}}var Ki={create:zi,update:zi,destroy:function e(t){zi(t,Bi)}};function zi(e,t){if(e.data.directives||t.data.directives){Gi(e,t)}}function Gi(e,t){var r=e===Bi;var n=t===Bi;var i=Ji(e.data.directives,e.context);var a=Ji(t.data.directives,t.context);var o=[];var s=[];var u,l,c;for(u in a){l=i[u];c=a[u];if(!l){Zi(c,"bind",t,e);if(c.def&&c.def.inserted){o.push(c)}}else{c.oldValue=l.value;Zi(c,"update",t,e);if(c.def&&c.def.componentUpdated){s.push(c)}}}if(o.length){var f=function(){for(var r=0;r<o.length;r++){Zi(o[r],"inserted",t,e)}};if(r){Qt(t,"insert",f)}else{f()}}if(s.length){Qt(t,"postpatch",function(){for(var r=0;r<s.length;r++){Zi(s[r],"componentUpdated",t,e)}})}if(!r){for(u in i){if(!a[u]){Zi(i[u],"unbind",e,e,n)}}}}var Yi=Object.create(null);function Ji(e,t){var r=Object.create(null);if(!e){return r}var n,i;for(n=0;n<e.length;n++){i=e[n];if(!i.modifiers){i.modifiers=Yi}r[Xi(i)]=i;i.def=st(t.$options,"directives",i.name,true)}return r}function Xi(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function Zi(e,t,r,n,i){var a=e.def&&e.def[t];if(a){try{a(r.elm,e,r,n,i)}catch(n){yt(n,r.context,"directive "+e.name+" "+t+" hook")}}}var ea=[$i,Ki];function ta(e,t){var r=t.componentOptions;if(a(r)&&r.Ctor.options.inheritAttrs===false){return}if(i(e.data.attrs)&&i(t.data.attrs)){return}var n,o,s;var u=t.elm;var l=e.data.attrs||{};var c=t.data.attrs||{};if(a(c.__ob__)){c=t.data.attrs=D({},c)}for(n in c){o=c[n];s=l[n];if(s!==o){ra(u,n,o)}}if((te||ne)&&c.value!==l.value){ra(u,"value",c.value)}for(n in l){if(i(c[n])){if(oi(n)){u.removeAttributeNS(ai,si(n))}else if(!ni(n)){u.removeAttribute(n)}}}}function ra(e,t,r){if(e.tagName.indexOf("-")>-1){na(e,t,r)}else if(ii(t)){if(ui(r)){e.removeAttribute(t)}else{r=t==="allowfullscreen"&&e.tagName==="EMBED"?"true":t;e.setAttribute(t,r)}}else if(ni(t)){e.setAttribute(t,ui(r)||r==="false"?"false":"true")}else if(oi(t)){if(ui(r)){e.removeAttributeNS(ai,si(t))}else{e.setAttributeNS(ai,t,r)}}else{na(e,t,r)}}function na(e,t,r){if(ui(r)){e.removeAttribute(t)}else{if(te&&!re&&e.tagName==="TEXTAREA"&&t==="placeholder"&&!e.__ieph){var n=function(t){t.stopImmediatePropagation();e.removeEventListener("input",n)};e.addEventListener("input",n);e.__ieph=true}e.setAttribute(t,r)}}var ia={create:ta,update:ta};function aa(e,t){var r=t.elm;var n=t.data;var o=e.data;if(i(n.staticClass)&&i(n.class)&&(i(o)||i(o.staticClass)&&i(o.class))){return}var s=li(t);var u=r._transitionClasses;if(a(u)){s=hi(s,pi(u))}if(s!==r._prevClass){r.setAttribute("class",s);r._prevClass=s}}var oa={create:aa,update:aa};var sa=/[\w).+\-_$\]]/;function ua(e){var t=false;var r=false;var n=false;var i=false;var a=0;var o=0;var s=0;var u=0;var l,c,f,h,p;for(f=0;f<e.length;f++){c=l;l=e.charCodeAt(f);if(t){if(l===39&&c!==92){t=false}}else if(r){if(l===34&&c!==92){r=false}}else if(n){if(l===96&&c!==92){n=false}}else if(i){if(l===47&&c!==92){i=false}}else if(l===124&&e.charCodeAt(f+1)!==124&&e.charCodeAt(f-1)!==124&&!a&&!o&&!s){if(h===undefined){u=f+1;h=e.slice(0,f).trim()}else{y()}}else{switch(l){case 34:r=true;break;case 39:t=true;break;case 96:n=true;break;case 40:s++;break;case 41:s--;break;case 91:o++;break;case 93:o--;break;case 123:a++;break;case 125:a--;break}if(l===47){var d=f-1;var v=void 0;for(;d>=0;d--){v=e.charAt(d);if(v!==" "){break}}if(!v||!sa.test(v)){i=true}}}}if(h===undefined){h=e.slice(0,f).trim()}else if(u!==0){y()}function y(){(p||(p=[])).push(e.slice(u,f).trim());u=f+1}if(p){for(f=0;f<p.length;f++){h=la(h,p[f])}}return h}function la(e,t){var r=t.indexOf("(");if(r<0){return'_f("'+t+'")('+e+")"}else{var n=t.slice(0,r);var i=t.slice(r+1);return'_f("'+n+'")('+e+(i!==")"?","+i:i)}}function ca(e){console.error("[Vue compiler]: "+e)}function fa(e,t){return e?e.map(function(e){return e[t]}).filter(function(e){return e}):[]}function ha(e,t,r){(e.props||(e.props=[])).push({name:t,value:r});e.plain=false}function pa(e,t,r){(e.attrs||(e.attrs=[])).push({name:t,value:r});e.plain=false}function da(e,t,r){e.attrsMap[t]=r;e.attrsList.push({name:t,value:r})}function va(e,t,r,n,i,a){(e.directives||(e.directives=[])).push({name:t,rawName:r,value:n,arg:i,modifiers:a});e.plain=false}function ya(e,t,r,i,a,o){i=i||n;if(false){}if(i.capture){delete i.capture;t="!"+t}if(i.once){delete i.once;t="~"+t}if(i.passive){delete i.passive;t="&"+t}if(t==="click"){if(i.right){t="contextmenu";delete i.right}else if(i.middle){t="mouseup"}}var s;if(i.native){delete i.native;s=e.nativeEvents||(e.nativeEvents={})}else{s=e.events||(e.events={})}var u={value:r.trim()};if(i!==n){u.modifiers=i}var l=s[t];if(Array.isArray(l)){a?l.unshift(u):l.push(u)}else if(l){s[t]=a?[u,l]:[l,u]}else{s[t]=u}e.plain=false}function ma(e,t,r){var n=ga(e,":"+t)||ga(e,"v-bind:"+t);if(n!=null){return ua(n)}else if(r!==false){var i=ga(e,t);if(i!=null){return JSON.stringify(i)}}}function ga(e,t,r){var n;if((n=e.attrsMap[t])!=null){var i=e.attrsList;for(var a=0,o=i.length;a<o;a++){if(i[a].name===t){i.splice(a,1);break}}}if(r){delete e.attrsMap[t]}return n}function _a(e,t,r){var n=r||{};var i=n.number;var a=n.trim;var o="$$v";var s=o;if(a){s="(typeof "+o+" === 'string'"+"? "+o+".trim()"+": "+o+")"}if(i){s="_n("+s+")"}var u=ba(t,s);e.model={value:"("+t+")",expression:'"'+t+'"',callback:"function ("+o+") {"+u+"}"}}function ba(e,t){var r=xa(e);if(r.key===null){return e+"="+t}else{return"$set("+r.exp+", "+r.key+", "+t+")"}}var wa;var Ca;var Ea;var Ta;var ka;var Sa;function xa(e){e=e.trim();wa=e.length;if(e.indexOf("[")<0||e.lastIndexOf("]")<wa-1){Ta=e.lastIndexOf(".");if(Ta>-1){return{exp:e.slice(0,Ta),key:'"'+e.slice(Ta+1)+'"'}}else{return{exp:e,key:null}}}Ca=e;Ta=ka=Sa=0;while(!Oa()){Ea=Ia();if(Na(Ea)){Pa(Ea)}else if(Ea===91){Aa(Ea)}}return{exp:e.slice(0,ka),key:e.slice(ka+1,Sa)}}function Ia(){return Ca.charCodeAt(++Ta)}function Oa(){return Ta>=wa}function Na(e){return e===34||e===39}function Aa(e){var t=1;ka=Ta;while(!Oa()){e=Ia();if(Na(e)){Pa(e);continue}if(e===91){t++}if(e===93){t--}if(t===0){Sa=Ta;break}}}function Pa(e){var t=e;while(!Oa()){e=Ia();if(e===t){break}}}var Da;var Ra="__r";var Ma="__c";function Fa(e,t,r){Da=r;var n=t.value;var i=t.modifiers;var a=e.tag;var o=e.attrsMap.type;if(false){}if(e.component){_a(e,n,i);return false}else if(a==="select"){$a(e,n,i)}else if(a==="input"&&o==="checkbox"){La(e,n,i)}else if(a==="input"&&o==="radio"){ja(e,n,i)}else if(a==="input"||a==="textarea"){Ua(e,n,i)}else if(!H.isReservedTag(a)){_a(e,n,i);return false}else if(false){}return true}function La(e,t,r){var n=r&&r.number;var i=ma(e,"value")||"null";var a=ma(e,"true-value")||"true";var o=ma(e,"false-value")||"false";ha(e,"checked","Array.isArray("+t+")"+"?_i("+t+","+i+")>-1"+(a==="true"?":("+t+")":":_q("+t+","+a+")"));ya(e,"change","var $$a="+t+","+"$$el=$event.target,"+"$$c=$$el.checked?("+a+"):("+o+");"+"if(Array.isArray($$a)){"+"var $$v="+(n?"_n("+i+")":i)+","+"$$i=_i($$a,$$v);"+"if($$el.checked){$$i<0&&("+ba(t,"$$a.concat([$$v])")+")}"+"else{$$i>-1&&("+ba(t,"$$a.slice(0,$$i).concat($$a.slice($$i+1))")+")}"+"}else{"+ba(t,"$$c")+"}",null,true)}function ja(e,t,r){var n=r&&r.number;var i=ma(e,"value")||"null";i=n?"_n("+i+")":i;ha(e,"checked","_q("+t+","+i+")");ya(e,"change",ba(t,i),null,true)}function $a(e,t,r){var n=r&&r.number;var i="Array.prototype.filter"+".call($event.target.options,function(o){return o.selected})"+'.map(function(o){var val = "_value" in o ? o._value : o.value;'+"return "+(n?"_n(val)":"val")+"})";var a="$event.target.multiple ? $$selectedVal : $$selectedVal[0]";var o="var $$selectedVal = "+i+";";o=o+" "+ba(t,a);ya(e,"change",o,null,true)}function Ua(e,t,r){var n=e.attrsMap.type;if(false){var i,a,o}var s=r||{};var u=s.lazy;var l=s.number;var c=s.trim;var f=!u&&n!=="range";var h=u?"change":n==="range"?Ra:"input";var p="$event.target.value";if(c){p="$event.target.value.trim()"}if(l){p="_n("+p+")"}var d=ba(t,p);if(f){d="if($event.target.composing)return;"+d}ha(e,"value","("+t+")");ya(e,h,d,null,true);if(c||l){ya(e,"blur","$forceUpdate()")}}function Ba(e){if(a(e[Ra])){var t=te?"change":"input";e[t]=[].concat(e[Ra],e[t]||[]);delete e[Ra]}if(a(e[Ma])){e.change=[].concat(e[Ma],e.change||[]);delete e[Ma]}}var Wa;function qa(e,t,r){var n=Wa;return function i(){var a=e.apply(null,arguments);if(a!==null){Ha(t,i,r,n)}}}function Va(e,t,r,n,i){t=It(t);if(r){t=qa(t,e,n)}Wa.addEventListener(e,t,ue?{capture:n,passive:i}:n)}function Ha(e,t,r,n){(n||Wa).removeEventListener(e,t._withTask||t,r)}function Qa(e,t){if(i(e.data.on)&&i(t.data.on)){return}var r=t.data.on||{};var n=e.data.on||{};Wa=t.elm;Ba(r);Ht(r,n,Va,Ha,t.context);Wa=undefined}var Ka={create:Qa,update:Qa};function za(e,t){if(i(e.data.domProps)&&i(t.data.domProps)){return}var r,n;var o=t.elm;var s=e.data.domProps||{};var u=t.data.domProps||{};if(a(u.__ob__)){u=t.data.domProps=D({},u)}for(r in s){if(i(u[r])){o[r]=""}}for(r in u){n=u[r];if(r==="textContent"||r==="innerHTML"){if(t.children){t.children.length=0}if(n===s[r]){continue}if(o.childNodes.length===1){o.removeChild(o.childNodes[0])}}if(r==="value"){o._value=n;var l=i(n)?"":String(n);if(Ga(o,l)){o.value=l}}else{o[r]=n}}}function Ga(e,t){return!e.composing&&(e.tagName==="OPTION"||Ya(e,t)||Ja(e,t))}function Ya(e,t){var r=true;try{r=document.activeElement!==e}catch(e){}return r&&e.value!==t}function Ja(e,t){var r=e.value;var n=e._vModifiers;if(a(n)){if(n.lazy){return false}if(n.number){return y(r)!==y(t)}if(n.trim){return r.trim()!==t.trim()}}return r!==t}var Xa={create:za,update:za};var Za=E(function(e){var t={};var r=/;(?![^(]*\))/g;var n=/:(.+)/;e.split(r).forEach(function(e){if(e){var r=e.split(n);r.length>1&&(t[r[0].trim()]=r[1].trim())}});return t});function eo(e){var t=to(e.style);return e.staticStyle?D(e.staticStyle,t):t}function to(e){if(Array.isArray(e)){return R(e)}if(typeof e==="string"){return Za(e)}return e}function ro(e,t){var r={};var n;if(t){var i=e;while(i.componentInstance){i=i.componentInstance._vnode;if(i&&i.data&&(n=eo(i.data))){D(r,n)}}}if(n=eo(e.data)){D(r,n)}var a=e;while(a=a.parent){if(a.data&&(n=eo(a.data))){D(r,n)}}return r}var no=/^--/;var io=/\s*!important$/;var ao=function(e,t,r){if(no.test(t)){e.style.setProperty(t,r)}else if(io.test(r)){e.style.setProperty(t,r.replace(io,""),"important")}else{var n=uo(t);if(Array.isArray(r)){for(var i=0,a=r.length;i<a;i++){e.style[n]=r[i]}}else{e.style[n]=r}}};var oo=["Webkit","Moz","ms"];var so;var uo=E(function(e){so=so||document.createElement("div").style;e=k(e);if(e!=="filter"&&e in so){return e}var t=e.charAt(0).toUpperCase()+e.slice(1);for(var r=0;r<oo.length;r++){var n=oo[r]+t;if(n in so){return n}}});function lo(e,t){var r=t.data;var n=e.data;if(i(r.staticStyle)&&i(r.style)&&i(n.staticStyle)&&i(n.style)){return}var o,s;var u=t.elm;var l=n.staticStyle;var c=n.normalizedStyle||n.style||{};var f=l||c;var h=to(t.data.style)||{};t.data.normalizedStyle=a(h.__ob__)?D({},h):h;var p=ro(t,true);for(s in f){if(i(p[s])){ao(u,s,"")}}for(s in p){o=p[s];if(o!==f[s]){ao(u,s,o==null?"":o)}}}var co={create:lo,update:lo};function fo(e,t){if(!t||!(t=t.trim())){return}if(e.classList){if(t.indexOf(" ")>-1){t.split(/\s+/).forEach(function(t){return e.classList.add(t)})}else{e.classList.add(t)}}else{var r=" "+(e.getAttribute("class")||"")+" ";if(r.indexOf(" "+t+" ")<0){e.setAttribute("class",(r+t).trim())}}}function ho(e,t){if(!t||!(t=t.trim())){return}if(e.classList){if(t.indexOf(" ")>-1){t.split(/\s+/).forEach(function(t){return e.classList.remove(t)})}else{e.classList.remove(t)}if(!e.classList.length){e.removeAttribute("class")}}else{var r=" "+(e.getAttribute("class")||"")+" ";var n=" "+t+" ";while(r.indexOf(n)>=0){r=r.replace(n," ")}r=r.trim();if(r){e.setAttribute("class",r)}else{e.removeAttribute("class")}}}function po(e){if(!e){return}if(typeof e==="object"){var t={};if(e.css!==false){D(t,vo(e.name||"v"))}D(t,e);return t}else if(typeof e==="string"){return vo(e)}}var vo=E(function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}});var yo=J&&!re;var mo="transition";var go="animation";var _o="transition";var bo="transitionend";var wo="animation";var Co="animationend";if(yo){if(window.ontransitionend===undefined&&window.onwebkittransitionend!==undefined){_o="WebkitTransition";bo="webkitTransitionEnd"}if(window.onanimationend===undefined&&window.onwebkitanimationend!==undefined){wo="WebkitAnimation";Co="webkitAnimationEnd"}}var Eo=J?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function To(e){Eo(function(){Eo(e)})}function ko(e,t){var r=e._transitionClasses||(e._transitionClasses=[]);if(r.indexOf(t)<0){r.push(t);fo(e,t)}}function So(e,t){if(e._transitionClasses){b(e._transitionClasses,t)}ho(e,t)}function xo(e,t,r){var n=Oo(e,t);var i=n.type;var a=n.timeout;var o=n.propCount;if(!i){return r()}var s=i===mo?bo:Co;var u=0;var l=function(){e.removeEventListener(s,c);r()};var c=function(t){if(t.target===e){if(++u>=o){l()}}};setTimeout(function(){if(u<o){l()}},a+1);e.addEventListener(s,c)}var Io=/\b(transform|all)(,|$)/;function Oo(e,t){var r=window.getComputedStyle(e);var n=r[_o+"Delay"].split(", ");var i=r[_o+"Duration"].split(", ");var a=No(n,i);var o=r[wo+"Delay"].split(", ");var s=r[wo+"Duration"].split(", ");var u=No(o,s);var l;var c=0;var f=0;if(t===mo){if(a>0){l=mo;c=a;f=i.length}}else if(t===go){if(u>0){l=go;c=u;f=s.length}}else{c=Math.max(a,u);l=c>0?a>u?mo:go:null;f=l?l===mo?i.length:s.length:0}var h=l===mo&&Io.test(r[_o+"Property"]);return{type:l,timeout:c,propCount:f,hasTransform:h}}function No(e,t){while(e.length<t.length){e=e.concat(e)}return Math.max.apply(null,t.map(function(t,r){return Ao(t)+Ao(e[r])}))}function Ao(e){return Number(e.slice(0,-1))*1e3}function Po(e,t){var r=e.elm;if(a(r._leaveCb)){r._leaveCb.cancelled=true;r._leaveCb()}var n=po(e.data.transition);if(i(n)){return}if(a(r._enterCb)||r.nodeType!==1){return}var o=n.css;var s=n.type;var u=n.enterClass;var c=n.enterToClass;var f=n.enterActiveClass;var h=n.appearClass;var p=n.appearToClass;var d=n.appearActiveClass;var v=n.beforeEnter;var m=n.enter;var g=n.afterEnter;var _=n.enterCancelled;var b=n.beforeAppear;var w=n.appear;var C=n.afterAppear;var E=n.appearCancelled;var T=n.duration;var k=pr;var S=pr.$vnode;while(S&&S.parent){S=S.parent;k=S.context}var x=!k._isMounted||!e.isRootInsert;if(x&&!w&&w!==""){return}var I=x&&h?h:u;var O=x&&d?d:f;var N=x&&p?p:c;var A=x?b||v:v;var P=x?typeof w==="function"?w:m:m;var D=x?C||g:g;var R=x?E||_:_;var M=y(l(T)?T.enter:T);if(false){}var F=o!==false&&!re;var L=Fo(P);var j=r._enterCb=B(function(){if(F){So(r,N);So(r,O)}if(j.cancelled){if(F){So(r,I)}R&&R(r)}else{D&&D(r)}r._enterCb=null});if(!e.data.show){Qt(e,"insert",function(){var t=r.parentNode;var n=t&&t._pending&&t._pending[e.key];if(n&&n.tag===e.tag&&n.elm._leaveCb){n.elm._leaveCb()}P&&P(r,j)})}A&&A(r);if(F){ko(r,I);ko(r,O);To(function(){So(r,I);if(!j.cancelled){ko(r,N);if(!L){if(Mo(M)){setTimeout(j,M)}else{xo(r,s,j)}}}})}if(e.data.show){t&&t();P&&P(r,j)}if(!F&&!L){j()}}function Do(e,t){var r=e.elm;if(a(r._enterCb)){r._enterCb.cancelled=true;r._enterCb()}var n=po(e.data.transition);if(i(n)||r.nodeType!==1){return t()}if(a(r._leaveCb)){return}var o=n.css;var s=n.type;var u=n.leaveClass;var c=n.leaveToClass;var f=n.leaveActiveClass;var h=n.beforeLeave;var p=n.leave;var d=n.afterLeave;var v=n.leaveCancelled;var m=n.delayLeave;var g=n.duration;var _=o!==false&&!re;var b=Fo(p);var w=y(l(g)?g.leave:g);if(false){}var C=r._leaveCb=B(function(){if(r.parentNode&&r.parentNode._pending){r.parentNode._pending[e.key]=null}if(_){So(r,c);So(r,f)}if(C.cancelled){if(_){So(r,u)}v&&v(r)}else{t();d&&d(r)}r._leaveCb=null});if(m){m(E)}else{E()}function E(){if(C.cancelled){return}if(!e.data.show){(r.parentNode._pending||(r.parentNode._pending={}))[e.key]=e}h&&h(r);if(_){ko(r,u);ko(r,f);To(function(){So(r,u);if(!C.cancelled){ko(r,c);if(!b){if(Mo(w)){setTimeout(C,w)}else{xo(r,s,C)}}}})}p&&p(r,C);if(!_&&!b){C()}}}function Ro(e,t,r){if(typeof e!=="number"){ye("<transition> explicit "+t+" duration is not a valid number - "+"got "+JSON.stringify(e)+".",r.context)}else if(isNaN(e)){ye("<transition> explicit "+t+" duration is NaN - "+"the duration expression might be incorrect.",r.context)}}function Mo(e){return typeof e==="number"&&!isNaN(e)}function Fo(e){if(i(e)){return false}var t=e.fns;if(a(t)){return Fo(Array.isArray(t)?t[0]:t)}else{return(e._length||e.length)>1}}function Lo(e,t){if(t.data.show!==true){Po(t)}}var jo=J?{create:Lo,activate:Lo,remove:function e(t,r){if(t.data.show!==true){Do(t,r)}else{r()}}}:{};var $o=[ia,oa,Ka,Xa,co,jo];var Uo=$o.concat(ea);var Bo=Qi({nodeOps:ji,modules:Uo});if(re){document.addEventListener("selectionchange",function(){var e=document.activeElement;if(e&&e.vmodel){Go(e,"input")}})}var Wo={inserted:function e(t,r,n,i){if(n.tag==="select"){if(i.elm&&!i.elm._vOptions){Qt(n,"postpatch",function(){Wo.componentUpdated(t,r,n)})}else{qo(t,r,n.context)}t._vOptions=[].map.call(t.options,Qo)}else if(n.tag==="textarea"||Ti(t.type)){t._vModifiers=r.modifiers;if(!r.modifiers.lazy){t.addEventListener("compositionstart",Ko);t.addEventListener("compositionend",zo);t.addEventListener("change",zo);if(re){t.vmodel=true}}}},componentUpdated:function e(t,r,n){if(n.tag==="select"){qo(t,r,n.context);var i=t._vOptions;var a=t._vOptions=[].map.call(t.options,Qo);if(a.some(function(e,t){return!$(e,i[t])})){var o=t.multiple?r.value.some(function(e){return Ho(e,a)}):r.value!==r.oldValue&&Ho(r.value,a);if(o){Go(t,"change")}}}}};function qo(e,t,r){Vo(e,t,r);if(te||ne){setTimeout(function(){Vo(e,t,r)},0)}}function Vo(e,t,r){var n=t.value;var i=e.multiple;if(i&&!Array.isArray(n)){"production"!=="production"&&ye('<select multiple v-model="'+t.expression+'"> '+"expects an Array value for its binding, but got "+Object.prototype.toString.call(n).slice(8,-1),r);return}var a,o;for(var s=0,u=e.options.length;s<u;s++){o=e.options[s];if(i){a=U(n,Qo(o))>-1;if(o.selected!==a){o.selected=a}}else{if($(Qo(o),n)){if(e.selectedIndex!==s){e.selectedIndex=s}return}}}if(!i){e.selectedIndex=-1}}function Ho(e,t){return t.every(function(t){return!$(t,e)})}function Qo(e){return"_value"in e?e._value:e.value}function Ko(e){e.target.composing=true}function zo(e){if(!e.target.composing){return}e.target.composing=false;Go(e.target,"input")}function Go(e,t){var r=document.createEvent("HTMLEvents");r.initEvent(t,true,true);e.dispatchEvent(r)}function Yo(e){return e.componentInstance&&(!e.data||!e.data.transition)?Yo(e.componentInstance._vnode):e}var Jo={bind:function e(t,r,n){var i=r.value;n=Yo(n);var a=n.data&&n.data.transition;var o=t.__vOriginalDisplay=t.style.display==="none"?"":t.style.display;if(i&&a){n.data.show=true;Po(n,function(){t.style.display=o})}else{t.style.display=i?o:"none"}},update:function e(t,r,n){var i=r.value;var a=r.oldValue;if(!i===!a){return}n=Yo(n);var o=n.data&&n.data.transition;if(o){n.data.show=true;if(i){Po(n,function(){t.style.display=t.__vOriginalDisplay})}else{Do(n,function(){t.style.display="none"})}}else{t.style.display=i?t.__vOriginalDisplay:"none"}},unbind:function e(t,r,n,i,a){if(!a){t.style.display=t.__vOriginalDisplay}}};var Xo={model:Wo,show:Jo};var Zo={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function es(e){var t=e&&e.componentOptions;if(t&&t.Ctor.options.abstract){return es(nr(t.children))}else{return e}}function ts(e){var t={};var r=e.$options;for(var n in r.propsData){t[n]=e[n]}var i=r._parentListeners;for(var a in i){t[k(a)]=i[a]}return t}function rs(e,t){if(/\d-keep-alive$/.test(t.tag)){return e("keep-alive",{props:t.componentOptions.propsData})}}function ns(e){while(e=e.parent){if(e.data.transition){return true}}}function is(e,t){return t.key===e.key&&t.tag===e.tag}var as={name:"transition",props:Zo,abstract:true,render:function e(t){var r=this;var n=this.$slots.default;if(!n){return}n=n.filter(function(e){return e.tag||rr(e)});if(!n.length){return}if(false){}var i=this.mode;if(false){}var a=n[0];if(ns(this.$vnode)){return a}var o=es(a);if(!o){return a}if(this._leaving){return rs(t,a)}var s="__transition-"+this._uid+"-";o.key=o.key==null?o.isComment?s+"comment":s+o.tag:u(o.key)?String(o.key).indexOf(s)===0?o.key:s+o.key:o.key;var l=(o.data||(o.data={})).transition=ts(this);var c=this._vnode;var f=es(c);if(o.data.directives&&o.data.directives.some(function(e){return e.name==="show"})){o.data.show=true}if(f&&f.data&&!is(o,f)&&!rr(f)&&!(f.componentInstance&&f.componentInstance._vnode.isComment)){var h=f.data.transition=D({},l);if(i==="out-in"){this._leaving=true;Qt(h,"afterLeave",function(){r._leaving=false;r.$forceUpdate()});return rs(t,a)}else if(i==="in-out"){if(rr(o)){return c}var p;var d=function(){p()};Qt(l,"afterEnter",d);Qt(l,"enterCancelled",d);Qt(h,"delayLeave",function(e){p=e})}}return a}};var os=D({tag:String,moveClass:String},Zo);delete os.mode;var ss={props:os,render:function e(t){var r=this.tag||this.$vnode.data.tag||"span";var n=Object.create(null);var i=this.prevChildren=this.children;var a=this.$slots.default||[];var o=this.children=[];var s=ts(this);for(var u=0;u<a.length;u++){var l=a[u];if(l.tag){if(l.key!=null&&String(l.key).indexOf("__vlist")!==0){o.push(l);n[l.key]=l;(l.data||(l.data={})).transition=s}else if(false){var c,f}}}if(i){var h=[];var p=[];for(var d=0;d<i.length;d++){var v=i[d];v.data.transition=s;v.data.pos=v.elm.getBoundingClientRect();if(n[v.key]){h.push(v)}else{p.push(v)}}this.kept=t(r,null,h);this.removed=p}return t(r,null,o)},beforeUpdate:function e(){this.__patch__(this._vnode,this.kept,false,true);this._vnode=this.kept},updated:function e(){var t=this.prevChildren;var r=this.moveClass||(this.name||"v")+"-move";if(!t.length||!this.hasMove(t[0].elm,r)){return}t.forEach(us);t.forEach(ls);t.forEach(cs);this._reflow=document.body.offsetHeight;t.forEach(function(e){if(e.data.moved){var t=e.elm;var n=t.style;ko(t,r);n.transform=n.WebkitTransform=n.transitionDuration="";t.addEventListener(bo,t._moveCb=function e(n){if(!n||/transform$/.test(n.propertyName)){t.removeEventListener(bo,e);t._moveCb=null;So(t,r)}})}})},methods:{hasMove:function e(t,r){if(!yo){return false}if(this._hasMove){return this._hasMove}var n=t.cloneNode();if(t._transitionClasses){t._transitionClasses.forEach(function(e){ho(n,e)})}fo(n,r);n.style.display="none";this.$el.appendChild(n);var i=Oo(n);this.$el.removeChild(n);return this._hasMove=i.hasTransform}}};function us(e){if(e.elm._moveCb){e.elm._moveCb()}if(e.elm._enterCb){e.elm._enterCb()}}function ls(e){e.data.newPos=e.elm.getBoundingClientRect()}function cs(e){var t=e.data.pos;var r=e.data.newPos;var n=t.left-r.left;var i=t.top-r.top;if(n||i){e.data.moved=true;var a=e.elm.style;a.transform=a.WebkitTransform="translate("+n+"px,"+i+"px)";a.transitionDuration="0s"}}var fs={Transition:as,TransitionGroup:ss};$n.config.mustUseProp=ri;$n.config.isReservedTag=bi;$n.config.isReservedAttr=ei;$n.config.getTagNamespace=wi;$n.config.isUnknownElement=Ei;D($n.options.directives,Xo);D($n.options.components,fs);$n.prototype.__patch__=J?Bo:M;$n.prototype.$mount=function(e,t){e=e&&J?ki(e):undefined;return mr(this,e,t)};if(J){setTimeout(function(){if(H.devtools){if(he){he.emit("init",$n)}else if(false){}}if(false){}},0)}var hs=/\{\{((?:.|\n)+?)\}\}/g;var ps=/[-.*+?^${}()|[\]\/\\]/g;var ds=E(function(e){var t=e[0].replace(ps,"\\$&");var r=e[1].replace(ps,"\\$&");return new RegExp(t+"((?:.|\\n)+?)"+r,"g")});function vs(e,t){var r=t?ds(t):hs;if(!r.test(e)){return}var n=[];var i=[];var a=r.lastIndex=0;var o,s,u;while(o=r.exec(e)){s=o.index;if(s>a){i.push(u=e.slice(a,s));n.push(JSON.stringify(u))}var l=ua(o[1].trim());n.push("_s("+l+")");i.push({"@binding":l});a=s+o[0].length}if(a<e.length){i.push(u=e.slice(a));n.push(JSON.stringify(u))}return{expression:n.join("+"),tokens:i}}function ys(e,t){var r=t.warn||ca;var n=ga(e,"class");if(false){var i}if(n){e.staticClass=JSON.stringify(n)}var a=ma(e,"class",false);if(a){e.classBinding=a}}function ms(e){var t="";if(e.staticClass){t+="staticClass:"+e.staticClass+","}if(e.classBinding){t+="class:"+e.classBinding+","}return t}var gs={staticKeys:["staticClass"],transformNode:ys,genData:ms};function _s(e,t){var r=t.warn||ca;var n=ga(e,"style");if(n){if(false){var i}e.staticStyle=JSON.stringify(Za(n))}var a=ma(e,"style",false);if(a){e.styleBinding=a}}function bs(e){var t="";if(e.staticStyle){t+="staticStyle:"+e.staticStyle+","}if(e.styleBinding){t+="style:("+e.styleBinding+"),"}return t}var ws={staticKeys:["staticStyle"],transformNode:_s,genData:bs};var Cs;var Es={decode:function e(t){Cs=Cs||document.createElement("div");Cs.innerHTML=t;return Cs.textContent}};var Ts=m("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,"+"link,meta,param,source,track,wbr");var ks=m("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source");var Ss=m("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,"+"details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,"+"h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,"+"optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,"+"title,tr,track");
/*!
 * HTML Parser By John Resig (ejohn.org)
 * Modified by Juriy "kangax" Zaytsev
 * Original code by Erik Arvidsson, Mozilla Public License
 * http://erik.eae.net/simplehtmlparser/simplehtmlparser.js
 */var xs=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/;var Is="[a-zA-Z_][\\w\\-\\.]*";var Os="((?:"+Is+"\\:)?"+Is+")";var Ns=new RegExp("^<"+Os);var As=/^\s*(\/?)>/;var Ps=new RegExp("^<\\/"+Os+"[^>]*>");var Ds=/^<!DOCTYPE [^>]+>/i;var Rs=/^<!\--/;var Ms=/^<!\[/;var Fs=false;"x".replace(/x(.)?/g,function(e,t){Fs=t===""});var Ls=m("script,style,textarea",true);var js={};var $s={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t"};var Us=/&(?:lt|gt|quot|amp);/g;var Bs=/&(?:lt|gt|quot|amp|#10|#9);/g;var Ws=m("pre,textarea",true);var qs=function(e,t){return e&&Ws(e)&&t[0]==="\n"};function Vs(e,t){var r=t?Bs:Us;return e.replace(r,function(e){return $s[e]})}function Hs(e,t){var r=[];var n=t.expectHTML;var i=t.isUnaryTag||F;var a=t.canBeLeftOpenTag||F;var o=0;var s,u;while(e){s=e;if(!u||!Ls(u)){var l=e.indexOf("<");if(l===0){if(Rs.test(e)){var c=e.indexOf("--\x3e");if(c>=0){if(t.shouldKeepComment){t.comment(e.substring(4,c))}E(c+3);continue}}if(Ms.test(e)){var f=e.indexOf("]>");if(f>=0){E(f+2);continue}}var h=e.match(Ds);if(h){E(h[0].length);continue}var p=e.match(Ps);if(p){var d=o;E(p[0].length);S(p[1],d,o);continue}var v=T();if(v){k(v);if(qs(u,e)){E(1)}continue}}var y=void 0,m=void 0,g=void 0;if(l>=0){m=e.slice(l);while(!Ps.test(m)&&!Ns.test(m)&&!Rs.test(m)&&!Ms.test(m)){g=m.indexOf("<",1);if(g<0){break}l+=g;m=e.slice(l)}y=e.substring(0,l);E(l)}if(l<0){y=e;e=""}if(t.chars&&y){t.chars(y)}}else{var _=0;var b=u.toLowerCase();var w=js[b]||(js[b]=new RegExp("([\\s\\S]*?)(</"+b+"[^>]*>)","i"));var C=e.replace(w,function(e,r,n){_=n.length;if(!Ls(b)&&b!=="noscript"){r=r.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")}if(qs(b,r)){r=r.slice(1)}if(t.chars){t.chars(r)}return""});o+=e.length-C.length;e=C;S(b,o-_,o)}if(e===s){t.chars&&t.chars(e);if(false){}break}}S();function E(t){o+=t;e=e.substring(t)}function T(){var t=e.match(Ns);if(t){var r={tagName:t[1],attrs:[],start:o};E(t[0].length);var n,i;while(!(n=e.match(As))&&(i=e.match(xs))){E(i[0].length);r.attrs.push(i)}if(n){r.unarySlash=n[1];E(n[0].length);r.end=o;return r}}}function k(e){var o=e.tagName;var s=e.unarySlash;if(n){if(u==="p"&&Ss(o)){S(u)}if(a(o)&&u===o){S(o)}}var l=i(o)||!!s;var c=e.attrs.length;var f=new Array(c);for(var h=0;h<c;h++){var p=e.attrs[h];if(Fs&&p[0].indexOf('""')===-1){if(p[3]===""){delete p[3]}if(p[4]===""){delete p[4]}if(p[5]===""){delete p[5]}}var d=p[3]||p[4]||p[5]||"";var v=o==="a"&&p[1]==="href"?t.shouldDecodeNewlinesForHref:t.shouldDecodeNewlines;f[h]={name:p[1],value:Vs(d,v)}}if(!l){r.push({tag:o,lowerCasedTag:o.toLowerCase(),attrs:f});u=o}if(t.start){t.start(o,f,l,e.start,e.end)}}function S(e,n,i){var a,s;if(n==null){n=o}if(i==null){i=o}if(e){s=e.toLowerCase()}if(e){for(a=r.length-1;a>=0;a--){if(r[a].lowerCasedTag===s){break}}}else{a=0}if(a>=0){for(var l=r.length-1;l>=a;l--){if(false){}if(t.end){t.end(r[l].tag,n,i)}}r.length=a;u=a&&r[a-1].tag}else if(s==="br"){if(t.start){t.start(e,[],true,n,i)}}else if(s==="p"){if(t.start){t.start(e,[],false,n,i)}if(t.end){t.end(e,n,i)}}}}var Qs=/^@|^v-on:/;var Ks=/^v-|^@|^:/;var zs=/([^]*?)\s+(?:in|of)\s+([^]*)/;var Gs=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/;var Ys=/^\(|\)$/g;var Js=/:(.*)$/;var Xs=/^:|^v-bind:/;var Zs=/\.[^.]+/g;var eu=E(Es.decode);var tu;var ru;var nu;var iu;var au;var ou;var su;var uu;function lu(e,t,r){return{type:1,tag:e,attrsList:t,attrsMap:Iu(t),parent:r,children:[]}}function cu(e,t){tu=t.warn||ca;ou=t.isPreTag||F;su=t.mustUseProp||F;uu=t.getTagNamespace||F;nu=fa(t.modules,"transformNode");iu=fa(t.modules,"preTransformNode");au=fa(t.modules,"postTransformNode");ru=t.delimiters;var r=[];var n=t.preserveWhitespace!==false;var i;var a;var o=false;var s=false;var u=false;function l(e){if(!u){u=true;tu(e)}}function c(e){if(e.pre){o=false}if(ou(e.tag)){s=false}for(var r=0;r<au.length;r++){au[r](e,t)}}Hs(e,{warn:tu,expectHTML:t.expectHTML,isUnaryTag:t.isUnaryTag,canBeLeftOpenTag:t.canBeLeftOpenTag,shouldDecodeNewlines:t.shouldDecodeNewlines,shouldDecodeNewlinesForHref:t.shouldDecodeNewlinesForHref,shouldKeepComment:t.comments,start:function e(n,u,l){var f=a&&a.ns||uu(n);if(te&&f==="svg"){u=Du(u)}var h=lu(n,u,a);if(f){h.ns=f}if(Nu(h)&&!fe()){h.forbidden=true;"production"!=="production"&&tu("Templates should only be responsible for mapping the state to the "+"UI. Avoid placing tags with side-effects in your templates, such as "+"<"+n+">"+", as they will not be parsed.")}for(var p=0;p<iu.length;p++){h=iu[p](h,t)||h}if(!o){fu(h);if(h.pre){o=true}}if(ou(h.tag)){s=true}if(o){hu(h)}else if(!h.processed){yu(h);gu(h);Cu(h);pu(h,t)}function d(e){if(false){}}if(!i){i=h;d(i)}else if(!r.length){if(i.if&&(h.elseif||h.else)){d(h);wu(i,{exp:h.elseif,block:h})}else if(false){}}if(a&&!h.forbidden){if(h.elseif||h.else){_u(h,a)}else if(h.slotScope){a.plain=false;var v=h.slotTarget||'"default"';(a.scopedSlots||(a.scopedSlots={}))[v]=h}else{a.children.push(h);h.parent=a}}if(!l){a=h;r.push(h)}else{c(h)}},end:function e(){var t=r[r.length-1];var n=t.children[t.children.length-1];if(n&&n.type===3&&n.text===" "&&!s){t.children.pop()}r.length-=1;a=r[r.length-1];c(t)},chars:function e(t){if(!a){if(false){}return}if(te&&a.tag==="textarea"&&a.attrsMap.placeholder===t){return}var r=a.children;t=s||t.trim()?Ou(a)?t:eu(t):n&&r.length?" ":"";if(t){var i;if(!o&&t!==" "&&(i=vs(t,ru))){r.push({type:2,expression:i.expression,tokens:i.tokens,text:t})}else if(t!==" "||!r.length||r[r.length-1].text!==" "){r.push({type:3,text:t})}}},comment:function e(t){a.children.push({type:3,text:t,isComment:true})}});return i}function fu(e){if(ga(e,"v-pre")!=null){e.pre=true}}function hu(e){var t=e.attrsList.length;if(t){var r=e.attrs=new Array(t);for(var n=0;n<t;n++){r[n]={name:e.attrsList[n].name,value:JSON.stringify(e.attrsList[n].value)}}}else if(!e.pre){e.plain=true}}function pu(e,t){du(e);e.plain=!e.key&&!e.attrsList.length;vu(e);Eu(e);Tu(e);for(var r=0;r<nu.length;r++){e=nu[r](e,t)||e}ku(e)}function du(e){var t=ma(e,"key");if(t){if(false){}e.key=t}}function vu(e){var t=ma(e,"ref");if(t){e.ref=t;e.refInFor=Su(e)}}function yu(e){var t;if(t=ga(e,"v-for")){var r=mu(t);if(r){D(e,r)}else if(false){}}}function mu(e){var t=e.match(zs);if(!t){return}var r={};r.for=t[2].trim();var n=t[1].trim().replace(Ys,"");var i=n.match(Gs);if(i){r.alias=n.replace(Gs,"");r.iterator1=i[1].trim();if(i[2]){r.iterator2=i[2].trim()}}else{r.alias=n}return r}function gu(e){var t=ga(e,"v-if");if(t){e.if=t;wu(e,{exp:t,block:e})}else{if(ga(e,"v-else")!=null){e.else=true}var r=ga(e,"v-else-if");if(r){e.elseif=r}}}function _u(e,t){var r=bu(t.children);if(r&&r.if){wu(r,{exp:e.elseif,block:e})}else if(false){}}function bu(e){var t=e.length;while(t--){if(e[t].type===1){return e[t]}else{if(false){}e.pop()}}}function wu(e,t){if(!e.ifConditions){e.ifConditions=[]}e.ifConditions.push(t)}function Cu(e){var t=ga(e,"v-once");if(t!=null){e.once=true}}function Eu(e){if(e.tag==="slot"){e.slotName=ma(e,"name");if(false){}}else{var t;if(e.tag==="template"){t=ga(e,"scope");if(false){}e.slotScope=t||ga(e,"slot-scope")}else if(t=ga(e,"slot-scope")){if(false){}e.slotScope=t}var r=ma(e,"slot");if(r){e.slotTarget=r==='""'?'"default"':r;if(e.tag!=="template"&&!e.slotScope){pa(e,"slot",r)}}}}function Tu(e){var t;if(t=ma(e,"is")){e.component=t}if(ga(e,"inline-template")!=null){e.inlineTemplate=true}}function ku(e){var t=e.attrsList;var r,n,i,a,o,s,u;for(r=0,n=t.length;r<n;r++){i=a=t[r].name;o=t[r].value;if(Ks.test(i)){e.hasBindings=true;s=xu(i);if(s){i=i.replace(Zs,"")}if(Xs.test(i)){i=i.replace(Xs,"");o=ua(o);u=false;if(s){if(s.prop){u=true;i=k(i);if(i==="innerHtml"){i="innerHTML"}}if(s.camel){i=k(i)}if(s.sync){ya(e,"update:"+k(i),ba(o,"$event"))}}if(u||!e.component&&su(e.tag,e.attrsMap.type,i)){ha(e,i,o)}else{pa(e,i,o)}}else if(Qs.test(i)){i=i.replace(Qs,"");ya(e,i,o,s,false,tu)}else{i=i.replace(Ks,"");var l=i.match(Js);var c=l&&l[1];if(c){i=i.slice(0,-(c.length+1))}va(e,i,a,o,c,s);if(false){}}}else{if(false){var f}pa(e,i,JSON.stringify(o));if(!e.component&&i==="muted"&&su(e.tag,e.attrsMap.type,i)){ha(e,i,"true")}}}}function Su(e){var t=e;while(t){if(t.for!==undefined){return true}t=t.parent}return false}function xu(e){var t=e.match(Zs);if(t){var r={};t.forEach(function(e){r[e.slice(1)]=true});return r}}function Iu(e){var t={};for(var r=0,n=e.length;r<n;r++){if(false){}t[e[r].name]=e[r].value}return t}function Ou(e){return e.tag==="script"||e.tag==="style"}function Nu(e){return e.tag==="style"||e.tag==="script"&&(!e.attrsMap.type||e.attrsMap.type==="text/javascript")}var Au=/^xmlns:NS\d+/;var Pu=/^NS\d+:/;function Du(e){var t=[];for(var r=0;r<e.length;r++){var n=e[r];if(!Au.test(n.name)){n.name=n.name.replace(Pu,"");t.push(n)}}return t}function Ru(e,t){var r=e;while(r){if(r.for&&r.alias===t){tu("<"+e.tag+' v-model="'+t+'">: '+"You are binding v-model directly to a v-for iteration alias. "+"This will not be able to modify the v-for source array because "+"writing to the alias is like modifying a function local variable. "+"Consider using an array of objects and use v-model on an object property instead.")}r=r.parent}}function Mu(e,t){if(e.tag==="input"){var r=e.attrsMap;if(!r["v-model"]){return}var n;if(r[":type"]||r["v-bind:type"]){n=ma(e,"type")}if(!r.type&&!n&&r["v-bind"]){n="("+r["v-bind"]+").type"}if(n){var i=ga(e,"v-if",true);var a=i?"&&("+i+")":"";var o=ga(e,"v-else",true)!=null;var s=ga(e,"v-else-if",true);var u=Fu(e);yu(u);da(u,"type","checkbox");pu(u,t);u.processed=true;u.if="("+n+")==='checkbox'"+a;wu(u,{exp:u.if,block:u});var l=Fu(e);ga(l,"v-for",true);da(l,"type","radio");pu(l,t);wu(u,{exp:"("+n+")==='radio'"+a,block:l});var c=Fu(e);ga(c,"v-for",true);da(c,":type",n);pu(c,t);wu(u,{exp:i,block:c});if(o){u.else=true}else if(s){u.elseif=s}return u}}}function Fu(e){return lu(e.tag,e.attrsList.slice(),e.parent)}var Lu={preTransformNode:Mu};var ju=[gs,ws,Lu];function $u(e,t){if(t.value){ha(e,"textContent","_s("+t.value+")")}}function Uu(e,t){if(t.value){ha(e,"innerHTML","_s("+t.value+")")}}var Bu={model:Fa,text:$u,html:Uu};var Wu={expectHTML:true,modules:ju,directives:Bu,isPreTag:_i,isUnaryTag:Ts,mustUseProp:ri,canBeLeftOpenTag:ks,isReservedTag:bi,getTagNamespace:wi,staticKeys:j(ju)};var qu;var Vu;var Hu=E(Ku);function Qu(e,t){if(!e){return}qu=Hu(t.staticKeys||"");Vu=t.isReservedTag||F;zu(e);Gu(e,false)}function Ku(e){return m("type,tag,attrsList,attrsMap,plain,parent,children,attrs"+(e?","+e:""))}function zu(e){e.static=Yu(e);if(e.type===1){if(!Vu(e.tag)&&e.tag!=="slot"&&e.attrsMap["inline-template"]==null){return}for(var t=0,r=e.children.length;t<r;t++){var n=e.children[t];zu(n);if(!n.static){e.static=false}}if(e.ifConditions){for(var i=1,a=e.ifConditions.length;i<a;i++){var o=e.ifConditions[i].block;zu(o);if(!o.static){e.static=false}}}}}function Gu(e,t){if(e.type===1){if(e.static||e.once){e.staticInFor=t}if(e.static&&e.children.length&&!(e.children.length===1&&e.children[0].type===3)){e.staticRoot=true;return}else{e.staticRoot=false}if(e.children){for(var r=0,n=e.children.length;r<n;r++){Gu(e.children[r],t||!!e.for)}}if(e.ifConditions){for(var i=1,a=e.ifConditions.length;i<a;i++){Gu(e.ifConditions[i].block,t)}}}}function Yu(e){if(e.type===2){return false}if(e.type===3){return true}return!!(e.pre||!e.hasBindings&&!e.if&&!e.for&&!g(e.tag)&&Vu(e.tag)&&!Ju(e)&&Object.keys(e).every(qu))}function Ju(e){while(e.parent){e=e.parent;if(e.tag!=="template"){return false}if(e.for){return true}}return false}var Xu=/^([\w$_]+|\([^)]*?\))\s*=>|^function\s*\(/;var Zu=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/;var el={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]};var tl={esc:"Escape",tab:"Tab",enter:"Enter",space:" ",up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete"]};var rl=function(e){return"if("+e+")return null;"};var nl={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:rl("$event.target !== $event.currentTarget"),ctrl:rl("!$event.ctrlKey"),shift:rl("!$event.shiftKey"),alt:rl("!$event.altKey"),meta:rl("!$event.metaKey"),left:rl("'button' in $event && $event.button !== 0"),middle:rl("'button' in $event && $event.button !== 1"),right:rl("'button' in $event && $event.button !== 2")};function il(e,t,r){var n=t?"nativeOn:{":"on:{";for(var i in e){n+='"'+i+'":'+al(i,e[i])+","}return n.slice(0,-1)+"}"}function al(e,t){if(!t){return"function(){}"}if(Array.isArray(t)){return"["+t.map(function(t){return al(e,t)}).join(",")+"]"}var r=Zu.test(t.value);var n=Xu.test(t.value);if(!t.modifiers){if(r||n){return t.value}return"function($event){"+t.value+"}"}else{var i="";var a="";var o=[];for(var s in t.modifiers){if(nl[s]){a+=nl[s];if(el[s]){o.push(s)}}else if(s==="exact"){var u=t.modifiers;a+=rl(["ctrl","shift","alt","meta"].filter(function(e){return!u[e]}).map(function(e){return"$event."+e+"Key"}).join("||"))}else{o.push(s)}}if(o.length){i+=ol(o)}if(a){i+=a}var l=r?"return "+t.value+"($event)":n?"return ("+t.value+")($event)":t.value;return"function($event){"+i+l+"}"}}function ol(e){return"if(!('button' in $event)&&"+e.map(sl).join("&&")+")return null;"}function sl(e){var t=parseInt(e,10);if(t){return"$event.keyCode!=="+t}var r=el[e];var n=tl[e];return"_k($event.keyCode,"+JSON.stringify(e)+","+JSON.stringify(r)+","+"$event.key,"+""+JSON.stringify(n)+")"}function ul(e,t){if(false){}e.wrapListeners=function(e){return"_g("+e+","+t.value+")"}}function ll(e,t){e.wrapData=function(r){return"_b("+r+",'"+e.tag+"',"+t.value+","+(t.modifiers&&t.modifiers.prop?"true":"false")+(t.modifiers&&t.modifiers.sync?",true":"")+")"}}var cl={on:ul,bind:ll,cloak:M};var fl=function e(t){this.options=t;this.warn=t.warn||ca;this.transforms=fa(t.modules,"transformCode");this.dataGenFns=fa(t.modules,"genData");this.directives=D(D({},cl),t.directives);var r=t.isReservedTag||F;this.maybeComponent=function(e){return!r(e.tag)};this.onceId=0;this.staticRenderFns=[]};function hl(e,t){var r=new fl(t);var n=e?pl(e,r):'_c("div")';return{render:"with(this){return "+n+"}",staticRenderFns:r.staticRenderFns}}function pl(e,t){if(e.staticRoot&&!e.staticProcessed){return dl(e,t)}else if(e.once&&!e.onceProcessed){return vl(e,t)}else if(e.for&&!e.forProcessed){return gl(e,t)}else if(e.if&&!e.ifProcessed){return yl(e,t)}else if(e.tag==="template"&&!e.slotTarget){return kl(e,t)||"void 0"}else if(e.tag==="slot"){return Al(e,t)}else{var r;if(e.component){r=Pl(e.component,e,t)}else{var n=e.plain?undefined:_l(e,t);var i=e.inlineTemplate?null:kl(e,t,true);r="_c('"+e.tag+"'"+(n?","+n:"")+(i?","+i:"")+")"}for(var a=0;a<t.transforms.length;a++){r=t.transforms[a](e,r)}return r}}function dl(e,t){e.staticProcessed=true;t.staticRenderFns.push("with(this){return "+pl(e,t)+"}");return"_m("+(t.staticRenderFns.length-1)+(e.staticInFor?",true":"")+")"}function vl(e,t){e.onceProcessed=true;if(e.if&&!e.ifProcessed){return yl(e,t)}else if(e.staticInFor){var r="";var n=e.parent;while(n){if(n.for){r=n.key;break}n=n.parent}if(!r){"production"!=="production"&&t.warn("v-once can only be used inside v-for that is keyed. ");return pl(e,t)}return"_o("+pl(e,t)+","+t.onceId+++","+r+")"}else{return dl(e,t)}}function yl(e,t,r,n){e.ifProcessed=true;return ml(e.ifConditions.slice(),t,r,n)}function ml(e,t,r,n){if(!e.length){return n||"_e()"}var i=e.shift();if(i.exp){return"("+i.exp+")?"+a(i.block)+":"+ml(e,t,r,n)}else{return""+a(i.block)}function a(e){return r?r(e,t):e.once?vl(e,t):pl(e,t)}}function gl(e,t,r,n){var i=e.for;var a=e.alias;var o=e.iterator1?","+e.iterator1:"";var s=e.iterator2?","+e.iterator2:"";if(false){}e.forProcessed=true;return(n||"_l")+"(("+i+"),"+"function("+a+o+s+"){"+"return "+(r||pl)(e,t)+"})"}function _l(e,t){var r="{";var n=bl(e,t);if(n){r+=n+","}if(e.key){r+="key:"+e.key+","}if(e.ref){r+="ref:"+e.ref+","}if(e.refInFor){r+="refInFor:true,"}if(e.pre){r+="pre:true,"}if(e.component){r+='tag:"'+e.tag+'",'}for(var i=0;i<t.dataGenFns.length;i++){r+=t.dataGenFns[i](e)}if(e.attrs){r+="attrs:{"+Dl(e.attrs)+"},"}if(e.props){r+="domProps:{"+Dl(e.props)+"},"}if(e.events){r+=il(e.events,false,t.warn)+","}if(e.nativeEvents){r+=il(e.nativeEvents,true,t.warn)+","}if(e.slotTarget&&!e.slotScope){r+="slot:"+e.slotTarget+","}if(e.scopedSlots){r+=Cl(e.scopedSlots,t)+","}if(e.model){r+="model:{value:"+e.model.value+",callback:"+e.model.callback+",expression:"+e.model.expression+"},"}if(e.inlineTemplate){var a=wl(e,t);if(a){r+=a+","}}r=r.replace(/,$/,"")+"}";if(e.wrapData){r=e.wrapData(r)}if(e.wrapListeners){r=e.wrapListeners(r)}return r}function bl(e,t){var r=e.directives;if(!r){return}var n="directives:[";var i=false;var a,o,s,u;for(a=0,o=r.length;a<o;a++){s=r[a];u=true;var l=t.directives[s.name];if(l){u=!!l(e,s,t.warn)}if(u){i=true;n+='{name:"'+s.name+'",rawName:"'+s.rawName+'"'+(s.value?",value:("+s.value+"),expression:"+JSON.stringify(s.value):"")+(s.arg?',arg:"'+s.arg+'"':"")+(s.modifiers?",modifiers:"+JSON.stringify(s.modifiers):"")+"},"}}if(i){return n.slice(0,-1)+"]"}}function wl(e,t){var r=e.children[0];if(false){}if(r.type===1){var n=hl(r,t.options);return"inlineTemplate:{render:function(){"+n.render+"},staticRenderFns:["+n.staticRenderFns.map(function(e){return"function(){"+e+"}"}).join(",")+"]}"}}function Cl(e,t){return"scopedSlots:_u(["+Object.keys(e).map(function(r){return El(r,e[r],t)}).join(",")+"])"}function El(e,t,r){if(t.for&&!t.forProcessed){return Tl(e,t,r)}var n="function("+String(t.slotScope)+"){"+"return "+(t.tag==="template"?t.if?t.if+"?"+(kl(t,r)||"undefined")+":undefined":kl(t,r)||"undefined":pl(t,r))+"}";return"{key:"+e+",fn:"+n+"}"}function Tl(e,t,r){var n=t.for;var i=t.alias;var a=t.iterator1?","+t.iterator1:"";var o=t.iterator2?","+t.iterator2:"";t.forProcessed=true;return"_l(("+n+"),"+"function("+i+a+o+"){"+"return "+El(e,t,r)+"})"}function kl(e,t,r,n,i){var a=e.children;if(a.length){var o=a[0];if(a.length===1&&o.for&&o.tag!=="template"&&o.tag!=="slot"){return(n||pl)(o,t)}var s=r?Sl(a,t.maybeComponent):0;var u=i||Il;return"["+a.map(function(e){return u(e,t)}).join(",")+"]"+(s?","+s:"")}}function Sl(e,t){var r=0;for(var n=0;n<e.length;n++){var i=e[n];if(i.type!==1){continue}if(xl(i)||i.ifConditions&&i.ifConditions.some(function(e){return xl(e.block)})){r=2;break}if(t(i)||i.ifConditions&&i.ifConditions.some(function(e){return t(e.block)})){r=1}}return r}function xl(e){return e.for!==undefined||e.tag==="template"||e.tag==="slot"}function Il(e,t){if(e.type===1){return pl(e,t)}if(e.type===3&&e.isComment){return Nl(e)}else{return Ol(e)}}function Ol(e){return"_v("+(e.type===2?e.expression:Rl(JSON.stringify(e.text)))+")"}function Nl(e){return"_e("+JSON.stringify(e.text)+")"}function Al(e,t){var r=e.slotName||'"default"';var n=kl(e,t);var i="_t("+r+(n?","+n:"");var a=e.attrs&&"{"+e.attrs.map(function(e){return k(e.name)+":"+e.value}).join(",")+"}";var o=e.attrsMap["v-bind"];if((a||o)&&!n){i+=",null"}if(a){i+=","+a}if(o){i+=(a?"":",null")+","+o}return i+")"}function Pl(e,t,r){var n=t.inlineTemplate?null:kl(t,r,true);return"_c("+e+","+_l(t,r)+(n?","+n:"")+")"}function Dl(e){var t="";for(var r=0;r<e.length;r++){var n=e[r];{t+='"'+n.name+'":'+Rl(n.value)+","}}return t.slice(0,-1)}function Rl(e){return e.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}var Ml=new RegExp("\\b"+("do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,"+"super,throw,while,yield,delete,export,import,return,switch,default,"+"extends,finally,continue,debugger,function,arguments").split(",").join("\\b|\\b")+"\\b");var Fl=new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)");var Ll=/'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"|`(?:[^`\\]|\\.)*\$\{|\}(?:[^`\\]|\\.)*`|`(?:[^`\\]|\\.)*`/g;function jl(e){var t=[];if(e){$l(e,t)}return t}function $l(e,t){if(e.type===1){for(var r in e.attrsMap){if(Ks.test(r)){var n=e.attrsMap[r];if(n){if(r==="v-for"){Bl(e,'v-for="'+n+'"',t)}else if(Qs.test(r)){Ul(n,r+'="'+n+'"',t)}else{ql(n,r+'="'+n+'"',t)}}}}if(e.children){for(var i=0;i<e.children.length;i++){$l(e.children[i],t)}}}else if(e.type===2){ql(e.expression,e.text,t)}}function Ul(e,t,r){var n=e.replace(Ll,"");var i=n.match(Fl);if(i&&n.charAt(i.index-1)!=="$"){r.push("avoid using JavaScript unary operator as property name: "+'"'+i[0]+'" in expression '+t.trim())}ql(e,t,r)}function Bl(e,t,r){ql(e.for||"",t,r);Wl(e.alias,"v-for alias",t,r);Wl(e.iterator1,"v-for iterator",t,r);Wl(e.iterator2,"v-for iterator",t,r)}function Wl(e,t,r,n){if(typeof e==="string"){try{new Function("var "+e+"=_")}catch(i){n.push("invalid "+t+' "'+e+'" in expression: '+r.trim())}}}function ql(e,t,r){try{new Function("return "+e)}catch(i){var n=e.replace(Ll,"").match(Ml);if(n){r.push("avoid using JavaScript keyword as property name: "+'"'+n[0]+'"\n  Raw expression: '+t.trim())}else{r.push("invalid expression: "+i.message+" in\n\n"+"    "+e+"\n\n"+"  Raw expression: "+t.trim()+"\n")}}}function Vl(e,t){try{return new Function(e)}catch(r){t.push({err:r,code:e});return M}}function Hl(e){var t=Object.create(null);return function r(n,i,a){i=D({},i);var o=i.warn||ye;delete i.warn;if(false){}var s=i.delimiters?String(i.delimiters)+n:n;if(t[s]){return t[s]}var u=e(n,i);if(false){}var l={};var c=[];l.render=Vl(u.render,c);l.staticRenderFns=u.staticRenderFns.map(function(e){return Vl(e,c)});if(false){}return t[s]=l}}function Ql(e){return function t(r){function n(t,n){var i=Object.create(r);var a=[];var o=[];i.warn=function(e,t){(t?o:a).push(e)};if(n){if(n.modules){i.modules=(r.modules||[]).concat(n.modules)}if(n.directives){i.directives=D(Object.create(r.directives||null),n.directives)}for(var s in n){if(s!=="modules"&&s!=="directives"){i[s]=n[s]}}}var u=e(t,i);if(false){}u.errors=a;u.tips=o;return u}return{compile:n,compileToFunctions:Hl(n)}}}var Kl=Ql(function e(t,r){var n=cu(t.trim(),r);if(r.optimize!==false){Qu(n,r)}var i=hl(n,r);return{ast:n,render:i.render,staticRenderFns:i.staticRenderFns}});var zl=Kl(Wu);var Gl=zl.compileToFunctions;var Yl;function Jl(e){Yl=Yl||document.createElement("div");Yl.innerHTML=e?'<a href="\n"/>':'<div a="\n"/>';return Yl.innerHTML.indexOf("&#10;")>0}var Xl=J?Jl(false):false;var Zl=J?Jl(true):false;var ec=E(function(e){var t=ki(e);return t&&t.innerHTML});var tc=$n.prototype.$mount;$n.prototype.$mount=function(e,t){e=e&&ki(e);if(e===document.body||e===document.documentElement){"production"!=="production"&&ye("Do not mount Vue to <html> or <body> - mount to normal elements instead.");return this}var r=this.$options;if(!r.render){var n=r.template;if(n){if(typeof n==="string"){if(n.charAt(0)==="#"){n=ec(n);if(false){}}}else if(n.nodeType){n=n.innerHTML}else{if(false){}return this}}else if(e){n=rc(e)}if(n){if(false){}var i=Gl(n,{shouldDecodeNewlines:Xl,shouldDecodeNewlinesForHref:Zl,delimiters:r.delimiters,comments:r.comments},this);var a=i.render;var o=i.staticRenderFns;r.render=a;r.staticRenderFns=o;if(false){}}}return tc.call(this,e,t)};function rc(e){if(e.outerHTML){return e.outerHTML}else{var t=document.createElement("div");t.appendChild(e.cloneNode(true));return t.innerHTML}}$n.compile=Gl;t["a"]=$n}).call(this,r(3),r(14).setImmediate)},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(1,eval)("this")}catch(e){if(typeof window==="object")r=window}e.exports=r},function(e,t,r){var n=r(23);if(typeof n==="string")n=[[e.i,n,""]];if(n.locals)e.exports=n.locals;var i=r(1).default;var a=i("731efde5",n,true,{})},function(e,t,r){var n=r(25);if(typeof n==="string")n=[[e.i,n,""]];if(n.locals)e.exports=n.locals;var i=r(1).default;var a=i("35b0b494",n,true,{})},function(e,t,r){var n=r(27);if(typeof n==="string")n=[[e.i,n,""]];if(n.locals)e.exports=n.locals;var i=r(1).default;var a=i("1807cc76",n,true,{})},function(e,t,r){var n=r(29);if(typeof n==="string")n=[[e.i,n,""]];if(n.locals)e.exports=n.locals;var i=r(1).default;var a=i("5e388124",n,true,{})},function(e,t,r){var n=r(35);if(typeof n==="string")n=[[e.i,n,""]];if(n.locals)e.exports=n.locals;var i=r(1).default;var a=i("8aa5af94",n,true,{})},function(e,t,r){var n=r(37);if(typeof n==="string")n=[[e.i,n,""]];if(n.locals)e.exports=n.locals;var i=r(1).default;var a=i("4b666b67",n,true,{})},function(e,t,r){var n=r(40);if(typeof n==="string")n=[[e.i,n,""]];if(n.locals)e.exports=n.locals;var i=r(1).default;var a=i("a6c0cef6",n,true,{})},function(e,t,r){var n=r(42);if(typeof n==="string")n=[[e.i,n,""]];if(n.locals)e.exports=n.locals;var i=r(1).default;var a=i("7aca7f4b",n,true,{})},function(e,t,r){var n=r(44);if(typeof n==="string")n=[[e.i,n,""]];if(n.locals)e.exports=n.locals;var i=r(1).default;var a=i("99b08c56",n,true,{})},function(e,t,r){"use strict";function n(e){return e&&typeof e==="object"&&"default"in e?e["default"]:e}r(30);var i=n(r(16));e.exports=i},function(e,t,r){(function(e){var n=typeof e!=="undefined"&&e||typeof self!=="undefined"&&self||window;var i=Function.prototype.apply;t.setTimeout=function(){return new a(i.call(setTimeout,n,arguments),clearTimeout)};t.setInterval=function(){return new a(i.call(setInterval,n,arguments),clearInterval)};t.clearTimeout=t.clearInterval=function(e){if(e){e.close()}};function a(e,t){this._id=e;this._clearFn=t}a.prototype.unref=a.prototype.ref=function(){};a.prototype.close=function(){this._clearFn.call(n,this._id)};t.enroll=function(e,t){clearTimeout(e._idleTimeoutId);e._idleTimeout=t};t.unenroll=function(e){clearTimeout(e._idleTimeoutId);e._idleTimeout=-1};t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;if(t>=0){e._idleTimeoutId=setTimeout(function t(){if(e._onTimeout)e._onTimeout()},t)}};r(21);t.setImmediate=typeof self!=="undefined"&&self.setImmediate||typeof e!=="undefined"&&e.setImmediate||this&&this.setImmediate;t.clearImmediate=typeof self!=="undefined"&&self.clearImmediate||typeof e!=="undefined"&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(3))},function(e,t){var r=e.exports={};var n;var i;function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){n=setTimeout}else{n=a}}catch(e){n=a}try{if(typeof clearTimeout==="function"){i=clearTimeout}else{i=o}}catch(e){i=o}})();function s(e){if(n===setTimeout){return setTimeout(e,0)}if((n===a||!n)&&setTimeout){n=setTimeout;return setTimeout(e,0)}try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}function u(e){if(i===clearTimeout){return clearTimeout(e)}if((i===o||!i)&&clearTimeout){i=clearTimeout;return clearTimeout(e)}try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}var l=[];var c=false;var f;var h=-1;function p(){if(!c||!f){return}c=false;if(f.length){l=f.concat(l)}else{h=-1}if(l.length){d()}}function d(){if(c){return}var e=s(p);c=true;var t=l.length;while(t){f=l;l=[];while(++h<t){if(f){f[h].run()}}h=-1;t=l.length}f=null;c=false;u(e)}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var r=1;r<arguments.length;r++){t[r-1]=arguments[r]}}l.push(new v(e,t));if(l.length===1&&!c){s(d)}};function v(e,t){this.fun=e;this.array=t}v.prototype.run=function(){this.fun.apply(null,this.array)};r.title="browser";r.browser=true;r.env={};r.argv=[];r.version="";r.versions={};function y(){}r.on=y;r.addListener=y;r.once=y;r.off=y;r.removeListener=y;r.removeAllListeners=y;r.emit=y;r.prependListener=y;r.prependOnceListener=y;r.listeners=function(e){return[]};r.binding=function(e){throw new Error("process.binding is not supported")};r.cwd=function(){return"/"};r.chdir=function(e){throw new Error("process.chdir is not supported")};r.umask=function(){return 0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(17);var i=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var a="[DEFAULT]";var o=[];var s=function(){function e(e,t,r){this.firebase_=r;this.isDeleted_=false;this.services_={};this.name_=t.name;this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled||false;this.options_=n.deepCopy(e);this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(e){o.push(e);setTimeout(function(){return e(null)},0)},removeAuthTokenListener:function(e){o=o.filter(function(t){return t!==e})}}}Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){this.checkDestroyed_();return this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed_();this._automaticDataCollectionEnabled=e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"name",{get:function(){this.checkDestroyed_();return this.name_},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"options",{get:function(){this.checkDestroyed_();return this.options_},enumerable:true,configurable:true});e.prototype.delete=function(){var e=this;return new Promise(function(t){e.checkDestroyed_();t()}).then(function(){e.firebase_.INTERNAL.removeApp(e.name_);var t=[];Object.keys(e.services_).forEach(function(r){Object.keys(e.services_[r]).forEach(function(n){t.push(e.services_[r][n])})});return Promise.all(t.map(function(e){return e.INTERNAL.delete()}))}).then(function(){e.isDeleted_=true;e.services_={}})};e.prototype._getService=function(e,t){if(t===void 0){t=a}this.checkDestroyed_();if(!this.services_[e]){this.services_[e]={}}if(!this.services_[e][t]){var r=t!==a?t:undefined;var n=this.firebase_.INTERNAL.factories[e](this,this.extendApp.bind(this),r);this.services_[e][t]=n}return this.services_[e][t]};e.prototype.extendApp=function(e){var t=this;n.deepExtend(this,e);if(e.INTERNAL&&e.INTERNAL.addAuthTokenListener){o.forEach(function(e){t.INTERNAL.addAuthTokenListener(e)});o=[]}};e.prototype.checkDestroyed_=function(){if(this.isDeleted_){l("app-deleted",{name:this.name_})}};return e}();s.prototype.name&&s.prototype.options||s.prototype.delete||console.log("dc");function u(){var e={};var t={};var r={};var o={__esModule:true,initializeApp:h,app:f,apps:null,Promise:Promise,SDK_VERSION:"5.0.4",INTERNAL:{registerService:d,createFirebaseNamespace:u,extendNamespace:v,createSubscribe:n.createSubscribe,ErrorFactory:n.ErrorFactory,removeApp:c,factories:t,useAsService:m,Promise:Promise,deepExtend:n.deepExtend}};n.patchProperty(o,"default",o);Object.defineProperty(o,"apps",{get:p});function c(t){var r=e[t];y(r,"delete");delete e[t]}function f(t){t=t||a;if(!i(e,t)){l("no-app",{name:t})}return e[t]}n.patchProperty(f,"App",s);function h(t,r){if(r===void 0){r={}}if(typeof r!=="object"||r===null){var n=r;r={name:n}}var u=r;if(u.name===undefined){u.name=a}var c=u.name;if(typeof c!=="string"||!c){l("bad-app-name",{name:c+""})}if(i(e,c)){l("duplicate-app",{name:c})}var f=new s(t,u,o);e[c]=f;y(f,"create");return f}function p(){return Object.keys(e).map(function(t){return e[t]})}function d(e,i,a,u,c){if(t[e]){l("duplicate-service",{name:e})}t[e]=i;if(u){r[e]=u;p().forEach(function(e){u("create",e)})}var h=function(t){if(t===void 0){t=f()}if(typeof t[e]!=="function"){l("invalid-app-argument",{name:e})}return t[e]()};if(a!==undefined){n.deepExtend(h,a)}o[e]=h;s.prototype[e]=function(){var t=[];for(var r=0;r<arguments.length;r++){t[r]=arguments[r]}var n=this._getService.bind(this,e);return n.apply(this,c?t:[])};return h}function v(e){n.deepExtend(o,e)}function y(e,n){Object.keys(t).forEach(function(t){var i=m(e,t);if(i===null){return}if(r[i]){r[i](n,e)}})}function m(e,t){if(t==="serverAuth"){return null}var r=t;var n=e.options;return r}return o}function l(e,t){throw f.create(e,t)}var c={"no-app":"No Firebase App '{$name}' has been created - "+"call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service "+"account is only allowed in a Node.js environment. On client "+"devices, you should instead initialize the SDK with an api key and "+"auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a "+"Firebase App instance."};var f=new n.ErrorFactory("app","Firebase",c);var h=u();t.firebase=h;t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(18);var i={NODE_CLIENT:false,NODE_ADMIN:false,SDK_VERSION:"${JSCORE_VERSION}"};var a=function(e,t){if(!e){throw o(t)}};var o=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};var s=function(e){var t=[],r=0;for(var n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i<128){t[r++]=i}else if(i<2048){t[r++]=i>>6|192;t[r++]=i&63|128}else if((i&64512)==55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)==56320){i=65536+((i&1023)<<10)+(e.charCodeAt(++n)&1023);t[r++]=i>>18|240;t[r++]=i>>12&63|128;t[r++]=i>>6&63|128;t[r++]=i&63|128}else{t[r++]=i>>12|224;t[r++]=i>>6&63|128;t[r++]=i&63|128}}return t};var u=function(e){var t=[],r=0,n=0;while(r<e.length){var i=e[r++];if(i<128){t[n++]=String.fromCharCode(i)}else if(i>191&&i<224){var a=e[r++];t[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){var a=e[r++];var o=e[r++];var s=e[r++];var u=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;t[n++]=String.fromCharCode(55296+(u>>10));t[n++]=String.fromCharCode(56320+(u&1023))}else{var a=e[r++];var o=e[r++];t[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return t.join("")};var l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZ"+"abcdefghijklmnopqrstuvwxyz"+"0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob==="function",encodeByteArray:function(e,t){if(!Array.isArray(e)){throw Error("encodeByteArray takes an array as a parameter")}this.init_();var r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_;var n=[];for(var i=0;i<e.length;i+=3){var a=e[i];var o=i+1<e.length;var s=o?e[i+1]:0;var u=i+2<e.length;var l=u?e[i+2]:0;var c=a>>2;var f=(a&3)<<4|s>>4;var h=(s&15)<<2|l>>6;var p=l&63;if(!u){p=64;if(!o){h=64}}n.push(r[c],r[f],r[h],r[p])}return n.join("")},encodeString:function(e,t){if(this.HAS_NATIVE_SUPPORT&&!t){return btoa(e)}return this.encodeByteArray(s(e),t)},decodeString:function(e,t){if(this.HAS_NATIVE_SUPPORT&&!t){return atob(e)}return u(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();var r=t?this.charToByteMapWebSafe_:this.charToByteMap_;var n=[];for(var i=0;i<e.length;){var a=r[e.charAt(i++)];var o=i<e.length;var s=o?r[e.charAt(i)]:0;++i;var u=i<e.length;var l=u?r[e.charAt(i)]:64;++i;var c=i<e.length;var f=c?r[e.charAt(i)]:64;++i;if(a==null||s==null||l==null||f==null){throw Error()}var h=a<<2|s>>4;n.push(h);if(l!=64){var p=s<<4&240|l>>2;n.push(p);if(f!=64){var d=l<<6&192|f;n.push(d)}}}return n},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={};this.charToByteMap_={};this.byteToCharMapWebSafe_={};this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++){this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e);this.charToByteMap_[this.byteToCharMap_[e]]=e;this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e);this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e;if(e>=this.ENCODED_VALS_BASE.length){this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e;this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e}}}}};var c=function(e){var t=s(e);return l.encodeByteArray(t,true)};var f=function(e){try{return l.decodeString(e,true)}catch(e){console.error("base64Decode failed: ",e)}return null};function h(e){return p(undefined,e)}function p(e,t){if(!(t instanceof Object)){return t}switch(t.constructor){case Date:var r=t;return new Date(r.getTime());case Object:if(e===undefined){e={}}break;case Array:e=[];break;default:return t}for(var n in t){if(!t.hasOwnProperty(n)){continue}e[n]=p(e[n],t[n])}return e}function d(e,t,r){e[t]=r}var v=function(){function e(){var e=this;this.promise=new Promise(function(t,r){e.resolve=t;e.reject=r})}e.prototype.wrapCallback=function(e){var t=this;return function(r,n){if(r){t.reject(r)}else{t.resolve(n)}if(typeof e==="function"){t.promise.catch(function(){});if(e.length===1){e(r)}else{e(r,n)}}}};return e}();var y=function(){if(typeof navigator!=="undefined"&&typeof navigator["userAgent"]==="string"){return navigator["userAgent"]}else{return""}};var m=function(){return typeof window!=="undefined"&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())};var g=function(){return typeof navigator==="object"&&navigator["product"]==="ReactNative"};var _=function(){return i.NODE_CLIENT===true||i.NODE_ADMIN===true};var b="FirebaseError";var w=Error.captureStackTrace;function C(e){var t=w;w=e;return t}var E=function(){function e(e,t){this.code=e;this.message=t;if(w){w(this,T.prototype.create)}else{try{throw Error.apply(this,arguments)}catch(e){this.name=b;Object.defineProperty(this,"stack",{get:function(){return e.stack}})}}}return e}();E.prototype=Object.create(Error.prototype);E.prototype.constructor=E;E.prototype.name=b;var T=function(){function e(e,t,r){this.service=e;this.serviceName=t;this.errors=r;this.pattern=/\{\$([^}]+)}/g}e.prototype.create=function(e,t){if(t===undefined){t={}}var r=this.errors[e];var n=this.service+"/"+e;var i;if(r===undefined){i="Error"}else{i=r.replace(this.pattern,function(e,r){var n=t[r];return n!==undefined?n.toString():"<"+r+"?>"})}i=this.serviceName+": "+i+" ("+n+").";var a=new E(n,i);for(var o in t){if(!t.hasOwnProperty(o)||o.slice(-1)==="_"){continue}a[o]=t[o]}return a};return e}();function k(e){return JSON.parse(e)}function S(e){return JSON.stringify(e)}var x=function(e){var t={},r={},n={},i="";try{var a=e.split(".");t=k(f(a[0])||"");r=k(f(a[1])||"");i=a[2];n=r["d"]||{};delete r["d"]}catch(e){}return{header:t,claims:r,data:n,signature:i}};var I=function(e){var t=x(e).claims,r=Math.floor((new Date).getTime()/1e3),n,i;if(typeof t==="object"){if(t.hasOwnProperty("nbf")){n=t["nbf"]}else if(t.hasOwnProperty("iat")){n=t["iat"]}if(t.hasOwnProperty("exp")){i=t["exp"]}else{i=n+86400}}return r&&n&&i&&r>=n&&r<=i};var O=function(e){var t=x(e).claims;if(typeof t==="object"&&t.hasOwnProperty("iat")){return t["iat"]}return null};var N=function(e){var t=x(e),r=t.claims;return!!t.signature&&!!r&&typeof r==="object"&&r.hasOwnProperty("iat")};var A=function(e){var t=x(e).claims;return typeof t==="object"&&t["admin"]===true};var P=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var D=function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};var R=function(e,t){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){t(r,e[r])}}};var M=function(e,t){R(t,function(t,r){e[t]=r});return e};var F=function(e){return M({},e)};var L=function(e){return typeof e==="object"&&e!==null};var j=function(e){for(var t in e){return false}return true};var $=function(e){var t=0;for(var r in e){t++}return t};var U=function(e,t,r){var n={};for(var i in e){n[i]=t.call(r,e[i],i,e)}return n};var B=function(e,t,r){for(var n in e){if(t.call(r,e[n],n,e)){return n}}return undefined};var W=function(e,t,r){var n=B(e,t,r);return n&&e[n]};var q=function(e){for(var t in e){return t}};var V=function(e){var t=[];var r=0;for(var n in e){t[r++]=e[n]}return t};var H=function(e,t){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){if(!t(r,e[r])){return false}}}return true};var Q=function(e){var t=[];R(e,function(e,r){if(Array.isArray(r)){r.forEach(function(r){t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))})}else{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}});return t.length?"&"+t.join("&"):""};var K=function(e){var t={};var r=e.replace(/^\?/,"").split("&");r.forEach(function(e){if(e){var r=e.split("=");t[r[0]]=r[1]}});return t};var z=function(){function e(){this.blockSize=-1}return e}();var G=function(e){n.__extends(t,e);function t(){var t=e.call(this)||this;t.chain_=[];t.buf_=[];t.W_=[];t.pad_=[];t.inbuf_=0;t.total_=0;t.blockSize=512/8;t.pad_[0]=128;for(var r=1;r<t.blockSize;++r){t.pad_[r]=0}t.reset();return t}t.prototype.reset=function(){this.chain_[0]=1732584193;this.chain_[1]=4023233417;this.chain_[2]=2562383102;this.chain_[3]=271733878;this.chain_[4]=3285377520;this.inbuf_=0;this.total_=0};t.prototype.compress_=function(e,t){if(!t){t=0}var r=this.W_;if(typeof e==="string"){for(var n=0;n<16;n++){r[n]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3);t+=4}}else{for(var n=0;n<16;n++){r[n]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];t+=4}}for(var n=16;n<80;n++){var i=r[n-3]^r[n-8]^r[n-14]^r[n-16];r[n]=(i<<1|i>>>31)&4294967295}var a=this.chain_[0];var o=this.chain_[1];var s=this.chain_[2];var u=this.chain_[3];var l=this.chain_[4];var c,f;for(var n=0;n<80;n++){if(n<40){if(n<20){c=u^o&(s^u);f=1518500249}else{c=o^s^u;f=1859775393}}else{if(n<60){c=o&s|u&(o|s);f=2400959708}else{c=o^s^u;f=3395469782}}var i=(a<<5|a>>>27)+c+l+f+r[n]&4294967295;l=u;u=s;s=(o<<30|o>>>2)&4294967295;o=a;a=i}this.chain_[0]=this.chain_[0]+a&4294967295;this.chain_[1]=this.chain_[1]+o&4294967295;this.chain_[2]=this.chain_[2]+s&4294967295;this.chain_[3]=this.chain_[3]+u&4294967295;this.chain_[4]=this.chain_[4]+l&4294967295};t.prototype.update=function(e,t){if(e==null){return}if(t===undefined){t=e.length}var r=t-this.blockSize;var n=0;var i=this.buf_;var a=this.inbuf_;while(n<t){if(a==0){while(n<=r){this.compress_(e,n);n+=this.blockSize}}if(typeof e==="string"){while(n<t){i[a]=e.charCodeAt(n);++a;++n;if(a==this.blockSize){this.compress_(i);a=0;break}}}else{while(n<t){i[a]=e[n];++a;++n;if(a==this.blockSize){this.compress_(i);a=0;break}}}}this.inbuf_=a;this.total_+=t};t.prototype.digest=function(){var e=[];var t=this.total_*8;if(this.inbuf_<56){this.update(this.pad_,56-this.inbuf_)}else{this.update(this.pad_,this.blockSize-(this.inbuf_-56))}for(var r=this.blockSize-1;r>=56;r--){this.buf_[r]=t&255;t/=256}this.compress_(this.buf_);var n=0;for(var r=0;r<5;r++){for(var i=24;i>=0;i-=8){e[n]=this.chain_[r]>>i&255;++n}}return e};return t}(z);function Y(e,t){var r=new J(e,t);return r.subscribe.bind(r)}var J=function(){function e(e,t){var r=this;this.observers=[];this.unsubscribes=[];this.observerCount=0;this.task=Promise.resolve();this.finalized=false;this.onNoObservers=t;this.task.then(function(){e(r)}).catch(function(e){r.error(e)})}e.prototype.next=function(e){this.forEachObserver(function(t){t.next(e)})};e.prototype.error=function(e){this.forEachObserver(function(t){t.error(e)});this.close(e)};e.prototype.complete=function(){this.forEachObserver(function(e){e.complete()});this.close()};e.prototype.subscribe=function(e,t,r){var n=this;var i;if(e===undefined&&t===undefined&&r===undefined){throw new Error("Missing Observer.")}if(Z(e,["next","error","complete"])){i=e}else{i={next:e,error:t,complete:r}}if(i.next===undefined){i.next=ee}if(i.error===undefined){i.error=ee}if(i.complete===undefined){i.complete=ee}var a=this.unsubscribeOne.bind(this,this.observers.length);if(this.finalized){this.task.then(function(){try{if(n.finalError){i.error(n.finalError)}else{i.complete()}}catch(e){}return})}this.observers.push(i);return a};e.prototype.unsubscribeOne=function(e){if(this.observers===undefined||this.observers[e]===undefined){return}delete this.observers[e];this.observerCount-=1;if(this.observerCount===0&&this.onNoObservers!==undefined){this.onNoObservers(this)}};e.prototype.forEachObserver=function(e){if(this.finalized){return}for(var t=0;t<this.observers.length;t++){this.sendOne(t,e)}};e.prototype.sendOne=function(e,t){var r=this;this.task.then(function(){if(r.observers!==undefined&&r.observers[e]!==undefined){try{t(r.observers[e])}catch(e){if(typeof console!=="undefined"&&console.error){console.error(e)}}}})};e.prototype.close=function(e){var t=this;if(this.finalized){return}this.finalized=true;if(e!==undefined){this.finalError=e}this.task.then(function(){t.observers=undefined;t.onNoObservers=undefined})};return e}();function X(e,t){return function(){var r=[];for(var n=0;n<arguments.length;n++){r[n]=arguments[n]}Promise.resolve(true).then(function(){e.apply(void 0,r)}).catch(function(e){if(t){t(e)}})}}function Z(e,t){if(typeof e!=="object"||e===null){return false}for(var r=0,n=t;r<n.length;r++){var i=n[r];if(i in e&&typeof e[i]==="function"){return true}}return false}function ee(){}var te=function(e,t,r,n){var i;if(n<t){i="at least "+t}else if(n>r){i=r===0?"none":"no more than "+r}if(i){var a=e+" failed: Was called with "+n+(n===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(a)}};function re(e,t,r){var n="";switch(t){case 1:n=r?"first":"First";break;case 2:n=r?"second":"Second";break;case 3:n=r?"third":"Third";break;case 4:n=r?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=e+" failed: ";i+=n+" argument ";return i}function ne(e,t,r,n){if(n&&!r)return;if(typeof r!=="string"){throw new Error(re(e,t,n)+"must be a valid firebase namespace.")}}function ie(e,t,r,n){if(n&&!r)return;if(typeof r!=="function")throw new Error(re(e,t,n)+"must be a valid function.")}function ae(e,t,r,n){if(n&&!r)return;if(typeof r!=="object"||r===null)throw new Error(re(e,t,n)+"must be a valid context object.")}var oe=function(e){var t=[],r=0;for(var n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i>=55296&&i<=56319){var o=i-55296;n++;a(n<e.length,"Surrogate pair missing trail surrogate.");var s=e.charCodeAt(n)-56320;i=65536+(o<<10)+s}if(i<128){t[r++]=i}else if(i<2048){t[r++]=i>>6|192;t[r++]=i&63|128}else if(i<65536){t[r++]=i>>12|224;t[r++]=i>>6&63|128;t[r++]=i&63|128}else{t[r++]=i>>18|240;t[r++]=i>>12&63|128;t[r++]=i>>6&63|128;t[r++]=i&63|128}}return t};var se=function(e){var t=0;for(var r=0;r<e.length;r++){var n=e.charCodeAt(r);if(n<128){t++}else if(n<2048){t+=2}else if(n>=55296&&n<=56319){t+=4;r++}else{t+=3}}return t};t.assert=a;t.assertionError=o;t.base64=l;t.base64Decode=f;t.base64Encode=c;t.CONSTANTS=i;t.deepCopy=h;t.deepExtend=p;t.patchProperty=d;t.Deferred=v;t.getUA=y;t.isMobileCordova=m;t.isNodeSdk=_;t.isReactNative=g;t.ErrorFactory=T;t.FirebaseError=E;t.patchCapture=C;t.jsonEval=k;t.stringify=S;t.decode=x;t.isAdmin=A;t.issuedAtTime=O;t.isValidFormat=N;t.isValidTimestamp=I;t.clone=F;t.contains=P;t.every=H;t.extend=M;t.findKey=B;t.findValue=W;t.forEach=R;t.getAnyKey=q;t.getCount=$;t.getValues=V;t.isEmpty=j;t.isNonNullObject=L;t.map=U;t.safeGet=D;t.querystring=Q;t.querystringDecode=K;t.Sha1=G;t.async=X;t.createSubscribe=Y;t.errorPrefix=re;t.validateArgCount=te;t.validateCallback=ie;t.validateContextObject=ae;t.validateNamespace=ne;t.stringLength=se;t.stringToByteArray=oe},function(e,t,r){"use strict";r.r(t);r.d(t,"__extends",function(){return i});r.d(t,"__assign",function(){return a});r.d(t,"__rest",function(){return o});r.d(t,"__decorate",function(){return s});r.d(t,"__param",function(){return u});r.d(t,"__metadata",function(){return l});r.d(t,"__awaiter",function(){return c});r.d(t,"__generator",function(){return f});r.d(t,"__exportStar",function(){return h});r.d(t,"__values",function(){return p});r.d(t,"__read",function(){return d});r.d(t,"__spread",function(){return v});r.d(t,"__await",function(){return y});r.d(t,"__asyncGenerator",function(){return m});r.d(t,"__asyncDelegator",function(){return g});r.d(t,"__asyncValues",function(){return _});r.d(t,"__makeTemplateObject",function(){return b});r.d(t,"__importStar",function(){return w});r.d(t,"__importDefault",function(){return C});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};function i(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var a=Object.assign||function e(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a))t[a]=r[a]}return t};function o(e,t){var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0)r[n]=e[n];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)if(t.indexOf(n[i])<0)r[n[i]]=e[n[i]];return r}function s(e,t,r,n){var i=arguments.length,a=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(o=e[s])a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a;return i>3&&a&&Object.defineProperty(t,r,a),a}function u(e,t){return function(r,n){t(r,n,e)}}function l(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)}function c(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n["throw"](e))}catch(e){a(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(o,s)}u((n=n.apply(e,t||[])).next())})}function f(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,i&&(a=i[o[0]&2?"return":o[0]?"throw":"next"])&&!(a=a.call(i,o[1])).done)return a;if(i=0,a)o=[0,a.value];switch(o[0]){case 0:case 1:a=o;break;case 4:r.label++;return{value:o[1],done:false};case 5:r.label++;i=o[1];o=[0];continue;case 7:o=r.ops.pop();r.trys.pop();continue;default:if(!(a=r.trys,a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1];a=o;break}if(a&&r.label<a[2]){r.label=a[2];r.ops.push(o);break}if(a[2])r.ops.pop();r.trys.pop();continue}o=t.call(e,r)}catch(e){o=[6,e];i=0}finally{n=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:true}}}function h(e,t){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}function p(e){var t=typeof Symbol==="function"&&e[Symbol.iterator],r=0;if(t)return t.call(e);return{next:function(){if(e&&r>=e.length)e=void 0;return{value:e&&e[r++],done:!e}}}}function d(e,t){var r=typeof Symbol==="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{while((t===void 0||t-- >0)&&!(i=n.next()).done)a.push(i.value)}catch(e){o={error:e}}finally{try{if(i&&!i.done&&(r=n["return"]))r.call(n)}finally{if(o)throw o.error}}return a}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function m(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(e){if(n[e])i[e]=function(t){return new Promise(function(r,n){a.push([e,t,r,n])>1||s(e,t)})}}function s(e,t){try{u(n[e](t))}catch(e){f(a[0][3],e)}}function u(e){e.value instanceof y?Promise.resolve(e.value.v).then(l,c):f(a[0][2],e)}function l(e){s("next",e)}function c(e){s("throw",e)}function f(e,t){if(e(t),a.shift(),a.length)s(a[0][0],a[0][1])}}function g(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){if(e[n])t[n]=function(t){return(r=!r)?{value:y(e[n](t)),done:n==="return"}:i?i(t):t}}}function _(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator];return t?t.call(e):typeof p==="function"?p(e):e[Symbol.iterator]()}function b(e,t){if(Object.defineProperty){Object.defineProperty(e,"raw",{value:t})}else{e.raw=t}return e}function w(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(Object.hasOwnProperty.call(e,r))t[r]=e[r];t.default=e;return t}function C(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){(function(t){var r="Expected a function";var n=0/0;var i="[object Symbol]";var a=/^\s+|\s+$/g;var o=/^[-+]0x[0-9a-f]+$/i;var s=/^0b[01]+$/i;var u=/^0o[0-7]+$/i;var l=parseInt;var c=typeof t=="object"&&t&&t.Object===Object&&t;var f=typeof self=="object"&&self&&self.Object===Object&&self;var h=c||f||Function("return this")();var p=Object.prototype;var d=p.toString;var v=Math.max,y=Math.min;var m=function(){return h.Date.now()};function g(e,t,n){var i,a,o,s,u,l,c=0,f=false,h=false,p=true;if(typeof e!="function"){throw new TypeError(r)}t=C(t)||0;if(_(n)){f=!!n.leading;h="maxWait"in n;o=h?v(C(n.maxWait)||0,t):o;p="trailing"in n?!!n.trailing:p}function d(t){var r=i,n=a;i=a=undefined;c=t;s=e.apply(n,r);return s}function g(e){c=e;u=setTimeout(E,t);return f?d(e):s}function b(e){var r=e-l,n=e-c,i=t-r;return h?y(i,o-n):i}function w(e){var r=e-l,n=e-c;return l===undefined||r>=t||r<0||h&&n>=o}function E(){var e=m();if(w(e)){return T(e)}u=setTimeout(E,b(e))}function T(e){u=undefined;if(p&&i){return d(e)}i=a=undefined;return s}function k(){if(u!==undefined){clearTimeout(u)}c=0;i=l=a=u=undefined}function S(){return u===undefined?s:T(m())}function x(){var e=m(),r=w(e);i=arguments;a=this;l=e;if(r){if(u===undefined){return g(l)}if(h){u=setTimeout(E,t);return d(l)}}if(u===undefined){u=setTimeout(E,t)}return s}x.cancel=k;x.flush=S;return x}function _(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function b(e){return!!e&&typeof e=="object"}function w(e){return typeof e=="symbol"||b(e)&&d.call(e)==i}function C(e){if(typeof e=="number"){return e}if(w(e)){return n}if(_(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=_(t)?t+"":t}if(typeof e!="string"){return e===0?e:+e}e=e.replace(a,"");var r=s.test(e);return r||u.test(e)?l(e.slice(2),r?2:8):o.test(e)?n:+e}e.exports=g}).call(this,r(3))},function(e,t,r){"use strict";e.exports={filename:{type:"filename",description:"filename to use when reading from stdin - this will be used in source-maps, errors etc",default:"unknown",shorthand:"f"},filenameRelative:{hidden:true,type:"string"},inputSourceMap:{hidden:true},env:{hidden:true,default:{}},mode:{description:"",hidden:true},retainLines:{type:"boolean",default:false,description:"retain line numbers - will result in really ugly code"},highlightCode:{description:"enable/disable ANSI syntax highlighting of code frames (on by default)",type:"boolean",default:true},suppressDeprecationMessages:{type:"boolean",default:false,hidden:true},presets:{type:"list",description:"",default:[]},plugins:{type:"list",default:[],description:""},ignore:{type:"list",description:"list of glob paths to **not** compile",default:[]},only:{type:"list",description:"list of glob paths to **only** compile"},code:{hidden:true,default:true,type:"boolean"},metadata:{hidden:true,default:true,type:"boolean"},ast:{hidden:true,default:true,type:"boolean"},extends:{type:"string",hidden:true},comments:{type:"boolean",default:true,description:"write comments to generated output (true by default)"},shouldPrintComment:{hidden:true,description:"optional callback to control whether a comment should be inserted, when this is used the comments option is ignored"},wrapPluginVisitorMethod:{hidden:true,description:"optional callback to wrap all visitor methods"},compact:{type:"booleanString",default:"auto",description:"do not include superfluous whitespace characters and line terminators [true|false|auto]"},minified:{type:"boolean",default:false,description:"save as much bytes when printing [true|false]"},sourceMap:{alias:"sourceMaps",hidden:true},sourceMaps:{type:"booleanString",description:"[true|false|inline]",default:false,shorthand:"s"},sourceMapTarget:{type:"string",description:"set `file` on returned source map"},sourceFileName:{type:"string",description:"set `sources[0]` on returned source map"},sourceRoot:{type:"filename",description:"the root from which all sources are relative"},babelrc:{description:"Whether or not to look up .babelrc and .babelignore files",type:"boolean",default:true},sourceType:{description:"",default:"module"},auxiliaryCommentBefore:{type:"string",description:"print a comment before any injected non-user code"},auxiliaryCommentAfter:{type:"string",description:"print a comment after any injected non-user code"},resolveModuleSource:{hidden:true},getModuleId:{hidden:true},moduleRoot:{type:"filename",description:"optional prefix for the AMD module formatter that will be prepend to the filename on module definitions"},moduleIds:{type:"boolean",default:false,shorthand:"M",description:"insert an explicit id for modules"},moduleId:{description:"specify a custom name for module ids",type:"string"},passPerPreset:{description:"Whether to spawn a traversal pass per a preset. By default all presets are merged.",type:"boolean",default:false,hidden:true},parserOpts:{description:"Options to pass into the parser, or to change parsers (parserOpts.parser)",default:false},generatorOpts:{description:"Options to pass into the generator, or to change generators (generatorOpts.generator)",default:false}}},function(e,t,r){(function(e,t){(function(e,r){"use strict";if(e.setImmediate){return}var n=1;var i={};var a=false;var o=e.document;var s;function u(e){if(typeof e!=="function"){e=new Function(""+e)}var t=new Array(arguments.length-1);for(var r=0;r<t.length;r++){t[r]=arguments[r+1]}var a={callback:e,args:t};i[n]=a;s(n);return n++}function l(e){delete i[e]}function c(e){var t=e.callback;var n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n);break}}function f(e){if(a){setTimeout(f,0,e)}else{var t=i[e];if(t){a=true;try{c(t)}finally{l(e);a=false}}}}function h(){s=function(e){t.nextTick(function(){f(e)})}}function p(){if(e.postMessage&&!e.importScripts){var t=true;var r=e.onmessage;e.onmessage=function(){t=false};e.postMessage("","*");e.onmessage=r;return t}}function d(){var t="setImmediate$"+Math.random()+"$";var r=function(r){if(r.source===e&&typeof r.data==="string"&&r.data.indexOf(t)===0){f(+r.data.slice(t.length))}};if(e.addEventListener){e.addEventListener("message",r,false)}else{e.attachEvent("onmessage",r)}s=function(r){e.postMessage(t+r,"*")}}function v(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;f(t)};s=function(t){e.port2.postMessage(t)}}function y(){var e=o.documentElement;s=function(t){var r=o.createElement("script");r.onreadystatechange=function(){f(t);r.onreadystatechange=null;e.removeChild(r);r=null};e.appendChild(r)}}function m(){s=function(e){setTimeout(f,0,e)}}var g=Object.getPrototypeOf&&Object.getPrototypeOf(e);g=g&&g.setTimeout?g:e;if({}.toString.call(e.process)==="[object process]"){h()}else if(p()){d()}else if(e.MessageChannel){v()}else if(o&&"onreadystatechange"in o.createElement("script")){y()}else{m()}g.setImmediate=u;g.clearImmediate=l})(typeof self==="undefined"?typeof e==="undefined"?this:e:self)}).call(this,r(3),r(15))},function(e,t,r){"use strict";var n=r(4);var i=r.n(n);var a=i.a},function(e,t,r){t=e.exports=r(0)(false);t.push([e.i,".paddedLeftAndBottom[data-v-58331e2a]{padding:0 0 10px 10px}.noBold[data-v-58331e2a]{font-weight:400}",""])},function(e,t,r){"use strict";var n=r(5);var i=r.n(n);var a=i.a},function(e,t,r){t=e.exports=r(0)(false);t.push([e.i,"",""])},function(e,t,r){"use strict";var n=r(6);var i=r.n(n);var a=i.a},function(e,t,r){t=e.exports=r(0)(false);t.push([e.i,".paddedLeftAndBottom[data-v-581721f5]{padding:0 0 10px 10px}",""])},function(e,t,r){"use strict";var n=r(7);var i=r.n(n);var a=i.a},function(e,t,r){t=e.exports=r(0)(false);t.push([e.i,"#home{font-family:Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:#2c3e50}#topRight{position:absolute;top:1%;right:1%;width:20vw;padding:0;border:1px solid var(--separator-colour);opacity:.1;transition:opacity .2s ease 0s}#topRight:hover{opacity:1}#topRightButtons{display:flex;justify-content:flex-end;margin-bottom:10px}.topRightButton{width:50%;padding:6px 10px;border-width:0 0 1px;border-bottom:1px solid #ccc;cursor:pointer;background:#f0f0f0;color:#34495e}.bottomRightButton{display:flex;align-items:center;justify-content:center;position:absolute;bottom:25%;right:22%;width:30px;height:30px;border-radius:100%;padding:10px;cursor:pointer;background-color:#f44336;background:#f44336;border:none;outline:none;color:#fff;opacity:.5;font-size:36px;box-shadow:6px 6px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23)}.bottomRightButton:hover{opacity:1;box-shadow:6px 6px 6px rgba(0,0,0,.32),0 3px 6px rgba(0,0,0,.46)}",""])},function(e,t,r){"use strict";r.r(t);(function(e,t){var n=r(31);var i=r.n(n);var a=setTimeout;function o(){}function s(e,t){return function(){e.apply(t,arguments)}}function u(e){if(!(this instanceof u))throw new TypeError("Promises must be constructed via new");if(typeof e!=="function")throw new TypeError("not a function");this._state=0;this._handled=false;this._value=undefined;this._deferreds=[];d(e,this)}function l(e,t){while(e._state===3){e=e._value}if(e._state===0){e._deferreds.push(t);return}e._handled=true;u._immediateFn(function(){var r=e._state===1?t.onFulfilled:t.onRejected;if(r===null){(e._state===1?c:f)(t.promise,e._value);return}var n;try{n=r(e._value)}catch(e){f(t.promise,e);return}c(t.promise,n)})}function c(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&(typeof t==="object"||typeof t==="function")){var r=t.then;if(t instanceof u){e._state=3;e._value=t;h(e);return}else if(typeof r==="function"){d(s(r,t),e);return}}e._state=1;e._value=t;h(e)}catch(t){f(e,t)}}function f(e,t){e._state=2;e._value=t;h(e)}function h(e){if(e._state===2&&e._deferreds.length===0){u._immediateFn(function(){if(!e._handled){u._unhandledRejectionFn(e._value)}})}for(var t=0,r=e._deferreds.length;t<r;t++){l(e,e._deferreds[t])}e._deferreds=null}function p(e,t,r){this.onFulfilled=typeof e==="function"?e:null;this.onRejected=typeof t==="function"?t:null;this.promise=r}function d(e,t){var r=false;try{e(function(e){if(r)return;r=true;c(t,e)},function(e){if(r)return;r=true;f(t,e)})}catch(e){if(r)return;r=true;f(t,e)}}u.prototype["catch"]=function(e){return this.then(null,e)};u.prototype.then=function(e,t){var r=new this.constructor(o);l(this,new p(e,t,r));return r};u.prototype["finally"]=function(e){var t=this.constructor;return this.then(function(r){return t.resolve(e()).then(function(){return r})},function(r){return t.resolve(e()).then(function(){return t.reject(r)})})};u.all=function(e){return new u(function(t,r){if(!e||typeof e.length==="undefined")throw new TypeError("Promise.all accepts an array");var n=Array.prototype.slice.call(e);if(n.length===0)return t([]);var i=n.length;function a(e,o){try{if(o&&(typeof o==="object"||typeof o==="function")){var s=o.then;if(typeof s==="function"){s.call(o,function(t){a(e,t)},r);return}}n[e]=o;if(--i===0){t(n)}}catch(e){r(e)}}for(var o=0;o<n.length;o++){a(o,n[o])}})};u.resolve=function(e){if(e&&typeof e==="object"&&e.constructor===u){return e}return new u(function(t){t(e)})};u.reject=function(e){return new u(function(t,r){r(e)})};u.race=function(e){return new u(function(t,r){for(var n=0,i=e.length;n<i;n++){e[n].then(t,r)}})};u._immediateFn=typeof e==="function"&&function(t){e(t)}||function(e){a(e,0)};u._unhandledRejectionFn=function e(t){if(typeof console!=="undefined"&&console){console.warn("Possible Unhandled Promise Rejection:",t)}};var v=function(){if(typeof self!=="undefined"){return self}if(typeof window!=="undefined"){return window}if(typeof t!=="undefined"){return t}throw new Error("unable to locate global object")}();if(!v.Promise){v.Promise=u}function y(e,t){return t={exports:{}},e(t,t.exports),t.exports}var m=y(function(e){var t=e.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();if(typeof __g=="number")__g=t});var g=y(function(e){var t=e.exports={version:"2.5.5"};if(typeof __e=="number")__e=t});var _=g.version;var b=function(e){return typeof e==="object"?e!==null:typeof e==="function"};var w=function(e){if(!b(e))throw TypeError(e+" is not an object!");return e};var C=function(e){try{return!!e()}catch(e){return true}};var E=!C(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7});var T=m.document;var k=b(T)&&b(T.createElement);var S=function(e){return k?T.createElement(e):{}};var x=!E&&!C(function(){return Object.defineProperty(S("div"),"a",{get:function(){return 7}}).a!=7});var I=function(e,t){if(!b(e))return e;var r,n;if(t&&typeof(r=e.toString)=="function"&&!b(n=r.call(e)))return n;if(typeof(r=e.valueOf)=="function"&&!b(n=r.call(e)))return n;if(!t&&typeof(r=e.toString)=="function"&&!b(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")};var O=Object.defineProperty;var N=E?Object.defineProperty:function e(t,r,n){w(t);r=I(r,true);w(n);if(x)try{return O(t,r,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");if("value"in n)t[r]=n.value;return t};var A={f:N};var P=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}};var D=E?function(e,t,r){return A.f(e,t,P(1,r))}:function(e,t,r){e[t]=r;return e};var R={}.hasOwnProperty;var M=function(e,t){return R.call(e,t)};var F=0;var L=Math.random();var j=function(e){return"Symbol(".concat(e===undefined?"":e,")_",(++F+L).toString(36))};var $=y(function(e){var t=j("src");var r="toString";var n=Function[r];var i=(""+n).split(r);g.inspectSource=function(e){return n.call(e)};(e.exports=function(e,r,n,a){var o=typeof n=="function";if(o)M(n,"name")||D(n,"name",r);if(e[r]===n)return;if(o)M(n,t)||D(n,t,e[r]?""+e[r]:i.join(String(r)));if(e===m){e[r]=n}else if(!a){delete e[r];D(e,r,n)}else if(e[r]){e[r]=n}else{D(e,r,n)}})(Function.prototype,r,function e(){return typeof this=="function"&&this[t]||n.call(this)})});var U=function(e){if(typeof e!="function")throw TypeError(e+" is not a function!");return e};var B=function(e,t,r){U(e);if(t===undefined)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}};var W="prototype";var q=function(e,t,r){var n=e&q.F;var i=e&q.G;var a=e&q.S;var o=e&q.P;var s=e&q.B;var u=i?m:a?m[t]||(m[t]={}):(m[t]||{})[W];var l=i?g:g[t]||(g[t]={});var c=l[W]||(l[W]={});var f,h,p,d;if(i)r=t;for(f in r){h=!n&&u&&u[f]!==undefined;p=(h?u:r)[f];d=s&&h?B(p,m):o&&typeof p=="function"?B(Function.call,p):p;if(u)$(u,f,p,e&q.U);if(l[f]!=p)D(l,f,d);if(o&&c[f]!=p)c[f]=p}};m.core=g;q.F=1;q.G=2;q.S=4;q.P=8;q.B=16;q.W=32;q.U=64;q.R=128;var V=q;var H={}.toString;var Q=function(e){return H.call(e).slice(8,-1)};var K=Object("z").propertyIsEnumerable(0)?Object:function(e){return Q(e)=="String"?e.split(""):Object(e)};var z=function(e){if(e==undefined)throw TypeError("Can't call method on  "+e);return e};var G=function(e){return Object(z(e))};var Y=Math.ceil;var J=Math.floor;var X=function(e){return isNaN(e=+e)?0:(e>0?J:Y)(e)};var Z=Math.min;var ee=function(e){return e>0?Z(X(e),9007199254740991):0};var te=Array.isArray||function e(t){return Q(t)=="Array"};var re="__core-js_shared__";var ne=m[re]||(m[re]={});var ie=function(e){return ne[e]||(ne[e]={})};var ae=y(function(e){var t=ie("wks");var r=m.Symbol;var n=typeof r=="function";var i=e.exports=function(e){return t[e]||(t[e]=n&&r[e]||(n?r:j)("Symbol."+e))};i.store=t});var oe=ae("species");var se=function(e){var t;if(te(e)){t=e.constructor;if(typeof t=="function"&&(t===Array||te(t.prototype)))t=undefined;if(b(t)){t=t[oe];if(t===null)t=undefined}}return t===undefined?Array:t};var ue=function(e,t){return new(se(e))(t)};var le=function(e,t){var r=e==1;var n=e==2;var i=e==3;var a=e==4;var o=e==6;var s=e==5||o;var u=t||ue;return function(t,l,c){var f=G(t);var h=K(f);var p=B(l,c,3);var d=ee(h.length);var v=0;var y=r?u(t,d):n?u(t,0):undefined;var m,g;for(;d>v;v++)if(s||v in h){m=h[v];g=p(m,v,f);if(e){if(r)y[v]=g;else if(g)switch(e){case 3:return true;case 5:return m;case 6:return v;case 2:y.push(m)}else if(a)return false}}return o?-1:i||a?a:y}};var ce=ae("unscopables");var fe=Array.prototype;if(fe[ce]==undefined)D(fe,ce,{});var he=function(e){fe[ce][e]=true};var pe=le(5);var de="find";var ve=true;if(de in[])Array(1)[de](function(){ve=false});V(V.P+V.F*ve,"Array",{find:function e(t){return pe(this,t,arguments.length>1?arguments[1]:undefined)}});he(de);var ye=g.Array.find;var me=le(6);var ge="findIndex";var _e=true;if(ge in[])Array(1)[ge](function(){_e=false});V(V.P+V.F*_e,"Array",{findIndex:function e(t){return me(this,t,arguments.length>1?arguments[1]:undefined)}});he(ge);var be=g.Array.findIndex;var we=function(e){return K(z(e))};var Ce=Math.max;var Ee=Math.min;var Te=function(e,t){e=X(e);return e<0?Ce(e+t,0):Ee(e,t)};var ke=function(e){return function(t,r,n){var i=we(t);var a=ee(i.length);var o=Te(n,a);var s;if(e&&r!=r)while(a>o){s=i[o++];if(s!=s)return true}else for(;a>o;o++)if(e||o in i){if(i[o]===r)return e||o||0}return!e&&-1}};var Se=ie("keys");var xe=function(e){return Se[e]||(Se[e]=j(e))};var Ie=ke(false);var Oe=xe("IE_PROTO");var Ne=function(e,t){var r=we(e);var n=0;var i=[];var a;for(a in r)if(a!=Oe)M(r,a)&&i.push(a);while(t.length>n)if(M(r,a=t[n++])){~Ie(i,a)||i.push(a)}return i};var Ae="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");var Pe=Object.keys||function e(t){return Ne(t,Ae)};var De=Object.getOwnPropertySymbols;var Re={f:De};var Me={}.propertyIsEnumerable;var Fe={f:Me};var Le=Object.assign;var je=!Le||C(function(){var e={};var t={};var r=Symbol();var n="abcdefghijklmnopqrst";e[r]=7;n.split("").forEach(function(e){t[e]=e});return Le({},e)[r]!=7||Object.keys(Le({},t)).join("")!=n})?function e(t,r){var n=G(t);var i=arguments.length;var a=1;var o=Re.f;var s=Fe.f;while(i>a){var u=K(arguments[a++]);var l=o?Pe(u).concat(o(u)):Pe(u);var c=l.length;var f=0;var h;while(c>f)if(s.call(u,h=l[f++]))n[h]=u[h]}return n}:Le;V(V.S+V.F,"Object",{assign:je});var $e=g.Object.assign;var Ue=ae("match");var Be=function(e){var t;return b(e)&&((t=e[Ue])!==undefined?!!t:Q(e)=="RegExp")};var We=function(e,t,r){if(Be(t))throw TypeError("String#"+r+" doesn't accept regex!");return String(z(e))};var qe=ae("match");var Ve=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{t[qe]=false;return!"/./"[e](t)}catch(e){}}return true};var He="startsWith";var Qe=""[He];V(V.P+V.F*Ve(He),"String",{startsWith:function e(t){var r=We(this,t,He);var n=ee(Math.min(arguments.length>1?arguments[1]:undefined,r.length));var i=String(t);return Qe?Qe.call(r,i,n):r.slice(n,n+i.length)===i}});var Ke=g.String.startsWith;var ze=function e(t){var r=String(z(this));var n="";var i=X(t);if(i<0||i==Infinity)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(r+=r))if(i&1)n+=r;return n};V(V.P,"String",{repeat:ze});var Ge=g.String.repeat;var Ye=y(function(e){var t=j("meta");var r=A.f;var n=0;var i=Object.isExtensible||function(){return true};var a=!C(function(){return i(Object.preventExtensions({}))});var o=function(e){r(e,t,{value:{i:"O"+ ++n,w:{}}})};var s=function(e,r){if(!b(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!M(e,t)){if(!i(e))return"F";if(!r)return"E";o(e)}return e[t].i};var u=function(e,r){if(!M(e,t)){if(!i(e))return true;if(!r)return false;o(e)}return e[t].w};var l=function(e){if(a&&c.NEED&&i(e)&&!M(e,t))o(e);return e};var c=e.exports={KEY:t,NEED:false,fastKey:s,getWeak:u,onFreeze:l}});var Je=Ye.KEY;var Xe=Ye.NEED;var Ze=Ye.fastKey;var et=Ye.getWeak;var tt=Ye.onFreeze;var rt=A.f;var nt=ae("toStringTag");var it=function(e,t,r){if(e&&!M(e=r?e:e.prototype,nt))rt(e,nt,{configurable:true,value:t})};var at=ae;var ot={f:at};var st=false;var ut=A.f;var lt=function(e){var t=g.Symbol||(g.Symbol=st?{}:m.Symbol||{});if(e.charAt(0)!="_"&&!(e in t))ut(t,e,{value:ot.f(e)})};var ct=function(e){var t=Pe(e);var r=Re.f;if(r){var n=r(e);var i=Fe.f;var a=0;var o;while(n.length>a)if(i.call(e,o=n[a++]))t.push(o)}return t};var ft=E?Object.defineProperties:function e(t,r){w(t);var n=Pe(r);var i=n.length;var a=0;var o;while(i>a)A.f(t,o=n[a++],r[o]);return t};var ht=m.document;var pt=ht&&ht.documentElement;var dt=xe("IE_PROTO");var vt=function(){};var yt="prototype";var mt=function(){var e=S("iframe");var t=Ae.length;var r="<";var n=">";var i;e.style.display="none";pt.appendChild(e);e.src="javascript:";i=e.contentWindow.document;i.open();i.write(r+"script"+n+"document.F=Object"+r+"/script"+n);i.close();mt=i.F;while(t--)delete mt[yt][Ae[t]];return mt()};var gt=Object.create||function e(t,r){var n;if(t!==null){vt[yt]=w(t);n=new vt;vt[yt]=null;n[dt]=t}else n=mt();return r===undefined?n:ft(n,r)};var _t=Ae.concat("length","prototype");var bt=Object.getOwnPropertyNames||function e(t){return Ne(t,_t)};var wt={f:bt};var Ct=wt.f;var Et={}.toString;var Tt=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];var kt=function(e){try{return Ct(e)}catch(e){return Tt.slice()}};var St=function e(t){return Tt&&Et.call(t)=="[object Window]"?kt(t):Ct(we(t))};var xt={f:St};var It=Object.getOwnPropertyDescriptor;var Ot=E?It:function e(t,r){t=we(t);r=I(r,true);if(x)try{return It(t,r)}catch(e){}if(M(t,r))return P(!Fe.f.call(t,r),t[r])};var Nt={f:Ot};var At=Ye.KEY;var Pt=Nt.f;var Dt=A.f;var Rt=xt.f;var Mt=m.Symbol;var Ft=m.JSON;var Lt=Ft&&Ft.stringify;var jt="prototype";var $t=ae("_hidden");var Ut=ae("toPrimitive");var Bt={}.propertyIsEnumerable;var Wt=ie("symbol-registry");var qt=ie("symbols");var Vt=ie("op-symbols");var Ht=Object[jt];var Qt=typeof Mt=="function";var Kt=m.QObject;var zt=!Kt||!Kt[jt]||!Kt[jt].findChild;var Gt=E&&C(function(){return gt(Dt({},"a",{get:function(){return Dt(this,"a",{value:7}).a}})).a!=7})?function(e,t,r){var n=Pt(Ht,t);if(n)delete Ht[t];Dt(e,t,r);if(n&&e!==Ht)Dt(Ht,t,n)}:Dt;var Yt=function(e){var t=qt[e]=gt(Mt[jt]);t._k=e;return t};var Jt=Qt&&typeof Mt.iterator=="symbol"?function(e){return typeof e=="symbol"}:function(e){return e instanceof Mt};var Xt=function e(t,r,n){if(t===Ht)Xt(Vt,r,n);w(t);r=I(r,true);w(n);if(M(qt,r)){if(!n.enumerable){if(!M(t,$t))Dt(t,$t,P(1,{}));t[$t][r]=true}else{if(M(t,$t)&&t[$t][r])t[$t][r]=false;n=gt(n,{enumerable:P(0,false)})}return Gt(t,r,n)}return Dt(t,r,n)};var Zt=function e(t,r){w(t);var n=ct(r=we(r));var i=0;var a=n.length;var o;while(a>i)Xt(t,o=n[i++],r[o]);return t};var er=function e(t,r){return r===undefined?gt(t):Zt(gt(t),r)};var tr=function e(t){var r=Bt.call(this,t=I(t,true));if(this===Ht&&M(qt,t)&&!M(Vt,t))return false;return r||!M(this,t)||!M(qt,t)||M(this,$t)&&this[$t][t]?r:true};var rr=function e(t,r){t=we(t);r=I(r,true);if(t===Ht&&M(qt,r)&&!M(Vt,r))return;var n=Pt(t,r);if(n&&M(qt,r)&&!(M(t,$t)&&t[$t][r]))n.enumerable=true;return n};var nr=function e(t){var r=Rt(we(t));var n=[];var i=0;var a;while(r.length>i){if(!M(qt,a=r[i++])&&a!=$t&&a!=At)n.push(a)}return n};var ir=function e(t){var r=t===Ht;var n=Rt(r?Vt:we(t));var i=[];var a=0;var o;while(n.length>a){if(M(qt,o=n[a++])&&(r?M(Ht,o):true))i.push(qt[o])}return i};if(!Qt){Mt=function e(){if(this instanceof Mt)throw TypeError("Symbol is not a constructor!");var t=j(arguments.length>0?arguments[0]:undefined);var r=function(e){if(this===Ht)r.call(Vt,e);if(M(this,$t)&&M(this[$t],t))this[$t][t]=false;Gt(this,t,P(1,e))};if(E&&zt)Gt(Ht,t,{configurable:true,set:r});return Yt(t)};$(Mt[jt],"toString",function e(){return this._k});Nt.f=rr;A.f=Xt;wt.f=xt.f=nr;Fe.f=tr;Re.f=ir;if(E&&!st){$(Ht,"propertyIsEnumerable",tr,true)}ot.f=function(e){return Yt(ae(e))}}V(V.G+V.W+V.F*!Qt,{Symbol:Mt});for(var ar="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),or=0;ar.length>or;)ae(ar[or++]);for(var sr=Pe(ae.store),ur=0;sr.length>ur;)lt(sr[ur++]);V(V.S+V.F*!Qt,"Symbol",{for:function(e){return M(Wt,e+="")?Wt[e]:Wt[e]=Mt(e)},keyFor:function e(t){if(!Jt(t))throw TypeError(t+" is not a symbol!");for(var r in Wt)if(Wt[r]===t)return r},useSetter:function(){zt=true},useSimple:function(){zt=false}});V(V.S+V.F*!Qt,"Object",{create:er,defineProperty:Xt,defineProperties:Zt,getOwnPropertyDescriptor:rr,getOwnPropertyNames:nr,getOwnPropertySymbols:ir});Ft&&V(V.S+V.F*(!Qt||C(function(){var e=Mt();return Lt([e])!="[null]"||Lt({a:e})!="{}"||Lt(Object(e))!="{}"})),"JSON",{stringify:function e(t){var r=[t];var n=1;var i,a;while(arguments.length>n)r.push(arguments[n++]);a=i=r[1];if(!b(i)&&t===undefined||Jt(t))return;if(!te(i))i=function(e,t){if(typeof a=="function")t=a.call(this,e,t);if(!Jt(t))return t};r[1]=i;return Lt.apply(Ft,r)}});Mt[jt][Ut]||D(Mt[jt],Ut,Mt[jt].valueOf);it(Mt,"Symbol");it(Math,"Math",true);it(m.JSON,"JSON",true);var lr=ae("toStringTag");var cr=Q(function(){return arguments}())=="Arguments";var fr=function(e,t){try{return e[t]}catch(e){}};var hr=function(e){var t,r,n;return e===undefined?"Undefined":e===null?"Null":typeof(r=fr(t=Object(e),lr))=="string"?r:cr?Q(t):(n=Q(t))=="Object"&&typeof t.callee=="function"?"Arguments":n};var pr={};pr[ae("toStringTag")]="z";if(pr+""!="[object z]"){$(Object.prototype,"toString",function e(){return"[object "+hr(this)+"]"},true)}lt("asyncIterator");lt("observable");var dr=g.Symbol;var vr=function(e){return function(t,r){var n=String(z(t));var i=X(r);var a=n.length;var o,s;if(i<0||i>=a)return e?"":undefined;o=n.charCodeAt(i);return o<55296||o>56319||i+1===a||(s=n.charCodeAt(i+1))<56320||s>57343?e?n.charAt(i):o:e?n.slice(i,i+2):(o-55296<<10)+(s-56320)+65536}};var yr={};var mr={};D(mr,ae("iterator"),function(){return this});var gr=function(e,t,r){e.prototype=gt(mr,{next:P(1,r)});it(e,t+" Iterator")};var _r=xe("IE_PROTO");var br=Object.prototype;var wr=Object.getPrototypeOf||function(e){e=G(e);if(M(e,_r))return e[_r];if(typeof e.constructor=="function"&&e instanceof e.constructor){return e.constructor.prototype}return e instanceof Object?br:null};var Cr=ae("iterator");var Er=!([].keys&&"next"in[].keys());var Tr="@@iterator";var kr="keys";var Sr="values";var xr=function(){return this};var Ir=function(e,t,r,n,i,a,o){gr(r,t,n);var s=function(e){if(!Er&&e in f)return f[e];switch(e){case kr:return function t(){return new r(this,e)};case Sr:return function t(){return new r(this,e)}}return function t(){return new r(this,e)}};var u=t+" Iterator";var l=i==Sr;var c=false;var f=e.prototype;var h=f[Cr]||f[Tr]||i&&f[i];var p=h||s(i);var d=i?!l?p:s("entries"):undefined;var v=t=="Array"?f.entries||h:h;var y,m,g;if(v){g=wr(v.call(new e));if(g!==Object.prototype&&g.next){it(g,u,true);if(!st&&typeof g[Cr]!="function")D(g,Cr,xr)}}if(l&&h&&h.name!==Sr){c=true;p=function e(){return h.call(this)}}if((!st||o)&&(Er||c||!f[Cr])){D(f,Cr,p)}yr[t]=p;yr[u]=xr;if(i){y={values:l?p:s(Sr),keys:a?p:s(kr),entries:d};if(o)for(m in y){if(!(m in f))$(f,m,y[m])}else V(V.P+V.F*(Er||c),t,y)}return y};var Or=vr(true);Ir(String,"String",function(e){this._t=String(e);this._i=0},function(){var e=this._t;var t=this._i;var r;if(t>=e.length)return{value:undefined,done:true};r=Or(e,t);this._i+=r.length;return{value:r,done:false}});var Nr=function(e,t){return{value:t,done:!!e}};var Ar=Ir(Array,"Array",function(e,t){this._t=we(e);this._i=0;this._k=t},function(){var e=this._t;var t=this._k;var r=this._i++;if(!e||r>=e.length){this._t=undefined;return Nr(1)}if(t=="keys")return Nr(0,r);if(t=="values")return Nr(0,e[r]);return Nr(0,[r,e[r]])},"values");yr.Arguments=yr.Array;he("keys");he("values");he("entries");var Pr=ae("iterator");var Dr=ae("toStringTag");var Rr=yr.Array;var Mr={CSSRuleList:true,CSSStyleDeclaration:false,CSSValueList:false,ClientRectList:false,DOMRectList:false,DOMStringList:false,DOMTokenList:true,DataTransferItemList:false,FileList:false,HTMLAllCollection:false,HTMLCollection:false,HTMLFormElement:false,HTMLSelectElement:false,MediaList:true,MimeTypeArray:false,NamedNodeMap:false,NodeList:true,PaintRequestList:false,Plugin:false,PluginArray:false,SVGLengthList:false,SVGNumberList:false,SVGPathSegList:false,SVGPointList:false,SVGStringList:false,SVGTransformList:false,SourceBufferList:false,StyleSheetList:true,TextTrackCueList:false,TextTrackList:false,TouchList:false};for(var Fr=Pe(Mr),Lr=0;Lr<Fr.length;Lr++){var jr=Fr[Lr];var $r=Mr[jr];var Ur=m[jr];var Br=Ur&&Ur.prototype;var Wr;if(Br){if(!Br[Pr])D(Br,Pr,Rr);if(!Br[Dr])D(Br,Dr,jr);yr[jr]=Rr;if($r)for(Wr in Ar)if(!Br[Wr])$(Br,Wr,Ar[Wr],true)}}var qr=ot.f("iterator")}).call(this,r(14).setImmediate,r(3))},function(e,t){(function(e){"use strict";if(e.fetch){return}var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{new Blob;return true}catch(e){return false}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer){var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];var n=function(e){return e&&DataView.prototype.isPrototypeOf(e)};var i=ArrayBuffer.isView||function(e){return e&&r.indexOf(Object.prototype.toString.call(e))>-1}}function a(e){if(typeof e!=="string"){e=String(e)}if(/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e)){throw new TypeError("Invalid character in header field name")}return e.toLowerCase()}function o(e){if(typeof e!=="string"){e=String(e)}return e}function s(e){var r={next:function(){var t=e.shift();return{done:t===undefined,value:t}}};if(t.iterable){r[Symbol.iterator]=function(){return r}}return r}function u(e){this.map={};if(e instanceof u){e.forEach(function(e,t){this.append(t,e)},this)}else if(Array.isArray(e)){e.forEach(function(e){this.append(e[0],e[1])},this)}else if(e){Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}}u.prototype.append=function(e,t){e=a(e);t=o(t);var r=this.map[e];this.map[e]=r?r+","+t:t};u.prototype["delete"]=function(e){delete this.map[a(e)]};u.prototype.get=function(e){e=a(e);return this.has(e)?this.map[e]:null};u.prototype.has=function(e){return this.map.hasOwnProperty(a(e))};u.prototype.set=function(e,t){this.map[a(e)]=o(t)};u.prototype.forEach=function(e,t){for(var r in this.map){if(this.map.hasOwnProperty(r)){e.call(t,this.map[r],r,this)}}};u.prototype.keys=function(){var e=[];this.forEach(function(t,r){e.push(r)});return s(e)};u.prototype.values=function(){var e=[];this.forEach(function(t){e.push(t)});return s(e)};u.prototype.entries=function(){var e=[];this.forEach(function(t,r){e.push([r,t])});return s(e)};if(t.iterable){u.prototype[Symbol.iterator]=u.prototype.entries}function l(e){if(e.bodyUsed){return Promise.reject(new TypeError("Already read"))}e.bodyUsed=true}function c(e){return new Promise(function(t,r){e.onload=function(){t(e.result)};e.onerror=function(){r(e.error)}})}function f(e){var t=new FileReader;var r=c(t);t.readAsArrayBuffer(e);return r}function h(e){var t=new FileReader;var r=c(t);t.readAsText(e);return r}function p(e){var t=new Uint8Array(e);var r=new Array(t.length);for(var n=0;n<t.length;n++){r[n]=String.fromCharCode(t[n])}return r.join("")}function d(e){if(e.slice){return e.slice(0)}else{var t=new Uint8Array(e.byteLength);t.set(new Uint8Array(e));return t.buffer}}function v(){this.bodyUsed=false;this._initBody=function(e){this._bodyInit=e;if(!e){this._bodyText=""}else if(typeof e==="string"){this._bodyText=e}else if(t.blob&&Blob.prototype.isPrototypeOf(e)){this._bodyBlob=e}else if(t.formData&&FormData.prototype.isPrototypeOf(e)){this._bodyFormData=e}else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)){this._bodyText=e.toString()}else if(t.arrayBuffer&&t.blob&&n(e)){this._bodyArrayBuffer=d(e.buffer);this._bodyInit=new Blob([this._bodyArrayBuffer])}else if(t.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||i(e))){this._bodyArrayBuffer=d(e)}else{throw new Error("unsupported BodyInit type")}if(!this.headers.get("content-type")){if(typeof e==="string"){this.headers.set("content-type","text/plain;charset=UTF-8")}else if(this._bodyBlob&&this._bodyBlob.type){this.headers.set("content-type",this._bodyBlob.type)}else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)){this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8")}}};if(t.blob){this.blob=function(){var e=l(this);if(e){return e}if(this._bodyBlob){return Promise.resolve(this._bodyBlob)}else if(this._bodyArrayBuffer){return Promise.resolve(new Blob([this._bodyArrayBuffer]))}else if(this._bodyFormData){throw new Error("could not read FormData body as blob")}else{return Promise.resolve(new Blob([this._bodyText]))}};this.arrayBuffer=function(){if(this._bodyArrayBuffer){return l(this)||Promise.resolve(this._bodyArrayBuffer)}else{return this.blob().then(f)}}}this.text=function(){var e=l(this);if(e){return e}if(this._bodyBlob){return h(this._bodyBlob)}else if(this._bodyArrayBuffer){return Promise.resolve(p(this._bodyArrayBuffer))}else if(this._bodyFormData){throw new Error("could not read FormData body as text")}else{return Promise.resolve(this._bodyText)}};if(t.formData){this.formData=function(){return this.text().then(_)}}this.json=function(){return this.text().then(JSON.parse)};return this}var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function m(e){var t=e.toUpperCase();return y.indexOf(t)>-1?t:e}function g(e,t){t=t||{};var r=t.body;if(e instanceof g){if(e.bodyUsed){throw new TypeError("Already read")}this.url=e.url;this.credentials=e.credentials;if(!t.headers){this.headers=new u(e.headers)}this.method=e.method;this.mode=e.mode;if(!r&&e._bodyInit!=null){r=e._bodyInit;e.bodyUsed=true}}else{this.url=String(e)}this.credentials=t.credentials||this.credentials||"omit";if(t.headers||!this.headers){this.headers=new u(t.headers)}this.method=m(t.method||this.method||"GET");this.mode=t.mode||this.mode||null;this.referrer=null;if((this.method==="GET"||this.method==="HEAD")&&r){throw new TypeError("Body not allowed for GET or HEAD requests")}this._initBody(r)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})};function _(e){var t=new FormData;e.trim().split("&").forEach(function(e){if(e){var r=e.split("=");var n=r.shift().replace(/\+/g," ");var i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}});return t}function b(e){var t=new u;var r=e.replace(/\r?\n[\t ]+/g," ");r.split(/\r?\n/).forEach(function(e){var r=e.split(":");var n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}});return t}v.call(g.prototype);function w(e,t){if(!t){t={}}this.type="default";this.status=t.status===undefined?200:t.status;this.ok=this.status>=200&&this.status<300;this.statusText="statusText"in t?t.statusText:"OK";this.headers=new u(t.headers);this.url=t.url||"";this._initBody(e)}v.call(w.prototype);w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})};w.error=function(){var e=new w(null,{status:0,statusText:""});e.type="error";return e};var C=[301,302,303,307,308];w.redirect=function(e,t){if(C.indexOf(t)===-1){throw new RangeError("Invalid status code")}return new w(null,{status:t,headers:{location:e}})};e.Headers=u;e.Request=g;e.Response=w;e.fetch=function(e,r){return new Promise(function(n,i){var a=new g(e,r);var o=new XMLHttpRequest;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:b(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;n(new w(t,e))};o.onerror=function(){i(new TypeError("Network request failed"))};o.ontimeout=function(){i(new TypeError("Network request failed"))};o.open(a.method,a.url,true);if(a.credentials==="include"){o.withCredentials=true}else if(a.credentials==="omit"){o.withCredentials=false}if("responseType"in o&&t.blob){o.responseType="blob"}a.headers.forEach(function(e,t){o.setRequestHeader(t,e)});o.send(typeof a._bodyInit==="undefined"?null:a._bodyInit)})};e.fetch.polyfill=true})(typeof self!=="undefined"?self:this)},function(e,t,r){"use strict";(function(n){Object.defineProperty(t,"__esModule",{value:true});function i(e){return e&&typeof e==="object"&&"default"in e?e["default"]:e}var a=r(17);var o=r(33);var s=r(18);var u=i(r(16));var l=function(){function e(e){this.domStorage_=e;this.prefix_="firebase:"}e.prototype.set=function(e,t){if(t==null){this.domStorage_.removeItem(this.prefixedName_(e))}else{this.domStorage_.setItem(this.prefixedName_(e),a.stringify(t))}};e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));if(t==null){return null}else{return a.jsonEval(t)}};e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))};e.prototype.prefixedName_=function(e){return this.prefix_+e};e.prototype.toString=function(){return this.domStorage_.toString()};return e}();var c=function(){function e(){this.cache_={};this.isInMemoryStorage=true}e.prototype.set=function(e,t){if(t==null){delete this.cache_[e]}else{this.cache_[e]=t}};e.prototype.get=function(e){if(a.contains(this.cache_,e)){return this.cache_[e]}return null};e.prototype.remove=function(e){delete this.cache_[e]};return e}();var f=function(e){try{if(typeof window!=="undefined"&&typeof window[e]!=="undefined"){var t=window[e];t.setItem("firebase:sentinel","cache");t.removeItem("firebase:sentinel");return new l(t)}}catch(e){}return new c};var h=f("localStorage");var p=f("sessionStorage");var d=new o.Logger("@firebase/database");var v=function(){var e=1;return function(){return e++}}();var y=function(e){var t=a.stringToByteArray(e);var r=new a.Sha1;r.update(t);var n=r.digest();return a.base64.encodeByteArray(n)};var m=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}var r="";for(var n=0;n<e.length;n++){if(Array.isArray(e[n])||e[n]&&typeof e[n]==="object"&&typeof e[n].length==="number"){r+=m.apply(null,e[n])}else if(typeof e[n]==="object"){r+=a.stringify(e[n])}else{r+=e[n]}r+=" "}return r};var g=null;var _=true;var b=function(e,t){a.assert(!t||(e===true||e===false),"Can't turn on custom loggers persistently.");if(e===true){d.logLevel=o.LogLevel.VERBOSE;g=d.log.bind(d);if(t)p.set("logging_enabled",true)}else if(typeof e==="function"){g=e}else{g=null;p.remove("logging_enabled")}};var w=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}if(_===true){_=false;if(g===null&&p.get("logging_enabled")===true)b(true)}if(g){var r=m.apply(null,e);g(r)}};var C=function(e){return function(){var t=[];for(var r=0;r<arguments.length;r++){t[r]=arguments[r]}w.apply(void 0,[e].concat(t))}};var E=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}var r="FIREBASE INTERNAL ERROR: "+m.apply(void 0,e);d.error(r)};var T=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}var r="FIREBASE FATAL ERROR: "+m.apply(void 0,e);d.error(r);throw new Error(r)};var k=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}var r="FIREBASE WARNING: "+m.apply(void 0,e);d.warn(r)};var S=function(){if(typeof window!=="undefined"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1){k("Insecure Firebase access from a secure page. "+"Please use https in calls to new Firebase().")}};var x=function(e){return typeof e==="number"&&(e!=e||e==Number.POSITIVE_INFINITY||e==Number.NEGATIVE_INFINITY)};var I=function(e){if(a.isNodeSdk()||document.readyState==="complete"){e()}else{var t=false;var r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}if(!t){t=true;e()}};if(document.addEventListener){document.addEventListener("DOMContentLoaded",r,false);window.addEventListener("load",r,false)}else if(document.attachEvent){document.attachEvent("onreadystatechange",function(){if(document.readyState==="complete")r()});window.attachEvent("onload",r)}}};var O="[MIN_NAME]";var N="[MAX_NAME]";var A=function(e,t){if(e===t){return 0}else if(e===O||t===N){return-1}else if(t===O||e===N){return 1}else{var r=W(e),n=W(t);if(r!==null){if(n!==null){return r-n==0?e.length-t.length:r-n}else{return-1}}else if(n!==null){return 1}else{return e<t?-1:1}}};var P=function(e,t){if(e===t){return 0}else if(e<t){return-1}else{return 1}};var D=function(e,t){if(t&&e in t){return t[e]}else{throw new Error("Missing required key ("+e+") in object: "+a.stringify(t))}};var R=function(e){if(typeof e!=="object"||e===null)return a.stringify(e);var t=[];for(var r in e){t.push(r)}t.sort();var n="{";for(var i=0;i<t.length;i++){if(i!==0)n+=",";n+=a.stringify(t[i]);n+=":";n+=R(e[t[i]])}n+="}";return n};var M=function(e,t){var r=e.length;if(r<=t){return[e]}var n=[];for(var i=0;i<r;i+=t){if(i+t>r){n.push(e.substring(i,r))}else{n.push(e.substring(i,i+t))}}return n};var F=function(e,t){if(Array.isArray(e)){for(var r=0;r<e.length;++r){t(r,e[r])}}else{a.forEach(e,function(e,r){return t(r,e)})}};var L=function(e){a.assert(!x(e),"Invalid JSON number");var t=11,r=52;var n=(1<<t-1)-1,i,o,s,u,l,c,f;if(e===0){o=0;s=0;i=1/e===-Infinity?1:0}else{i=e<0;e=Math.abs(e);if(e>=Math.pow(2,1-n)){u=Math.min(Math.floor(Math.log(e)/Math.LN2),n);o=u+n;s=Math.round(e*Math.pow(2,r-u)-Math.pow(2,r))}else{o=0;s=Math.round(e/Math.pow(2,1-n-r))}}c=[];for(l=r;l;l-=1){c.push(s%2?1:0);s=Math.floor(s/2)}for(l=t;l;l-=1){c.push(o%2?1:0);o=Math.floor(o/2)}c.push(i?1:0);c.reverse();f=c.join("");var h="";for(l=0;l<64;l+=8){var p=parseInt(f.substr(l,8),2).toString(16);if(p.length===1)p="0"+p;h=h+p}return h.toLowerCase()};var j=function(){return!!(typeof window==="object"&&window["chrome"]&&window["chrome"]["extension"]&&!/^chrome/.test(window.location.href))};var $=function(){return typeof Windows==="object"&&typeof Windows.UI==="object"};var U=function(e,t){var r="Unknown Error";if(e==="too_big"){r="The data requested exceeds the maximum size "+"that can be accessed with a single request."}else if(e=="permission_denied"){r="Client doesn't have permission to access the desired data."}else if(e=="unavailable"){r="The service is unavailable"}var n=new Error(e+" at "+t.path.toString()+": "+r);n.code=e.toUpperCase();return n};var B=new RegExp("^-?\\d{1,10}$");var W=function(e){if(B.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647){return t}}return null};var q=function(e){try{e()}catch(e){setTimeout(function(){var t=e.stack||"";k("Exception was thrown by user callback.",t);throw e},Math.floor(0))}};var V=function(){var e=typeof window==="object"&&window["navigator"]&&window["navigator"]["userAgent"]||"";return e.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0};var H=function(e,t){var r=setTimeout(e,t);if(typeof r==="object"&&r["unref"]){r["unref"]()}return r};var Q=function(){function e(e,t){if(t===void 0){this.pieces_=e.split("/");var r=0;for(var n=0;n<this.pieces_.length;n++){if(this.pieces_[n].length>0){this.pieces_[r]=this.pieces_[n];r++}}this.pieces_.length=r;this.pieceNum_=0}else{this.pieces_=e;this.pieceNum_=t}}Object.defineProperty(e,"Empty",{get:function(){return new e("")},enumerable:true,configurable:true});e.prototype.getFront=function(){if(this.pieceNum_>=this.pieces_.length)return null;return this.pieces_[this.pieceNum_]};e.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_};e.prototype.popFront=function(){var t=this.pieceNum_;if(t<this.pieces_.length){t++}return new e(this.pieces_,t)};e.prototype.getBack=function(){if(this.pieceNum_<this.pieces_.length)return this.pieces_[this.pieces_.length-1];return null};e.prototype.toString=function(){var e="";for(var t=this.pieceNum_;t<this.pieces_.length;t++){if(this.pieces_[t]!=="")e+="/"+this.pieces_[t]}return e||"/"};e.prototype.toUrlEncodedString=function(){var e="";for(var t=this.pieceNum_;t<this.pieces_.length;t++){if(this.pieces_[t]!=="")e+="/"+encodeURIComponent(String(this.pieces_[t]))}return e||"/"};e.prototype.slice=function(e){if(e===void 0){e=0}return this.pieces_.slice(this.pieceNum_+e)};e.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;var t=[];for(var r=this.pieceNum_;r<this.pieces_.length-1;r++)t.push(this.pieces_[r]);return new e(t,0)};e.prototype.child=function(t){var r=[];for(var n=this.pieceNum_;n<this.pieces_.length;n++)r.push(this.pieces_[n]);if(t instanceof e){for(var n=t.pieceNum_;n<t.pieces_.length;n++){r.push(t.pieces_[n])}}else{var i=t.split("/");for(var n=0;n<i.length;n++){if(i[n].length>0)r.push(i[n])}}return new e(r,0)};e.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length};e.relativePath=function(t,r){var n=t.getFront(),i=r.getFront();if(n===null){return r}else if(n===i){return e.relativePath(t.popFront(),r.popFront())}else{throw new Error("INTERNAL ERROR: innerPath ("+r+") is not within "+"outerPath ("+t+")")}};e.comparePaths=function(e,t){var r=e.slice();var n=t.slice();for(var i=0;i<r.length&&i<n.length;i++){var a=A(r[i],n[i]);if(a!==0)return a}if(r.length===n.length)return 0;return r.length<n.length?-1:1};e.prototype.equals=function(e){if(this.getLength()!==e.getLength()){return false}for(var t=this.pieceNum_,r=e.pieceNum_;t<=this.pieces_.length;t++,r++){if(this.pieces_[t]!==e.pieces_[r]){return false}}return true};e.prototype.contains=function(e){var t=this.pieceNum_;var r=e.pieceNum_;if(this.getLength()>e.getLength()){return false}while(t<this.pieces_.length){if(this.pieces_[t]!==e.pieces_[r]){return false}++t;++r}return true};return e}();var K=function(){function e(e,t){this.errorPrefix_=t;this.parts_=e.slice();this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++){this.byteLength_+=a.stringLength(this.parts_[r])}this.checkValid_()}Object.defineProperty(e,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:true,configurable:true});Object.defineProperty(e,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:true,configurable:true});e.prototype.push=function(e){if(this.parts_.length>0){this.byteLength_+=1}this.parts_.push(e);this.byteLength_+=a.stringLength(e);this.checkValid_()};e.prototype.pop=function(){var e=this.parts_.pop();this.byteLength_-=a.stringLength(e);if(this.parts_.length>0){this.byteLength_-=1}};e.prototype.checkValid_=function(){if(this.byteLength_>e.MAX_PATH_LENGTH_BYTES){throw new Error(this.errorPrefix_+"has a key path longer than "+e.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").")}if(this.parts_.length>e.MAX_PATH_DEPTH){throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+e.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())}};e.prototype.toErrorString=function(){if(this.parts_.length==0){return""}return"in property '"+this.parts_.join(".")+"'"};return e}();var z="5";var G="v";var Y="s";var J="r";var X="f";var Z="firebaseio.com";var ee="ls";var te="websocket";var re="long_polling";var ne=function(){function e(e,t,r,n,i){if(i===void 0){i=""}this.secure=t;this.namespace=r;this.webSocketOnly=n;this.persistenceKey=i;this.host=e.toLowerCase();this.domain=this.host.substr(this.host.indexOf(".")+1);this.internalHost=h.get("host:"+e)||this.host}e.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()};e.prototype.isCacheableHost=function(){return this.internalHost.substr(0,2)==="s-"};e.prototype.isDemoHost=function(){return this.domain==="firebaseio-demo.com"};e.prototype.isCustomHost=function(){return this.domain!=="firebaseio.com"&&this.domain!=="firebaseio-demo.com"};e.prototype.updateHost=function(e){if(e!==this.internalHost){this.internalHost=e;if(this.isCacheableHost()){h.set("host:"+this.host,this.internalHost)}}};e.prototype.connectionURL=function(e,t){a.assert(typeof e==="string","typeof type must == string");a.assert(typeof t==="object","typeof params must == object");var r;if(e===te){r=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?"}else if(e===re){r=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}else{throw new Error("Unknown connection type: "+e)}if(this.needsQueryParam()){t["ns"]=this.namespace}var n=[];a.forEach(t,function(e,t){n.push(e+"="+t)});return r+n.join("&")};e.prototype.toString=function(){var e=this.toURLString();if(this.persistenceKey){e+="<"+this.persistenceKey+">"}return e};e.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host};return e}();function ie(e){var t="";var r=e.split("/");for(var n=0;n<r.length;n++){if(r[n].length>0){var i=r[n];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(e){}t+="/"+i}}return t}function ae(e){var t={};if(e.startsWith("?")){e=e.substring(1)}for(var r=0,n=e.split("&");r<n.length;r++){var i=n[r];if(i.length===0){continue}var a=i.split("=");if(a.length===2){t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}else{k("Invalid query segment '"+i+"' in query '"+e+"'")}}return t}var oe=function(e){var t=se(e),r=t.subdomain;if(t.domain==="firebase"){T(t.host+" is no longer supported. "+"Please use <YOUR FIREBASE>.firebaseio.com instead")}if((!r||r=="undefined")&&t.domain!=="localhost"){T("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com")}if(!t.secure){S()}var n=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new ne(t.host,t.secure,r,n),path:new Q(t.pathString)}};var se=function(e){var t="",r="",n="",i="";var a=true,o="https",s=443;if(typeof e==="string"){var u=e.indexOf("//");if(u>=0){o=e.substring(0,u-1);e=e.substring(u+2)}var l=e.indexOf("/");if(l===-1){l=e.length}var c=e.indexOf("?");if(c===-1){c=e.length}t=e.substring(0,Math.min(l,c));if(l<c){i=ie(e.substring(l,c))}var f=ae(e.substring(Math.min(e.length,c)));u=t.indexOf(":");if(u>=0){a=o==="https"||o==="wss";s=parseInt(t.substring(u+1),10)}else{u=e.length}var h=t.split(".");if(h.length===3){r=h[1];n=h[0].toLowerCase()}else if(h.length===2){r=h[0]}else if(h[0].slice(0,u).toLowerCase()==="localhost"){r="localhost"}if(n===""&&"ns"in f){n=f["ns"]}}return{host:t,port:s,domain:r,subdomain:n,secure:a,scheme:o,pathString:i}};var ue=/[\[\].#$\/\u0000-\u001F\u007F]/;var le=/[\[\].#$\u0000-\u001F\u007F]/;var ce=10*1024*1024;var fe=function(e){return typeof e==="string"&&e.length!==0&&!ue.test(e)};var he=function(e){return typeof e==="string"&&e.length!==0&&!le.test(e)};var pe=function(e){if(e){e=e.replace(/^\/*\.info(\/|$)/,"/")}return he(e)};var de=function(e){return e===null||typeof e==="string"||typeof e==="number"&&!x(e)||e&&typeof e==="object"&&a.contains(e,".sv")};var ve=function(e,t,r,n,i){if(i&&r===undefined)return;ye(a.errorPrefix(e,t,i),r,n)};var ye=function(e,t,r){var n=r instanceof Q?new K(r,e):r;if(t===undefined){throw new Error(e+"contains undefined "+n.toErrorString())}if(typeof t==="function"){throw new Error(e+"contains a function "+n.toErrorString()+" with contents = "+t.toString())}if(x(t)){throw new Error(e+"contains "+t.toString()+" "+n.toErrorString())}if(typeof t==="string"&&t.length>ce/3&&a.stringLength(t)>ce){throw new Error(e+"contains a string greater than "+ce+" utf8 bytes "+n.toErrorString()+" ('"+t.substring(0,50)+"...')")}if(t&&typeof t==="object"){var i=false,o=false;a.forEach(t,function(t,r){if(t===".value"){i=true}else if(t!==".priority"&&t!==".sv"){o=true;if(!fe(t)){throw new Error(e+" contains an invalid key ("+t+") "+n.toErrorString()+".  Keys must be non-empty strings "+'and can\'t contain ".", "#", "$", "/", "[", or "]"')}}n.push(t);ye(e,r,n);n.pop()});if(i&&o){throw new Error(e+' contains ".value" child '+n.toErrorString()+" in addition to actual children.")}}};var me=function(e,t){var r,n;for(r=0;r<t.length;r++){n=t[r];var i=n.slice();for(var a=0;a<i.length;a++){if(i[a]===".priority"&&a===i.length-1){}else if(!fe(i[a])){throw new Error(e+"contains an invalid key ("+i[a]+") in path "+n.toString()+". Keys must be non-empty strings "+'and can\'t contain ".", "#", "$", "/", "[", or "]"')}}}t.sort(Q.comparePaths);var o=null;for(r=0;r<t.length;r++){n=t[r];if(o!==null&&o.contains(n)){throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+n.toString())}o=n}};var ge=function(e,t,r,n,i){if(i&&r===undefined)return;var o=a.errorPrefix(e,t,i);if(!(r&&typeof r==="object")||Array.isArray(r)){throw new Error(o+" must be an object containing the children to replace.")}var s=[];a.forEach(r,function(e,t){var r=new Q(e);ye(o,t,n.child(r));if(r.getBack()===".priority"){if(!de(t)){throw new Error(o+"contains an invalid value for '"+r.toString()+"', which must be a valid "+"Firebase priority (a string, finite number, server value, or null).")}}s.push(r)});me(o,s)};var _e=function(e,t,r,n){if(n&&r===undefined)return;if(x(r))throw new Error(a.errorPrefix(e,t,n)+"is "+r.toString()+", but must be a valid Firebase priority (a string, finite number, "+"server value, or null).");if(!de(r))throw new Error(a.errorPrefix(e,t,n)+"must be a valid Firebase priority "+"(a string, finite number, server value, or null).")};var be=function(e,t,r,n){if(n&&r===undefined)return;switch(r){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(a.errorPrefix(e,t,n)+'must be a valid event type = "value", "child_added", "child_removed", '+'"child_changed", or "child_moved".')}};var we=function(e,t,r,n){if(n&&r===undefined)return;if(!fe(r))throw new Error(a.errorPrefix(e,t,n)+'was an invalid key = "'+r+'".  Firebase keys must be non-empty strings and '+'can\'t contain ".", "#", "$", "/", "[", or "]").')};var Ce=function(e,t,r,n){if(n&&r===undefined)return;if(!he(r))throw new Error(a.errorPrefix(e,t,n)+'was an invalid path = "'+r+'". Paths must be non-empty strings and '+'can\'t contain ".", "#", "$", "[", or "]"')};var Ee=function(e,t,r,n){if(r){r=r.replace(/^\/*\.info(\/|$)/,"/")}Ce(e,t,r,n)};var Te=function(e,t){if(t.getFront()===".info"){throw new Error(e+" failed = Can't modify data under /.info/")}};var ke=function(e,t,r){var n=r.path.toString();if(!(typeof r.repoInfo.host==="string")||r.repoInfo.host.length===0||!fe(r.repoInfo.namespace)&&r.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!pe(n)){throw new Error(a.errorPrefix(e,t,false)+"must be a valid firebase URL and "+'the path can\'t contain ".", "#", "$", "[", or "]".')}};var Se=function(e,t,r,n){if(n&&r===undefined)return;if(typeof r!=="boolean")throw new Error(a.errorPrefix(e,t,n)+"must be a boolean.")};var xe=function(){function e(e,t){this.repo_=e;this.path_=t}e.prototype.cancel=function(e){a.validateArgCount("OnDisconnect.cancel",0,1,arguments.length);a.validateCallback("OnDisconnect.cancel",1,e,true);var t=new a.Deferred;this.repo_.onDisconnectCancel(this.path_,t.wrapCallback(e));return t.promise};e.prototype.remove=function(e){a.validateArgCount("OnDisconnect.remove",0,1,arguments.length);Te("OnDisconnect.remove",this.path_);a.validateCallback("OnDisconnect.remove",1,e,true);var t=new a.Deferred;this.repo_.onDisconnectSet(this.path_,null,t.wrapCallback(e));return t.promise};e.prototype.set=function(e,t){a.validateArgCount("OnDisconnect.set",1,2,arguments.length);Te("OnDisconnect.set",this.path_);ve("OnDisconnect.set",1,e,this.path_,false);a.validateCallback("OnDisconnect.set",2,t,true);var r=new a.Deferred;this.repo_.onDisconnectSet(this.path_,e,r.wrapCallback(t));return r.promise};e.prototype.setWithPriority=function(e,t,r){a.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length);Te("OnDisconnect.setWithPriority",this.path_);ve("OnDisconnect.setWithPriority",1,e,this.path_,false);_e("OnDisconnect.setWithPriority",2,t,false);a.validateCallback("OnDisconnect.setWithPriority",3,r,true);var n=new a.Deferred;this.repo_.onDisconnectSetWithPriority(this.path_,e,t,n.wrapCallback(r));return n.promise};e.prototype.update=function(e,t){a.validateArgCount("OnDisconnect.update",1,2,arguments.length);Te("OnDisconnect.update",this.path_);if(Array.isArray(e)){var r={};for(var n=0;n<e.length;++n){r[""+n]=e[n]}e=r;k("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the "+"existing data, or an Object with integer keys if you really do want to only update some of the children.")}ge("OnDisconnect.update",1,e,this.path_,false);a.validateCallback("OnDisconnect.update",2,t,true);var i=new a.Deferred;this.repo_.onDisconnectUpdate(this.path_,e,i.wrapCallback(t));return i.promise};return e}();var Ie=function(){function e(e,t){this.committed=e;this.snapshot=t}e.prototype.toJSON=function(){a.validateArgCount("TransactionResult.toJSON",0,1,arguments.length);return{committed:this.committed,snapshot:this.snapshot.toJSON()}};return e}();var Oe=function(){var e="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";var t=0;var r=[];return function(n){var i=n===t;t=n;var o;var s=new Array(8);for(o=7;o>=0;o--){s[o]=e.charAt(n%64);n=Math.floor(n/64)}a.assert(n===0,"Cannot push at time == 0");var u=s.join("");if(!i){for(o=0;o<12;o++){r[o]=Math.floor(Math.random()*64)}}else{for(o=11;o>=0&&r[o]===63;o--){r[o]=0}r[o]++}for(o=0;o<12;o++){u+=e.charAt(r[o])}a.assert(u.length===20,"nextPushId: Length should be 20.");return u}}();var Ne=function(){function e(e,t){this.name=e;this.node=t}e.Wrap=function(t,r){return new e(t,r)};return e}();var Ae=function(){function e(){}e.prototype.getCompare=function(){return this.compare.bind(this)};e.prototype.indexedValueChanged=function(e,t){var r=new Ne(O,e);var n=new Ne(O,t);return this.compare(r,n)!==0};e.prototype.minPost=function(){return Ne.MIN};return e}();var Pe;var De=function(e){s.__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Pe},set:function(e){Pe=e},enumerable:true,configurable:true});t.prototype.compare=function(e,t){return A(e.name,t.name)};t.prototype.isDefinedOn=function(e){throw a.assertionError("KeyIndex.isDefinedOn not expected to be called.")};t.prototype.indexedValueChanged=function(e,t){return false};t.prototype.minPost=function(){return Ne.MIN};t.prototype.maxPost=function(){return new Ne(N,Pe)};t.prototype.makePost=function(e,t){a.assert(typeof e==="string","KeyIndex indexValue must always be a string.");return new Ne(e,Pe)};t.prototype.toString=function(){return".key"};return t}(Ae);var Re=new De;var Me;function Fe(e){Me=e}var Le=function(e){if(typeof e==="number")return"number:"+L(e);else return"string:"+e};var je=function(e){if(e.isLeafNode()){var t=e.val();a.assert(typeof t==="string"||typeof t==="number"||typeof t==="object"&&a.contains(t,".sv"),"Priority must be a string or number.")}else{a.assert(e===Me||e.isEmpty(),"priority of unexpected type.")}a.assert(e===Me||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var $e;var Ue=function(){function e(t,r){if(r===void 0){r=e.__childrenNodeConstructor.EMPTY_NODE}this.value_=t;this.priorityNode_=r;this.lazyHash_=null;a.assert(this.value_!==undefined&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value.");je(this.priorityNode_)}Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return $e},set:function(e){$e=e},enumerable:true,configurable:true});e.prototype.isLeafNode=function(){return true};e.prototype.getPriority=function(){return this.priorityNode_};e.prototype.updatePriority=function(t){return new e(this.value_,t)};e.prototype.getImmediateChild=function(t){if(t===".priority"){return this.priorityNode_}else{return e.__childrenNodeConstructor.EMPTY_NODE}};e.prototype.getChild=function(t){if(t.isEmpty()){return this}else if(t.getFront()===".priority"){return this.priorityNode_}else{return e.__childrenNodeConstructor.EMPTY_NODE}};e.prototype.hasChild=function(){return false};e.prototype.getPredecessorChildName=function(e,t){return null};e.prototype.updateImmediateChild=function(t,r){if(t===".priority"){return this.updatePriority(r)}else if(r.isEmpty()&&t!==".priority"){return this}else{return e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}};e.prototype.updateChild=function(t,r){var n=t.getFront();if(n===null){return r}else if(r.isEmpty()&&n!==".priority"){return this}else{a.assert(n!==".priority"||t.getLength()===1,".priority must be the last token in a path");return this.updateImmediateChild(n,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(t.popFront(),r))}};e.prototype.isEmpty=function(){return false};e.prototype.numChildren=function(){return 0};e.prototype.forEachChild=function(e,t){return false};e.prototype.val=function(e){if(e&&!this.getPriority().isEmpty())return{".value":this.getValue(),".priority":this.getPriority().val()};else return this.getValue()};e.prototype.hash=function(){if(this.lazyHash_===null){var e="";if(!this.priorityNode_.isEmpty())e+="priority:"+Le(this.priorityNode_.val())+":";var t=typeof this.value_;e+=t+":";if(t==="number"){e+=L(this.value_)}else{e+=this.value_}this.lazyHash_=y(e)}return this.lazyHash_};e.prototype.getValue=function(){return this.value_};e.prototype.compareTo=function(t){if(t===e.__childrenNodeConstructor.EMPTY_NODE){return 1}else if(t instanceof e.__childrenNodeConstructor){return-1}else{a.assert(t.isLeafNode(),"Unknown node type");return this.compareToLeafNode_(t)}};e.prototype.compareToLeafNode_=function(t){var r=typeof t.value_;var n=typeof this.value_;var i=e.VALUE_TYPE_ORDER.indexOf(r);var o=e.VALUE_TYPE_ORDER.indexOf(n);a.assert(i>=0,"Unknown leaf type: "+r);a.assert(o>=0,"Unknown leaf type: "+n);if(i===o){if(n==="object"){return 0}else{if(this.value_<t.value_){return-1}else if(this.value_===t.value_){return 0}else{return 1}}}else{return o-i}};e.prototype.withIndex=function(){return this};e.prototype.isIndexed=function(){return true};e.prototype.equals=function(e){if(e===this){return true}else if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else{return false}};e.VALUE_TYPE_ORDER=["object","boolean","number","string"];return e}();var Be;var We;function qe(e){Be=e}function Ve(e){We=e}var He=function(e){s.__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.compare=function(e,t){var r=e.node.getPriority();var n=t.node.getPriority();var i=r.compareTo(n);if(i===0){return A(e.name,t.name)}else{return i}};t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()};t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())};t.prototype.minPost=function(){return Ne.MIN};t.prototype.maxPost=function(){return new Ne(N,new Ue("[PRIORITY-POST]",We))};t.prototype.makePost=function(e,t){var r=Be(e);return new Ne(t,new Ue("[PRIORITY-POST]",r))};t.prototype.toString=function(){return".priority"};return t}(Ae);var Qe=new He;var Ke=function(){function e(e,t,r,n,i){if(i===void 0){i=null}this.isReverse_=n;this.resultGenerator_=i;this.nodeStack_=[];var a=1;while(!e.isEmpty()){e=e;a=t?r(e.key,t):1;if(n)a*=-1;if(a<0){if(this.isReverse_){e=e.left}else{e=e.right}}else if(a===0){this.nodeStack_.push(e);break}else{this.nodeStack_.push(e);if(this.isReverse_){e=e.right}else{e=e.left}}}}e.prototype.getNext=function(){if(this.nodeStack_.length===0)return null;var e=this.nodeStack_.pop();var t;if(this.resultGenerator_)t=this.resultGenerator_(e.key,e.value);else t={key:e.key,value:e.value};if(this.isReverse_){e=e.left;while(!e.isEmpty()){this.nodeStack_.push(e);e=e.right}}else{e=e.right;while(!e.isEmpty()){this.nodeStack_.push(e);e=e.left}}return t};e.prototype.hasNext=function(){return this.nodeStack_.length>0};e.prototype.peek=function(){if(this.nodeStack_.length===0)return null;var e=this.nodeStack_[this.nodeStack_.length-1];if(this.resultGenerator_){return this.resultGenerator_(e.key,e.value)}else{return{key:e.key,value:e.value}}};return e}();var ze=function(){function e(t,r,n,i,a){this.key=t;this.value=r;this.color=n!=null?n:e.RED;this.left=i!=null?i:Ye.EMPTY_NODE;this.right=a!=null?a:Ye.EMPTY_NODE}e.prototype.copy=function(t,r,n,i,a){return new e(t!=null?t:this.key,r!=null?r:this.value,n!=null?n:this.color,i!=null?i:this.left,a!=null?a:this.right)};e.prototype.count=function(){return this.left.count()+1+this.right.count()};e.prototype.isEmpty=function(){return false};e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)};e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)};e.prototype.min_=function(){if(this.left.isEmpty()){return this}else{return this.left.min_()}};e.prototype.minKey=function(){return this.min_().key};e.prototype.maxKey=function(){if(this.right.isEmpty()){return this.key}else{return this.right.maxKey()}};e.prototype.insert=function(e,t,r){var n,i;i=this;n=r(e,i.key);if(n<0){i=i.copy(null,null,null,i.left.insert(e,t,r),null)}else if(n===0){i=i.copy(null,t,null,null,null)}else{i=i.copy(null,null,null,null,i.right.insert(e,t,r))}return i.fixUp_()};e.prototype.removeMin_=function(){if(this.left.isEmpty()){return Ye.EMPTY_NODE}var e=this;if(!e.left.isRed_()&&!e.left.left.isRed_())e=e.moveRedLeft_();e=e.copy(null,null,null,e.left.removeMin_(),null);return e.fixUp_()};e.prototype.remove=function(e,t){var r,n;r=this;if(t(e,r.key)<0){if(!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()){r=r.moveRedLeft_()}r=r.copy(null,null,null,r.left.remove(e,t),null)}else{if(r.left.isRed_())r=r.rotateRight_();if(!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()){r=r.moveRedRight_()}if(t(e,r.key)===0){if(r.right.isEmpty()){return Ye.EMPTY_NODE}else{n=r.right.min_();r=r.copy(n.key,n.value,null,null,r.right.removeMin_())}}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp_()};e.prototype.isRed_=function(){return this.color};e.prototype.fixUp_=function(){var e=this;if(e.right.isRed_()&&!e.left.isRed_())e=e.rotateLeft_();if(e.left.isRed_()&&e.left.left.isRed_())e=e.rotateRight_();if(e.left.isRed_()&&e.right.isRed_())e=e.colorFlip_();return e};e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();if(e.right.left.isRed_()){e=e.copy(null,null,null,null,e.right.rotateRight_());e=e.rotateLeft_();e=e.colorFlip_()}return e};e.prototype.moveRedRight_=function(){var e=this.colorFlip_();if(e.left.left.isRed_()){e=e.rotateRight_();e=e.colorFlip_()}return e};e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)};e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)};e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null);var t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)};e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1};e.prototype.check_=function(){var e;if(this.isRed_()&&this.left.isRed_()){throw new Error("Red node has red child("+this.key+","+this.value+")")}if(this.right.isRed_()){throw new Error("Right child of ("+this.key+","+this.value+") is red")}e=this.left.check_();if(e!==this.right.check_()){throw new Error("Black depths differ")}else{return e+(this.isRed_()?0:1)}};e.RED=true;e.BLACK=false;return e}();var Ge=function(){function e(){}e.prototype.copy=function(e,t,r,n,i){return this};e.prototype.insert=function(e,t,r){return new ze(e,t,null)};e.prototype.remove=function(e,t){return this};e.prototype.count=function(){return 0};e.prototype.isEmpty=function(){return true};e.prototype.inorderTraversal=function(e){return false};e.prototype.reverseTraversal=function(e){return false};e.prototype.minKey=function(){return null};e.prototype.maxKey=function(){return null};e.prototype.check_=function(){return 0};e.prototype.isRed_=function(){return false};return e}();var Ye=function(){function e(t,r){if(r===void 0){r=e.EMPTY_NODE}this.comparator_=t;this.root_=r}e.prototype.insert=function(t,r){return new e(this.comparator_,this.root_.insert(t,r,this.comparator_).copy(null,null,ze.BLACK,null,null))};e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ze.BLACK,null,null))};e.prototype.get=function(e){var t;var r=this.root_;while(!r.isEmpty()){t=this.comparator_(e,r.key);if(t===0){return r.value}else if(t<0){r=r.left}else if(t>0){r=r.right}}return null};e.prototype.getPredecessorKey=function(e){var t,r=this.root_,n=null;while(!r.isEmpty()){t=this.comparator_(e,r.key);if(t===0){if(!r.left.isEmpty()){r=r.left;while(!r.right.isEmpty())r=r.right;return r.key}else if(n){return n.key}else{return null}}else if(t<0){r=r.left}else if(t>0){n=r;r=r.right}}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")};e.prototype.isEmpty=function(){return this.root_.isEmpty()};e.prototype.count=function(){return this.root_.count()};e.prototype.minKey=function(){return this.root_.minKey()};e.prototype.maxKey=function(){return this.root_.maxKey()};e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)};e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)};e.prototype.getIterator=function(e){return new Ke(this.root_,null,this.comparator_,false,e)};e.prototype.getIteratorFrom=function(e,t){return new Ke(this.root_,e,this.comparator_,false,t)};e.prototype.getReverseIteratorFrom=function(e,t){return new Ke(this.root_,e,this.comparator_,true,t)};e.prototype.getReverseIterator=function(e){return new Ke(this.root_,null,this.comparator_,true,e)};e.EMPTY_NODE=new Ge;return e}();var Je=Math.log(2);var Xe=function(){function e(e){var t=function(e){return parseInt(Math.log(e)/Je,10)};var r=function(e){return parseInt(Array(e+1).join("1"),2)};this.count=t(e+1);this.current_=this.count-1;var n=r(this.count);this.bits_=e+1&n}e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);this.current_--;return e};return e}();var Ze=function(e,t,r,n){e.sort(t);var i=function(t,n){var a=n-t;var o;var s;if(a==0){return null}else if(a==1){o=e[t];s=r?r(o):o;return new ze(s,o.node,ze.BLACK,null,null)}else{var u=parseInt(a/2,10)+t;var l=i(t,u);var c=i(u+1,n);o=e[u];s=r?r(o):o;return new ze(s,o.node,ze.BLACK,l,c)}};var a=function(t){var n=null;var a=null;var o=e.length;var s=function(t,n){var a=o-t;var s=o;o-=t;var l=i(a+1,s);var c=e[a];var f=r?r(c):c;u(new ze(f,c.node,n,null,l))};var u=function(e){if(n){n.left=e;n=e}else{a=e;n=e}};for(var l=0;l<t.count;++l){var c=t.nextBitIsOne();var f=Math.pow(2,t.count-(l+1));if(c){s(f,ze.BLACK)}else{s(f,ze.BLACK);s(f,ze.RED)}}return a};var o=new Xe(e.length);var s=a(o);return new Ye(n||t,s)};var et;var tt={};var rt=function(){function e(e,t){this.indexes_=e;this.indexSet_=t}Object.defineProperty(e,"Default",{get:function(){a.assert(tt&&Qe,"ChildrenNode.ts has not been loaded");et=et||new e({".priority":tt},{".priority":Qe});return et},enumerable:true,configurable:true});e.prototype.get=function(e){var t=a.safeGet(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);if(t===tt){return null}else{return t}};e.prototype.hasIndex=function(e){return a.contains(this.indexSet_,e.toString())};e.prototype.addIndex=function(t,r){a.assert(t!==Re,"KeyIndex always exists and isn't meant to be added to the IndexMap.");var n=[];var i=false;var o=r.getIterator(Ne.Wrap);var s=o.getNext();while(s){i=i||t.isDefinedOn(s.node);n.push(s);s=o.getNext()}var u;if(i){u=Ze(n,t.getCompare())}else{u=tt}var l=t.toString();var c=a.clone(this.indexSet_);c[l]=t;var f=a.clone(this.indexes_);f[l]=u;return new e(f,c)};e.prototype.addToIndexes=function(t,r){var n=this;var i=a.map(this.indexes_,function(e,i){var o=a.safeGet(n.indexSet_,i);a.assert(o,"Missing index implementation for "+i);if(e===tt){if(o.isDefinedOn(t.node)){var s=[];var u=r.getIterator(Ne.Wrap);var l=u.getNext();while(l){if(l.name!=t.name){s.push(l)}l=u.getNext()}s.push(t);return Ze(s,o.getCompare())}else{return tt}}else{var c=r.get(t.name);var f=e;if(c){f=f.remove(new Ne(t.name,c))}return f.insert(t,t.node)}});return new e(i,this.indexSet_)};e.prototype.removeFromIndexes=function(t,r){var n=a.map(this.indexes_,function(e){if(e===tt){return e}else{var n=r.get(t.name);if(n){return e.remove(new Ne(t.name,n))}else{return e}}});return new e(n,this.indexSet_)};return e}();function nt(e,t){return A(e.name,t.name)}function it(e,t){return A(e,t)}var at;var ot=function(){function e(e,t,r){this.children_=e;this.priorityNode_=t;this.indexMap_=r;this.lazyHash_=null;if(this.priorityNode_){je(this.priorityNode_)}if(this.children_.isEmpty()){a.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}}Object.defineProperty(e,"EMPTY_NODE",{get:function(){return at||(at=new e(new Ye(it),null,rt.Default))},enumerable:true,configurable:true});e.prototype.isLeafNode=function(){return false};e.prototype.getPriority=function(){return this.priorityNode_||at};e.prototype.updatePriority=function(t){if(this.children_.isEmpty()){return this}else{return new e(this.children_,t,this.indexMap_)}};e.prototype.getImmediateChild=function(e){if(e===".priority"){return this.getPriority()}else{var t=this.children_.get(e);return t===null?at:t}};e.prototype.getChild=function(e){var t=e.getFront();if(t===null)return this;return this.getImmediateChild(t).getChild(e.popFront())};e.prototype.hasChild=function(e){return this.children_.get(e)!==null};e.prototype.updateImmediateChild=function(t,r){a.assert(r,"We should always be passing snapshot nodes");if(t===".priority"){return this.updatePriority(r)}else{var n=new Ne(t,r);var i=void 0,o=void 0,s=void 0;if(r.isEmpty()){i=this.children_.remove(t);o=this.indexMap_.removeFromIndexes(n,this.children_)}else{i=this.children_.insert(t,r);o=this.indexMap_.addToIndexes(n,this.children_)}s=i.isEmpty()?at:this.priorityNode_;return new e(i,s,o)}};e.prototype.updateChild=function(e,t){var r=e.getFront();if(r===null){return t}else{a.assert(e.getFront()!==".priority"||e.getLength()===1,".priority must be the last token in a path");var n=this.getImmediateChild(r).updateChild(e.popFront(),t);return this.updateImmediateChild(r,n)}};e.prototype.isEmpty=function(){return this.children_.isEmpty()};e.prototype.numChildren=function(){return this.children_.count()};e.prototype.val=function(t){if(this.isEmpty())return null;var r={};var n=0,i=0,a=true;this.forEachChild(Qe,function(o,s){r[o]=s.val(t);n++;if(a&&e.INTEGER_REGEXP_.test(o)){i=Math.max(i,Number(o))}else{a=false}});if(!t&&a&&i<2*n){var o=[];for(var s in r)o[s]=r[s];return o}else{if(t&&!this.getPriority().isEmpty()){r[".priority"]=this.getPriority().val()}return r}};e.prototype.hash=function(){if(this.lazyHash_===null){var e="";if(!this.getPriority().isEmpty())e+="priority:"+Le(this.getPriority().val())+":";this.forEachChild(Qe,function(t,r){var n=r.hash();if(n!=="")e+=":"+t+":"+n});this.lazyHash_=e===""?"":y(e)}return this.lazyHash_};e.prototype.getPredecessorChildName=function(e,t,r){var n=this.resolveIndex_(r);if(n){var i=n.getPredecessorKey(new Ne(e,t));return i?i.name:null}else{return this.children_.getPredecessorKey(e)}};e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var r=t.minKey();return r&&r.name}else{return this.children_.minKey()}};e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);if(t){return new Ne(t,this.children_.get(t))}else{return null}};e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var r=t.maxKey();return r&&r.name}else{return this.children_.maxKey()}};e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);if(t){return new Ne(t,this.children_.get(t))}else{return null}};e.prototype.forEachChild=function(e,t){var r=this.resolveIndex_(e);if(r){return r.inorderTraversal(function(e){return t(e.name,e.node)})}else{return this.children_.inorderTraversal(t)}};e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)};e.prototype.getIteratorFrom=function(e,t){var r=this.resolveIndex_(t);if(r){return r.getIteratorFrom(e,function(e){return e})}else{var n=this.children_.getIteratorFrom(e.name,Ne.Wrap);var i=n.peek();while(i!=null&&t.compare(i,e)<0){n.getNext();i=n.peek()}return n}};e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)};e.prototype.getReverseIteratorFrom=function(e,t){var r=this.resolveIndex_(t);if(r){return r.getReverseIteratorFrom(e,function(e){return e})}else{var n=this.children_.getReverseIteratorFrom(e.name,Ne.Wrap);var i=n.peek();while(i!=null&&t.compare(i,e)>0){n.getNext();i=n.peek()}return n}};e.prototype.compareTo=function(e){if(this.isEmpty()){if(e.isEmpty()){return 0}else{return-1}}else if(e.isLeafNode()||e.isEmpty()){return 1}else if(e===ut){return-1}else{return 0}};e.prototype.withIndex=function(t){if(t===Re||this.indexMap_.hasIndex(t)){return this}else{var r=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,r)}};e.prototype.isIndexed=function(e){return e===Re||this.indexMap_.hasIndex(e)};e.prototype.equals=function(e){if(e===this){return true}else if(e.isLeafNode()){return false}else{var t=e;if(!this.getPriority().equals(t.getPriority())){return false}else if(this.children_.count()===t.children_.count()){var r=this.getIterator(Qe);var n=t.getIterator(Qe);var i=r.getNext();var a=n.getNext();while(i&&a){if(i.name!==a.name||!i.node.equals(a.node)){return false}i=r.getNext();a=n.getNext()}return i===null&&a===null}else{return false}}};e.prototype.resolveIndex_=function(e){if(e===Re){return null}else{return this.indexMap_.get(e.toString())}};e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;return e}();var st=function(e){s.__extends(t,e);function t(){return e.call(this,new Ye(it),ot.EMPTY_NODE,rt.Default)||this}t.prototype.compareTo=function(e){if(e===this){return 0}else{return 1}};t.prototype.equals=function(e){return e===this};t.prototype.getPriority=function(){return this};t.prototype.getImmediateChild=function(e){return ot.EMPTY_NODE};t.prototype.isEmpty=function(){return false};return t}(ot);var ut=new st;Object.defineProperties(Ne,{MIN:{value:new Ne(O,ot.EMPTY_NODE)},MAX:{value:new Ne(N,ut)}});De.__EMPTY_NODE=ot.EMPTY_NODE;Ue.__childrenNodeConstructor=ot;Fe(ut);Ve(ut);var lt=true;function ct(e,t){if(t===void 0){t=null}if(e===null){return ot.EMPTY_NODE}if(typeof e==="object"&&".priority"in e){t=e[".priority"]}a.assert(t===null||typeof t==="string"||typeof t==="number"||typeof t==="object"&&".sv"in t,"Invalid priority type found: "+typeof t);if(typeof e==="object"&&".value"in e&&e[".value"]!==null){e=e[".value"]}if(typeof e!=="object"||".sv"in e){var r=e;return new Ue(r,ct(t))}if(!(e instanceof Array)&&lt){var n=[];var i=false;var o=e;a.forEach(o,function(e,t){if(typeof e!=="string"||e.substring(0,1)!=="."){var r=ct(o[e]);if(!r.isEmpty()){i=i||!r.getPriority().isEmpty();n.push(new Ne(e,r))}}});if(n.length==0){return ot.EMPTY_NODE}var s=Ze(n,nt,function(e){return e.name},it);if(i){var u=Ze(n,Qe.getCompare());return new ot(s,ct(t),new rt({".priority":u},{".priority":Qe}))}else{return new ot(s,ct(t),rt.Default)}}else{var l=ot.EMPTY_NODE;var c=e;a.forEach(c,function(e,t){if(a.contains(c,e)){if(e.substring(0,1)!=="."){var r=ct(t);if(r.isLeafNode()||!r.isEmpty())l=l.updateImmediateChild(e,r)}}});return l.updatePriority(ct(t))}}qe(ct);var ft=function(e){s.__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.compare=function(e,t){var r=e.node.compareTo(t.node);if(r===0){return A(e.name,t.name)}else{return r}};t.prototype.isDefinedOn=function(e){return true};t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)};t.prototype.minPost=function(){return Ne.MIN};t.prototype.maxPost=function(){return Ne.MAX};t.prototype.makePost=function(e,t){var r=ct(e);return new Ne(t,r)};t.prototype.toString=function(){return".value"};return t}(Ae);var ht=new ft;var pt=function(e){s.__extends(t,e);function t(t){var r=e.call(this)||this;r.indexPath_=t;a.assert(!t.isEmpty()&&t.getFront()!==".priority","Can't create PathIndex with empty path or .priority key");return r}t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)};t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()};t.prototype.compare=function(e,t){var r=this.extractChild(e.node);var n=this.extractChild(t.node);var i=r.compareTo(n);if(i===0){return A(e.name,t.name)}else{return i}};t.prototype.makePost=function(e,t){var r=ct(e);var n=ot.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ne(t,n)};t.prototype.maxPost=function(){var e=ot.EMPTY_NODE.updateChild(this.indexPath_,ut);return new Ne(N,e)};t.prototype.toString=function(){return this.indexPath_.slice().join("/")};return t}(Ae);var dt=function(){function e(e,t,r){this.node_=e;this.ref_=t;this.index_=r}e.prototype.val=function(){a.validateArgCount("DataSnapshot.val",0,0,arguments.length);return this.node_.val()};e.prototype.exportVal=function(){a.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length);return this.node_.val(true)};e.prototype.toJSON=function(){a.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length);return this.exportVal()};e.prototype.exists=function(){a.validateArgCount("DataSnapshot.exists",0,0,arguments.length);return!this.node_.isEmpty()};e.prototype.child=function(t){a.validateArgCount("DataSnapshot.child",0,1,arguments.length);t=String(t);Ce("DataSnapshot.child",1,t,false);var r=new Q(t);var n=this.ref_.child(r);return new e(this.node_.getChild(r),n,Qe)};e.prototype.hasChild=function(e){a.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length);Ce("DataSnapshot.hasChild",1,e,false);var t=new Q(e);return!this.node_.getChild(t).isEmpty()};e.prototype.getPriority=function(){a.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length);return this.node_.getPriority().val()};e.prototype.forEach=function(t){var r=this;a.validateArgCount("DataSnapshot.forEach",1,1,arguments.length);a.validateCallback("DataSnapshot.forEach",1,t,false);if(this.node_.isLeafNode())return false;var n=this.node_;return!!n.forEachChild(this.index_,function(n,i){return t(new e(i,r.ref_.child(n),Qe))})};e.prototype.hasChildren=function(){a.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length);if(this.node_.isLeafNode())return false;else return!this.node_.isEmpty()};Object.defineProperty(e.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:true,configurable:true});e.prototype.numChildren=function(){a.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length);return this.node_.numChildren()};e.prototype.getRef=function(){a.validateArgCount("DataSnapshot.ref",0,0,arguments.length);return this.ref_};Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:true,configurable:true});return e}();var vt=function(){function e(e,t,r,n){this.eventType=e;this.eventRegistration=t;this.snapshot=r;this.prevName=n}e.prototype.getPath=function(){var e=this.snapshot.getRef();if(this.eventType==="value"){return e.path}else{return e.getParent().path}};e.prototype.getEventType=function(){return this.eventType};e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)};e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+a.stringify(this.snapshot.exportVal())};return e}();var yt=function(){function e(e,t,r){this.eventRegistration=e;this.error=t;this.path=r}e.prototype.getPath=function(){return this.path};e.prototype.getEventType=function(){return"cancel"};e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)};e.prototype.toString=function(){return this.path.toString()+":cancel"};return e}();var mt=function(){function e(e,t,r){this.callback_=e;this.cancelCallback_=t;this.context_=r}e.prototype.respondsTo=function(e){return e==="value"};e.prototype.createEvent=function(e,t){var r=t.getQueryParams().getIndex();return new vt("value",this,new dt(e.snapshotNode,t.getRef(),r))};e.prototype.getEventRunner=function(e){var t=this.context_;if(e.getEventType()==="cancel"){a.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var r=this.cancelCallback_;return function(){r.call(t,e.error)}}else{var n=this.callback_;return function(){n.call(t,e.snapshot)}}};e.prototype.createCancelEvent=function(e,t){if(this.cancelCallback_){return new yt(this,e,t)}else{return null}};e.prototype.matches=function(t){if(!(t instanceof e)){return false}else if(!t.callback_||!this.callback_){return true}else{return t.callback_===this.callback_&&t.context_===this.context_}};e.prototype.hasAnyCallback=function(){return this.callback_!==null};return e}();var gt=function(){function e(e,t,r){this.callbacks_=e;this.cancelCallback_=t;this.context_=r}e.prototype.respondsTo=function(e){var t=e==="children_added"?"child_added":e;t=t==="children_removed"?"child_removed":t;return a.contains(this.callbacks_,t)};e.prototype.createCancelEvent=function(e,t){if(this.cancelCallback_){return new yt(this,e,t)}else{return null}};e.prototype.createEvent=function(e,t){a.assert(e.childName!=null,"Child events should have a childName.");var r=t.getRef().child(e.childName);var n=t.getQueryParams().getIndex();return new vt(e.type,this,new dt(e.snapshotNode,r,n),e.prevName)};e.prototype.getEventRunner=function(e){var t=this.context_;if(e.getEventType()==="cancel"){a.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var r=this.cancelCallback_;return function(){r.call(t,e.error)}}else{var n=this.callbacks_[e.eventType];return function(){n.call(t,e.snapshot,e.prevName)}}};e.prototype.matches=function(t){if(t instanceof e){if(!this.callbacks_||!t.callbacks_){return true}else if(this.context_===t.context_){var r=a.getCount(t.callbacks_);var n=a.getCount(this.callbacks_);if(r===n){if(r===1){var i=a.getAnyKey(t.callbacks_);var o=a.getAnyKey(this.callbacks_);return o===i&&(!t.callbacks_[i]||!this.callbacks_[o]||t.callbacks_[i]===this.callbacks_[o])}else{return a.every(this.callbacks_,function(e,r){return t.callbacks_[e]===r})}}}}return false};e.prototype.hasAnyCallback=function(){return this.callbacks_!==null};return e}();var _t;var bt=function(){function e(e,t,r,n){this.repo=e;this.path=t;this.queryParams_=r;this.orderByCalled_=n}Object.defineProperty(e,"__referenceConstructor",{get:function(){a.assert(_t,"Reference.ts has not been loaded");return _t},set:function(e){_t=e},enumerable:true,configurable:true});e.validateQueryEndpoints_=function(e){var t=null;var r=null;if(e.hasStart()){t=e.getIndexStartValue()}if(e.hasEnd()){r=e.getIndexEndValue()}if(e.getIndex()===Re){var n="Query: When ordering by key, you may only pass one argument to "+"startAt(), endAt(), or equalTo().";var i="Query: When ordering by key, the argument passed to startAt(), endAt(),"+"or equalTo() must be a string.";if(e.hasStart()){var o=e.getIndexStartName();if(o!=O){throw new Error(n)}else if(typeof t!=="string"){throw new Error(i)}}if(e.hasEnd()){var s=e.getIndexEndName();if(s!=N){throw new Error(n)}else if(typeof r!=="string"){throw new Error(i)}}}else if(e.getIndex()===Qe){if(t!=null&&!de(t)||r!=null&&!de(r)){throw new Error("Query: When ordering by priority, the first argument passed to startAt(), "+"endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}}else{a.assert(e.getIndex()instanceof pt||e.getIndex()===ht,"unknown index type.");if(t!=null&&typeof t==="object"||r!=null&&typeof r==="object"){throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be "+"an object.")}}};e.validateLimit_=function(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit()){throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")}};e.prototype.validateNoPreviousOrderByCall_=function(e){if(this.orderByCalled_===true){throw new Error(e+": You can't combine multiple orderBy calls.")}};e.prototype.getQueryParams=function(){return this.queryParams_};e.prototype.getRef=function(){a.validateArgCount("Query.ref",0,0,arguments.length);return new e.__referenceConstructor(this.repo,this.path)};e.prototype.on=function(t,r,n,i){a.validateArgCount("Query.on",2,4,arguments.length);be("Query.on",1,t,false);a.validateCallback("Query.on",2,r,false);var o=e.getCancelAndContextArgs_("Query.on",n,i);if(t==="value"){this.onValueEvent(r,o.cancel,o.context)}else{var s={};s[t]=r;this.onChildEvent(s,o.cancel,o.context)}return r};e.prototype.onValueEvent=function(e,t,r){var n=new mt(e,t||null,r||null);this.repo.addEventCallbackForQuery(this,n)};e.prototype.onChildEvent=function(e,t,r){var n=new gt(e,t,r);this.repo.addEventCallbackForQuery(this,n)};e.prototype.off=function(e,t,r){a.validateArgCount("Query.off",0,3,arguments.length);be("Query.off",1,e,true);a.validateCallback("Query.off",2,t,true);a.validateContextObject("Query.off",3,r,true);var n=null;var i=null;if(e==="value"){var o=t||null;n=new mt(o,null,r||null)}else if(e){if(t){i={};i[e]=t}n=new gt(i,null,r||null)}this.repo.removeEventCallbackForQuery(this,n)};e.prototype.once=function(t,r,n,i){var o=this;a.validateArgCount("Query.once",1,4,arguments.length);be("Query.once",1,t,false);a.validateCallback("Query.once",2,r,true);var s=e.getCancelAndContextArgs_("Query.once",n,i);var u=true;var l=new a.Deferred;l.promise.catch(function(){});var c=function(e){if(u){u=false;o.off(t,c);if(r){r.bind(s.context)(e)}l.resolve(e)}};this.on(t,c,function(e){o.off(t,c);if(s.cancel)s.cancel.bind(s.context)(e);l.reject(e)});return l.promise};e.prototype.limitToFirst=function(t){a.validateArgCount("Query.limitToFirst",1,1,arguments.length);if(typeof t!=="number"||Math.floor(t)!==t||t<=0){throw new Error("Query.limitToFirst: First argument must be a positive integer.")}if(this.queryParams_.hasLimit()){throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, "+"limitToFirst, or limitToLast).")}return new e(this.repo,this.path,this.queryParams_.limitToFirst(t),this.orderByCalled_)};e.prototype.limitToLast=function(t){a.validateArgCount("Query.limitToLast",1,1,arguments.length);if(typeof t!=="number"||Math.floor(t)!==t||t<=0){throw new Error("Query.limitToLast: First argument must be a positive integer.")}if(this.queryParams_.hasLimit()){throw new Error("Query.limitToLast: Limit was already set (by another call to limit, "+"limitToFirst, or limitToLast).")}return new e(this.repo,this.path,this.queryParams_.limitToLast(t),this.orderByCalled_)};e.prototype.orderByChild=function(t){a.validateArgCount("Query.orderByChild",1,1,arguments.length);if(t==="$key"){throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.')}else if(t==="$priority"){throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.')}else if(t==="$value"){throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.')}Ce("Query.orderByChild",1,t,false);this.validateNoPreviousOrderByCall_("Query.orderByChild");var r=new Q(t);if(r.isEmpty()){throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.")}var n=new pt(r);var i=this.queryParams_.orderBy(n);e.validateQueryEndpoints_(i);return new e(this.repo,this.path,i,true)};e.prototype.orderByKey=function(){a.validateArgCount("Query.orderByKey",0,0,arguments.length);this.validateNoPreviousOrderByCall_("Query.orderByKey");var t=this.queryParams_.orderBy(Re);e.validateQueryEndpoints_(t);return new e(this.repo,this.path,t,true)};e.prototype.orderByPriority=function(){a.validateArgCount("Query.orderByPriority",0,0,arguments.length);this.validateNoPreviousOrderByCall_("Query.orderByPriority");var t=this.queryParams_.orderBy(Qe);e.validateQueryEndpoints_(t);return new e(this.repo,this.path,t,true)};e.prototype.orderByValue=function(){a.validateArgCount("Query.orderByValue",0,0,arguments.length);this.validateNoPreviousOrderByCall_("Query.orderByValue");var t=this.queryParams_.orderBy(ht);e.validateQueryEndpoints_(t);return new e(this.repo,this.path,t,true)};e.prototype.startAt=function(t,r){if(t===void 0){t=null}a.validateArgCount("Query.startAt",0,2,arguments.length);ve("Query.startAt",1,t,this.path,true);we("Query.startAt",2,r,true);var n=this.queryParams_.startAt(t,r);e.validateLimit_(n);e.validateQueryEndpoints_(n);if(this.queryParams_.hasStart()){throw new Error("Query.startAt: Starting point was already set (by another call to startAt "+"or equalTo).")}if(t===undefined){t=null;r=null}return new e(this.repo,this.path,n,this.orderByCalled_)};e.prototype.endAt=function(t,r){if(t===void 0){t=null}a.validateArgCount("Query.endAt",0,2,arguments.length);ve("Query.endAt",1,t,this.path,true);we("Query.endAt",2,r,true);var n=this.queryParams_.endAt(t,r);e.validateLimit_(n);e.validateQueryEndpoints_(n);if(this.queryParams_.hasEnd()){throw new Error("Query.endAt: Ending point was already set (by another call to endAt or "+"equalTo).")}return new e(this.repo,this.path,n,this.orderByCalled_)};e.prototype.equalTo=function(e,t){a.validateArgCount("Query.equalTo",1,2,arguments.length);ve("Query.equalTo",1,e,this.path,false);we("Query.equalTo",2,t,true);if(this.queryParams_.hasStart()){throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or "+"equalTo).")}if(this.queryParams_.hasEnd()){throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or "+"equalTo).")}return this.startAt(e,t).endAt(e,t)};e.prototype.toString=function(){a.validateArgCount("Query.toString",0,0,arguments.length);return this.repo.toString()+this.path.toUrlEncodedString()};e.prototype.toJSON=function(){a.validateArgCount("Query.toJSON",0,1,arguments.length);return this.toString()};e.prototype.queryObject=function(){return this.queryParams_.getQueryObject()};e.prototype.queryIdentifier=function(){var e=this.queryObject();var t=R(e);return t==="{}"?"default":t};e.prototype.isEqual=function(t){a.validateArgCount("Query.isEqual",1,1,arguments.length);if(!(t instanceof e)){var r="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(r)}var n=this.repo===t.repo;var i=this.path.equals(t.path);var o=this.queryIdentifier()===t.queryIdentifier();return n&&i&&o};e.getCancelAndContextArgs_=function(e,t,r){var n={cancel:null,context:null};if(t&&r){n.cancel=t;a.validateCallback(e,3,n.cancel,true);n.context=r;a.validateContextObject(e,4,n.context,true)}else if(t){if(typeof t==="object"&&t!==null){n.context=t}else if(typeof t==="function"){n.cancel=t}else{throw new Error(a.errorPrefix(e,3,true)+" must either be a cancel callback or a context object.")}}return n};Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:true,configurable:true});return e}();var wt=function(){function e(){this.set={}}e.prototype.add=function(e,t){this.set[e]=t!==null?t:true};e.prototype.contains=function(e){return a.contains(this.set,e)};e.prototype.get=function(e){return this.contains(e)?this.set[e]:undefined};e.prototype.remove=function(e){delete this.set[e]};e.prototype.clear=function(){this.set={}};e.prototype.isEmpty=function(){return a.isEmpty(this.set)};e.prototype.count=function(){return a.getCount(this.set)};e.prototype.each=function(e){a.forEach(this.set,function(t,r){return e(t,r)})};e.prototype.keys=function(){var e=[];a.forEach(this.set,function(t){e.push(t)});return e};return e}();var Ct=function(){function e(){this.value_=null;this.children_=null}e.prototype.find=function(e){if(this.value_!=null){return this.value_.getChild(e)}else if(!e.isEmpty()&&this.children_!=null){var t=e.getFront();e=e.popFront();if(this.children_.contains(t)){var r=this.children_.get(t);return r.find(e)}else{return null}}else{return null}};e.prototype.remember=function(t,r){if(t.isEmpty()){this.value_=r;this.children_=null}else if(this.value_!==null){this.value_=this.value_.updateChild(t,r)}else{if(this.children_==null){this.children_=new wt}var n=t.getFront();if(!this.children_.contains(n)){this.children_.add(n,new e)}var i=this.children_.get(n);t=t.popFront();i.remember(t,r)}};e.prototype.forget=function(e){if(e.isEmpty()){this.value_=null;this.children_=null;return true}else{if(this.value_!==null){if(this.value_.isLeafNode()){return false}else{var t=this.value_;this.value_=null;var r=this;t.forEachChild(Qe,function(e,t){r.remember(new Q(e),t)});return this.forget(e)}}else if(this.children_!==null){var n=e.getFront();e=e.popFront();if(this.children_.contains(n)){var i=this.children_.get(n).forget(e);if(i){this.children_.remove(n)}}if(this.children_.isEmpty()){this.children_=null;return true}else{return false}}else{return true}}};e.prototype.forEachTree=function(e,t){if(this.value_!==null){t(e,this.value_)}else{this.forEachChild(function(r,n){var i=new Q(e.toString()+"/"+r);n.forEachTree(i,t)})}};e.prototype.forEachChild=function(e){if(this.children_!==null){this.children_.each(function(t,r){e(t,r)})}};return e}();var Et=function(e){e=e||{};e["timestamp"]=e["timestamp"]||(new Date).getTime();return e};var Tt=function(e,t){if(!e||typeof e!=="object"){return e}else{a.assert(".sv"in e,"Unexpected leaf node or priority contents");return t[e[".sv"]]}};var kt=function(e,t){var r=new Ct;e.forEachTree(new Q(""),function(e,n){r.remember(e,St(n,t))});return r};var St=function(e,t){var r=e.getPriority().val();var n=Tt(r,t);var i;if(e.isLeafNode()){var a=e;var o=Tt(a.getValue(),t);if(o!==a.getValue()||n!==a.getPriority().val()){return new Ue(o,ct(n))}else{return e}}else{var s=e;i=s;if(n!==s.getPriority().val()){i=i.updatePriority(new Ue(n))}s.forEachChild(Qe,function(e,r){var n=St(r,t);if(n!==r){i=i.updateImmediateChild(e,n)}});return i}};var xt;(function(e){e[e["OVERWRITE"]=0]="OVERWRITE";e[e["MERGE"]=1]="MERGE";e[e["ACK_USER_WRITE"]=2]="ACK_USER_WRITE";e[e["LISTEN_COMPLETE"]=3]="LISTEN_COMPLETE"})(xt||(xt={}));var It=function(){function e(e,t,r,n){this.fromUser=e;this.fromServer=t;this.queryId=r;this.tagged=n;a.assert(!n||t,"Tagged queries must be from server.")}e.User=new e(true,false,null,false);e.Server=new e(false,true,null,false);e.forServerTaggedQuery=function(t){return new e(false,true,t,true)};return e}();var Ot=function(){function e(e,t,r){this.path=e;this.affectedTree=t;this.revert=r;this.type=xt.ACK_USER_WRITE;this.source=It.User}e.prototype.operationForChild=function(t){if(!this.path.isEmpty()){a.assert(this.path.getFront()===t,"operationForChild called for unrelated child.");return new e(this.path.popFront(),this.affectedTree,this.revert)}else if(this.affectedTree.value!=null){a.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths.");return this}else{var r=this.affectedTree.subtree(new Q(t));return new e(Q.Empty,r,this.revert)}};return e}();var Nt;var At=function(){if(!Nt){Nt=new Ye(P)}return Nt};var Pt=function(){function e(e,t){if(t===void 0){t=At()}this.value=e;this.children=t}e.fromObject=function(t){var r=e.Empty;a.forEach(t,function(e,t){r=r.set(new Q(e),t)});return r};e.prototype.isEmpty=function(){return this.value===null&&this.children.isEmpty()};e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(this.value!=null&&t(this.value)){return{path:Q.Empty,value:this.value}}else{if(e.isEmpty()){return null}else{var r=e.getFront();var n=this.children.get(r);if(n!==null){var i=n.findRootMostMatchingPathAndValue(e.popFront(),t);if(i!=null){var a=new Q(r).child(i.path);return{path:a,value:i.value}}else{return null}}else{return null}}}};e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,function(){return true})};e.prototype.subtree=function(t){if(t.isEmpty()){return this}else{var r=t.getFront();var n=this.children.get(r);if(n!==null){return n.subtree(t.popFront())}else{return e.Empty}}};e.prototype.set=function(t,r){if(t.isEmpty()){return new e(r,this.children)}else{var n=t.getFront();var i=this.children.get(n)||e.Empty;var a=i.set(t.popFront(),r);var o=this.children.insert(n,a);return new e(this.value,o)}};e.prototype.remove=function(t){if(t.isEmpty()){if(this.children.isEmpty()){return e.Empty}else{return new e(null,this.children)}}else{var r=t.getFront();var n=this.children.get(r);if(n){var i=n.remove(t.popFront());var a=void 0;if(i.isEmpty()){a=this.children.remove(r)}else{a=this.children.insert(r,i)}if(this.value===null&&a.isEmpty()){return e.Empty}else{return new e(this.value,a)}}else{return this}}};e.prototype.get=function(e){if(e.isEmpty()){return this.value}else{var t=e.getFront();var r=this.children.get(t);if(r){return r.get(e.popFront())}else{return null}}};e.prototype.setTree=function(t,r){if(t.isEmpty()){return r}else{var n=t.getFront();var i=this.children.get(n)||e.Empty;var a=i.setTree(t.popFront(),r);var o=void 0;if(a.isEmpty()){o=this.children.remove(n)}else{o=this.children.insert(n,a)}return new e(this.value,o)}};e.prototype.fold=function(e){return this.fold_(Q.Empty,e)};e.prototype.fold_=function(e,t){var r={};this.children.inorderTraversal(function(n,i){r[n]=i.fold_(e.child(n),t)});return t(e,this.value,r)};e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,Q.Empty,t)};e.prototype.findOnPath_=function(e,t,r){var n=this.value?r(t,this.value):false;if(n){return n}else{if(e.isEmpty()){return null}else{var i=e.getFront();var a=this.children.get(i);if(a){return a.findOnPath_(e.popFront(),t.child(i),r)}else{return null}}}};e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,Q.Empty,t)};e.prototype.foreachOnPath_=function(t,r,n){if(t.isEmpty()){return this}else{if(this.value){n(r,this.value)}var i=t.getFront();var a=this.children.get(i);if(a){return a.foreachOnPath_(t.popFront(),r.child(i),n)}else{return e.Empty}}};e.prototype.foreach=function(e){this.foreach_(Q.Empty,e)};e.prototype.foreach_=function(e,t){this.children.inorderTraversal(function(r,n){n.foreach_(e.child(r),t)});if(this.value){t(e,this.value)}};e.prototype.foreachChild=function(e){this.children.inorderTraversal(function(t,r){if(r.value){e(t,r.value)}})};e.Empty=new e(null);return e}();var Dt=function(){function e(e,t){this.source=e;this.path=t;this.type=xt.LISTEN_COMPLETE}e.prototype.operationForChild=function(t){if(this.path.isEmpty()){return new e(this.source,Q.Empty)}else{return new e(this.source,this.path.popFront())}};return e}();var Rt=function(){function e(e,t,r){this.source=e;this.path=t;this.snap=r;this.type=xt.OVERWRITE}e.prototype.operationForChild=function(t){if(this.path.isEmpty()){return new e(this.source,Q.Empty,this.snap.getImmediateChild(t))}else{return new e(this.source,this.path.popFront(),this.snap)}};return e}();var Mt=function(){function e(e,t,r){this.source=e;this.path=t;this.children=r;this.type=xt.MERGE}e.prototype.operationForChild=function(t){if(this.path.isEmpty()){var r=this.children.subtree(new Q(t));if(r.isEmpty()){return null}else if(r.value){return new Rt(this.source,Q.Empty,r.value)}else{return new e(this.source,Q.Empty,r)}}else{a.assert(this.path.getFront()===t,"Can't get a merge for a child not on the path of the operation");return new e(this.source,this.path.popFront(),this.children)}};e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"};return e}();var Ft=function(){function e(e,t,r){this.node_=e;this.fullyInitialized_=t;this.filtered_=r}e.prototype.isFullyInitialized=function(){return this.fullyInitialized_};e.prototype.isFiltered=function(){return this.filtered_};e.prototype.isCompleteForPath=function(e){if(e.isEmpty()){return this.isFullyInitialized()&&!this.filtered_}var t=e.getFront();return this.isCompleteForChild(t)};e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)};e.prototype.getNode=function(){return this.node_};return e}();var Lt=function(){function e(e,t){this.eventCache_=e;this.serverCache_=t}e.prototype.updateEventSnap=function(t,r,n){return new e(new Ft(t,r,n),this.serverCache_)};e.prototype.updateServerSnap=function(t,r,n){return new e(this.eventCache_,new Ft(t,r,n))};e.prototype.getEventCache=function(){return this.eventCache_};e.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null};e.prototype.getServerCache=function(){return this.serverCache_};e.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null};e.Empty=new e(new Ft(ot.EMPTY_NODE,false,false),new Ft(ot.EMPTY_NODE,false,false));return e}();var jt=function(){function e(e,t,r,n,i){this.type=e;this.snapshotNode=t;this.childName=r;this.oldSnap=n;this.prevName=i}e.valueChange=function(t){return new e(e.VALUE,t)};e.childAddedChange=function(t,r){return new e(e.CHILD_ADDED,r,t)};e.childRemovedChange=function(t,r){return new e(e.CHILD_REMOVED,r,t)};e.childChangedChange=function(t,r,n){return new e(e.CHILD_CHANGED,r,t,n)};e.childMovedChange=function(t,r){return new e(e.CHILD_MOVED,r,t)};e.CHILD_ADDED="child_added";e.CHILD_REMOVED="child_removed";e.CHILD_CHANGED="child_changed";e.CHILD_MOVED="child_moved";e.VALUE="value";return e}();var $t=function(){function e(e){this.index_=e}e.prototype.updateChild=function(e,t,r,n,i,o){a.assert(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);if(s.getChild(n).equals(r.getChild(n))){if(s.isEmpty()==r.isEmpty()){return e}}if(o!=null){if(r.isEmpty()){if(e.hasChild(t)){o.trackChildChange(jt.childRemovedChange(t,s))}else{a.assert(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node")}}else if(s.isEmpty()){o.trackChildChange(jt.childAddedChange(t,r))}else{o.trackChildChange(jt.childChangedChange(t,r,s))}}if(e.isLeafNode()&&r.isEmpty()){return e}else{return e.updateImmediateChild(t,r).withIndex(this.index_)}};e.prototype.updateFullNode=function(e,t,r){if(r!=null){if(!e.isLeafNode()){e.forEachChild(Qe,function(e,n){if(!t.hasChild(e)){r.trackChildChange(jt.childRemovedChange(e,n))}})}if(!t.isLeafNode()){t.forEachChild(Qe,function(t,n){if(e.hasChild(t)){var i=e.getImmediateChild(t);if(!i.equals(n)){r.trackChildChange(jt.childChangedChange(t,n,i))}}else{r.trackChildChange(jt.childAddedChange(t,n))}})}}return t.withIndex(this.index_)};e.prototype.updatePriority=function(e,t){if(e.isEmpty()){return ot.EMPTY_NODE}else{return e.updatePriority(t)}};e.prototype.filtersNodes=function(){return false};e.prototype.getIndexedFilter=function(){return this};e.prototype.getIndex=function(){return this.index_};return e}();var Ut=function(){function e(){this.changeMap_={}}e.prototype.trackChildChange=function(e){var t=e.type;var r=e.childName;a.assert(t==jt.CHILD_ADDED||t==jt.CHILD_CHANGED||t==jt.CHILD_REMOVED,"Only child changes supported for tracking");a.assert(r!==".priority","Only non-priority child changes can be tracked.");var n=a.safeGet(this.changeMap_,r);if(n){var i=n.type;if(t==jt.CHILD_ADDED&&i==jt.CHILD_REMOVED){this.changeMap_[r]=jt.childChangedChange(r,e.snapshotNode,n.snapshotNode)}else if(t==jt.CHILD_REMOVED&&i==jt.CHILD_ADDED){delete this.changeMap_[r]}else if(t==jt.CHILD_REMOVED&&i==jt.CHILD_CHANGED){this.changeMap_[r]=jt.childRemovedChange(r,n.oldSnap)}else if(t==jt.CHILD_CHANGED&&i==jt.CHILD_ADDED){this.changeMap_[r]=jt.childAddedChange(r,e.snapshotNode)}else if(t==jt.CHILD_CHANGED&&i==jt.CHILD_CHANGED){this.changeMap_[r]=jt.childChangedChange(r,e.snapshotNode,n.oldSnap)}else{throw a.assertionError("Illegal combination of changes: "+e+" occurred after "+n)}}else{this.changeMap_[r]=e}};e.prototype.getChanges=function(){return a.getValues(this.changeMap_)};return e}();var Bt=function(){function e(){}e.prototype.getCompleteChild=function(e){return null};e.prototype.getChildAfterChild=function(e,t,r){return null};return e}();var Wt=new Bt;var qt=function(){function e(e,t,r){if(r===void 0){r=null}this.writes_=e;this.viewCache_=t;this.optCompleteServerCache_=r}e.prototype.getCompleteChild=function(e){var t=this.viewCache_.getEventCache();if(t.isCompleteForChild(e)){return t.getNode().getImmediateChild(e)}else{var r=this.optCompleteServerCache_!=null?new Ft(this.optCompleteServerCache_,true,false):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(e,r)}};e.prototype.getChildAfterChild=function(e,t,r){var n=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap();var i=this.writes_.calcIndexedSlice(n,t,1,r,e);if(i.length===0){return null}else{return i[0]}};return e}();var Vt=function(){function e(e,t){this.viewCache=e;this.changes=t}return e}();var Ht=function(){function e(e){this.filter_=e}e.prototype.assertIndexed=function(e){a.assert(e.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed");a.assert(e.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")};e.prototype.applyOperation=function(t,r,n,i){var o=new Ut;var s,u;if(r.type===xt.OVERWRITE){var l=r;if(l.source.fromUser){s=this.applyUserOverwrite_(t,l.path,l.snap,n,i,o)}else{a.assert(l.source.fromServer,"Unknown source.");u=l.source.tagged||t.getServerCache().isFiltered()&&!l.path.isEmpty();s=this.applyServerOverwrite_(t,l.path,l.snap,n,i,u,o)}}else if(r.type===xt.MERGE){var c=r;if(c.source.fromUser){s=this.applyUserMerge_(t,c.path,c.children,n,i,o)}else{a.assert(c.source.fromServer,"Unknown source.");u=c.source.tagged||t.getServerCache().isFiltered();s=this.applyServerMerge_(t,c.path,c.children,n,i,u,o)}}else if(r.type===xt.ACK_USER_WRITE){var f=r;if(!f.revert){s=this.ackUserWrite_(t,f.path,f.affectedTree,n,i,o)}else{s=this.revertUserWrite_(t,f.path,n,i,o)}}else if(r.type===xt.LISTEN_COMPLETE){s=this.listenComplete_(t,r.path,n,o)}else{throw a.assertionError("Unknown operation type: "+r.type)}var h=o.getChanges();e.maybeAddValueEvent_(t,s,h);return new Vt(s,h)};e.maybeAddValueEvent_=function(e,t,r){var n=t.getEventCache();if(n.isFullyInitialized()){var i=n.getNode().isLeafNode()||n.getNode().isEmpty();var a=e.getCompleteEventSnap();if(r.length>0||!e.getEventCache().isFullyInitialized()||i&&!n.getNode().equals(a)||!n.getNode().getPriority().equals(a.getPriority())){r.push(jt.valueChange(t.getCompleteEventSnap()))}}};e.prototype.generateEventCacheAfterServerEvent_=function(e,t,r,n,i){var o=e.getEventCache();if(r.shadowingWrite(t)!=null){return e}else{var s=void 0,u=void 0;if(t.isEmpty()){a.assert(e.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data");if(e.getServerCache().isFiltered()){var l=e.getCompleteServerSnap();var c=l instanceof ot?l:ot.EMPTY_NODE;var f=r.calcCompleteEventChildren(c);s=this.filter_.updateFullNode(e.getEventCache().getNode(),f,i)}else{var h=r.calcCompleteEventCache(e.getCompleteServerSnap());s=this.filter_.updateFullNode(e.getEventCache().getNode(),h,i)}}else{var p=t.getFront();if(p==".priority"){a.assert(t.getLength()==1,"Can't have a priority with additional path components");var d=o.getNode();u=e.getServerCache().getNode();var v=r.calcEventCacheAfterServerOverwrite(t,d,u);if(v!=null){s=this.filter_.updatePriority(d,v)}else{s=o.getNode()}}else{var y=t.popFront();var m=void 0;if(o.isCompleteForChild(p)){u=e.getServerCache().getNode();var g=r.calcEventCacheAfterServerOverwrite(t,o.getNode(),u);if(g!=null){m=o.getNode().getImmediateChild(p).updateChild(y,g)}else{m=o.getNode().getImmediateChild(p)}}else{m=r.calcCompleteChild(p,e.getServerCache())}if(m!=null){s=this.filter_.updateChild(o.getNode(),p,m,y,n,i)}else{s=o.getNode()}}}return e.updateEventSnap(s,o.isFullyInitialized()||t.isEmpty(),this.filter_.filtersNodes())}};e.prototype.applyServerOverwrite_=function(e,t,r,n,i,a,o){var s=e.getServerCache();var u;var l=a?this.filter_:this.filter_.getIndexedFilter();if(t.isEmpty()){u=l.updateFullNode(s.getNode(),r,null)}else if(l.filtersNodes()&&!s.isFiltered()){var c=s.getNode().updateChild(t,r);u=l.updateFullNode(s.getNode(),c,null)}else{var f=t.getFront();if(!s.isCompleteForPath(t)&&t.getLength()>1){return e}var h=t.popFront();var p=s.getNode().getImmediateChild(f);var d=p.updateChild(h,r);if(f==".priority"){u=l.updatePriority(s.getNode(),d)}else{u=l.updateChild(s.getNode(),f,d,h,Wt,null)}}var v=e.updateServerSnap(u,s.isFullyInitialized()||t.isEmpty(),l.filtersNodes());var y=new qt(n,v,i);return this.generateEventCacheAfterServerEvent_(v,t,n,y,o)};e.prototype.applyUserOverwrite_=function(e,t,r,n,i,a){var o=e.getEventCache();var s,u;var l=new qt(n,e,i);if(t.isEmpty()){u=this.filter_.updateFullNode(e.getEventCache().getNode(),r,a);s=e.updateEventSnap(u,true,this.filter_.filtersNodes())}else{var c=t.getFront();if(c===".priority"){u=this.filter_.updatePriority(e.getEventCache().getNode(),r);s=e.updateEventSnap(u,o.isFullyInitialized(),o.isFiltered())}else{var f=t.popFront();var h=o.getNode().getImmediateChild(c);var p=void 0;if(f.isEmpty()){p=r}else{var d=l.getCompleteChild(c);if(d!=null){if(f.getBack()===".priority"&&d.getChild(f.parent()).isEmpty()){p=d}else{p=d.updateChild(f,r)}}else{p=ot.EMPTY_NODE}}if(!h.equals(p)){var v=this.filter_.updateChild(o.getNode(),c,p,f,l,a);s=e.updateEventSnap(v,o.isFullyInitialized(),this.filter_.filtersNodes())}else{s=e}}}return s};e.cacheHasChild_=function(e,t){return e.getEventCache().isCompleteForChild(t)};e.prototype.applyUserMerge_=function(t,r,n,i,a,o){var s=this;var u=t;n.foreach(function(n,l){var c=r.child(n);if(e.cacheHasChild_(t,c.getFront())){u=s.applyUserOverwrite_(u,c,l,i,a,o)}});n.foreach(function(n,l){var c=r.child(n);if(!e.cacheHasChild_(t,c.getFront())){u=s.applyUserOverwrite_(u,c,l,i,a,o)}});return u};e.prototype.applyMerge_=function(e,t){t.foreach(function(t,r){e=e.updateChild(t,r)});return e};e.prototype.applyServerMerge_=function(e,t,r,n,i,a,o){var s=this;if(e.getServerCache().getNode().isEmpty()&&!e.getServerCache().isFullyInitialized()){return e}var u=e;var l;if(t.isEmpty()){l=r}else{l=Pt.Empty.setTree(t,r)}var c=e.getServerCache().getNode();l.children.inorderTraversal(function(t,r){if(c.hasChild(t)){var l=e.getServerCache().getNode().getImmediateChild(t);var f=s.applyMerge_(l,r);u=s.applyServerOverwrite_(u,new Q(t),f,n,i,a,o)}});l.children.inorderTraversal(function(t,r){var l=!e.getServerCache().isCompleteForChild(t)&&r.value==null;if(!c.hasChild(t)&&!l){var f=e.getServerCache().getNode().getImmediateChild(t);var h=s.applyMerge_(f,r);u=s.applyServerOverwrite_(u,new Q(t),h,n,i,a,o)}});return u};e.prototype.ackUserWrite_=function(e,t,r,n,i,a){if(n.shadowingWrite(t)!=null){return e}var o=e.getServerCache().isFiltered();var s=e.getServerCache();if(r.value!=null){if(t.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(t)){return this.applyServerOverwrite_(e,t,s.getNode().getChild(t),n,i,o,a)}else if(t.isEmpty()){var u=Pt.Empty;s.getNode().forEachChild(Re,function(e,t){u=u.set(new Q(e),t)});return this.applyServerMerge_(e,t,u,n,i,o,a)}else{return e}}else{var l=Pt.Empty;r.foreach(function(e,r){var n=t.child(e);if(s.isCompleteForPath(n)){l=l.set(e,s.getNode().getChild(n))}});return this.applyServerMerge_(e,t,l,n,i,o,a)}};e.prototype.listenComplete_=function(e,t,r,n){var i=e.getServerCache();var a=e.updateServerSnap(i.getNode(),i.isFullyInitialized()||t.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(a,t,r,Wt,n)};e.prototype.revertUserWrite_=function(e,t,r,n,i){var o;if(r.shadowingWrite(t)!=null){return e}else{var s=new qt(r,e,n);var u=e.getEventCache().getNode();var l=void 0;if(t.isEmpty()||t.getFront()===".priority"){var c=void 0;if(e.getServerCache().isFullyInitialized()){c=r.calcCompleteEventCache(e.getCompleteServerSnap())}else{var f=e.getServerCache().getNode();a.assert(f instanceof ot,"serverChildren would be complete if leaf node");c=r.calcCompleteEventChildren(f)}c=c;l=this.filter_.updateFullNode(u,c,i)}else{var h=t.getFront();var p=r.calcCompleteChild(h,e.getServerCache());if(p==null&&e.getServerCache().isCompleteForChild(h)){p=u.getImmediateChild(h)}if(p!=null){l=this.filter_.updateChild(u,h,p,t.popFront(),s,i)}else if(e.getEventCache().getNode().hasChild(h)){l=this.filter_.updateChild(u,h,ot.EMPTY_NODE,t.popFront(),s,i)}else{l=u}if(l.isEmpty()&&e.getServerCache().isFullyInitialized()){o=r.calcCompleteEventCache(e.getCompleteServerSnap());if(o.isLeafNode()){l=this.filter_.updateFullNode(l,o,i)}}}o=e.getServerCache().isFullyInitialized()||r.shadowingWrite(Q.Empty)!=null;return e.updateEventSnap(l,o,this.filter_.filtersNodes())}};return e}();var Qt=function(){function e(e){this.query_=e;this.index_=this.query_.getQueryParams().getIndex()}e.prototype.generateEventsForChanges=function(e,t,r){var n=this;var i=[];var a=[];e.forEach(function(e){if(e.type===jt.CHILD_CHANGED&&n.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)){a.push(jt.childMovedChange(e.childName,e.snapshotNode))}});this.generateEventsForType_(i,jt.CHILD_REMOVED,e,r,t);this.generateEventsForType_(i,jt.CHILD_ADDED,e,r,t);this.generateEventsForType_(i,jt.CHILD_MOVED,a,r,t);this.generateEventsForType_(i,jt.CHILD_CHANGED,e,r,t);this.generateEventsForType_(i,jt.VALUE,e,r,t);return i};e.prototype.generateEventsForType_=function(e,t,r,n,i){var a=this;var o=r.filter(function(e){return e.type===t});o.sort(this.compareChanges_.bind(this));o.forEach(function(t){var r=a.materializeSingleChange_(t,i);n.forEach(function(n){if(n.respondsTo(t.type)){e.push(n.createEvent(r,a.query_))}})})};e.prototype.materializeSingleChange_=function(e,t){if(e.type==="value"||e.type==="child_removed"){return e}else{e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,this.index_);return e}};e.prototype.compareChanges_=function(e,t){if(e.childName==null||t.childName==null){throw a.assertionError("Should only compare child_ events.")}var r=new Ne(e.childName,e.snapshotNode);var n=new Ne(t.childName,t.snapshotNode);return this.index_.compare(r,n)};return e}();var Kt=function(){function e(e,t){this.query_=e;this.eventRegistrations_=[];var r=this.query_.getQueryParams();var n=new $t(r.getIndex());var i=r.getNodeFilter();this.processor_=new Ht(i);var a=t.getServerCache();var o=t.getEventCache();var s=n.updateFullNode(ot.EMPTY_NODE,a.getNode(),null);var u=i.updateFullNode(ot.EMPTY_NODE,o.getNode(),null);var l=new Ft(s,a.isFullyInitialized(),n.filtersNodes());var c=new Ft(u,o.isFullyInitialized(),i.filtersNodes());this.viewCache_=new Lt(c,l);this.eventGenerator_=new Qt(this.query_)}e.prototype.getQuery=function(){return this.query_};e.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()};e.prototype.getCompleteServerCache=function(e){var t=this.viewCache_.getCompleteServerSnap();if(t){if(this.query_.getQueryParams().loadsAllData()||!e.isEmpty()&&!t.getImmediateChild(e.getFront()).isEmpty()){return t.getChild(e)}}return null};e.prototype.isEmpty=function(){return this.eventRegistrations_.length===0};e.prototype.addEventRegistration=function(e){this.eventRegistrations_.push(e)};e.prototype.removeEventRegistration=function(e,t){var r=[];if(t){a.assert(e==null,"A cancel should cancel all event registrations.");var n=this.query_.path;this.eventRegistrations_.forEach(function(e){t=t;var i=e.createCancelEvent(t,n);if(i){r.push(i)}})}if(e){var i=[];for(var o=0;o<this.eventRegistrations_.length;++o){var s=this.eventRegistrations_[o];if(!s.matches(e)){i.push(s)}else if(e.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}this.eventRegistrations_=i}else{this.eventRegistrations_=[]}return r};e.prototype.applyOperation=function(e,t,r){if(e.type===xt.MERGE&&e.source.queryId!==null){a.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges");a.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache")}var n=this.viewCache_;var i=this.processor_.applyOperation(n,e,t,r);this.processor_.assertIndexed(i.viewCache);a.assert(i.viewCache.getServerCache().isFullyInitialized()||!n.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back");this.viewCache_=i.viewCache;return this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)};e.prototype.getInitialEvents=function(e){var t=this.viewCache_.getEventCache();var r=[];if(!t.getNode().isLeafNode()){var n=t.getNode();n.forEachChild(Qe,function(e,t){r.push(jt.childAddedChange(e,t))})}if(t.isFullyInitialized()){r.push(jt.valueChange(t.getNode()))}return this.generateEventsForChanges_(r,t.getNode(),e)};e.prototype.generateEventsForChanges_=function(e,t,r){var n=r?[r]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(e,t,n)};return e}();var zt;var Gt=function(){function e(){this.views_={}}Object.defineProperty(e,"__referenceConstructor",{get:function(){a.assert(zt,"Reference.ts has not been loaded");return zt},set:function(e){a.assert(!zt,"__referenceConstructor has already been defined");zt=e},enumerable:true,configurable:true});e.prototype.isEmpty=function(){return a.isEmpty(this.views_)};e.prototype.applyOperation=function(e,t,r){var n=e.source.queryId;if(n!==null){var i=a.safeGet(this.views_,n);a.assert(i!=null,"SyncTree gave us an op for an invalid query.");return i.applyOperation(e,t,r)}else{var o=[];a.forEach(this.views_,function(n,i){o=o.concat(i.applyOperation(e,t,r))});return o}};e.prototype.addEventRegistration=function(e,t,r,n,i){var o=e.queryIdentifier();var s=a.safeGet(this.views_,o);if(!s){var u=r.calcCompleteEventCache(i?n:null);var l=false;if(u){l=true}else if(n instanceof ot){u=r.calcCompleteEventChildren(n);l=false}else{u=ot.EMPTY_NODE;l=false}var c=new Lt(new Ft(u,l,false),new Ft(n,i,false));s=new Kt(e,c);this.views_[o]=s}s.addEventRegistration(t);return s.getInitialEvents(t)};e.prototype.removeEventRegistration=function(t,r,n){var i=t.queryIdentifier();var o=[];var s=[];var u=this.hasCompleteView();if(i==="default"){var l=this;a.forEach(this.views_,function(e,t){s=s.concat(t.removeEventRegistration(r,n));if(t.isEmpty()){delete l.views_[e];if(!t.getQuery().getQueryParams().loadsAllData()){o.push(t.getQuery())}}})}else{var c=a.safeGet(this.views_,i);if(c){s=s.concat(c.removeEventRegistration(r,n));if(c.isEmpty()){delete this.views_[i];if(!c.getQuery().getQueryParams().loadsAllData()){o.push(c.getQuery())}}}}if(u&&!this.hasCompleteView()){o.push(new e.__referenceConstructor(t.repo,t.path))}return{removed:o,events:s}};e.prototype.getQueryViews=function(){var e=this;var t=Object.keys(this.views_).map(function(t){return e.views_[t]});return t.filter(function(e){return!e.getQuery().getQueryParams().loadsAllData()})};e.prototype.getCompleteServerCache=function(e){var t=null;a.forEach(this.views_,function(r,n){t=t||n.getCompleteServerCache(e)});return t};e.prototype.viewForQuery=function(e){var t=e.getQueryParams();if(t.loadsAllData()){return this.getCompleteView()}else{var r=e.queryIdentifier();return a.safeGet(this.views_,r)}};e.prototype.viewExistsForQuery=function(e){return this.viewForQuery(e)!=null};e.prototype.hasCompleteView=function(){return this.getCompleteView()!=null};e.prototype.getCompleteView=function(){var e=a.findValue(this.views_,function(e){return e.getQuery().getQueryParams().loadsAllData()});return e||null};return e}();var Yt=function(){function e(e){this.writeTree_=e}e.prototype.addWrite=function(t,r){if(t.isEmpty()){return new e(new Pt(r))}else{var n=this.writeTree_.findRootMostValueAndPath(t);if(n!=null){var i=n.path;var a=n.value;var o=Q.relativePath(i,t);a=a.updateChild(o,r);return new e(this.writeTree_.set(i,a))}else{var s=new Pt(r);var u=this.writeTree_.setTree(t,s);return new e(u)}}};e.prototype.addWrites=function(e,t){var r=this;a.forEach(t,function(t,n){r=r.addWrite(e.child(t),n)});return r};e.prototype.removeWrite=function(t){if(t.isEmpty()){return e.Empty}else{var r=this.writeTree_.setTree(t,Pt.Empty);return new e(r)}};e.prototype.hasCompleteWrite=function(e){return this.getCompleteNode(e)!=null};e.prototype.getCompleteNode=function(e){var t=this.writeTree_.findRootMostValueAndPath(e);if(t!=null){return this.writeTree_.get(t.path).getChild(Q.relativePath(t.path,e))}else{return null}};e.prototype.getCompleteChildren=function(){var e=[];var t=this.writeTree_.value;if(t!=null){if(!t.isLeafNode()){t.forEachChild(Qe,function(t,r){e.push(new Ne(t,r))})}}else{this.writeTree_.children.inorderTraversal(function(t,r){if(r.value!=null){e.push(new Ne(t,r.value))}})}return e};e.prototype.childCompoundWrite=function(t){if(t.isEmpty()){return this}else{var r=this.getCompleteNode(t);if(r!=null){return new e(new Pt(r))}else{return new e(this.writeTree_.subtree(t))}}};e.prototype.isEmpty=function(){return this.writeTree_.isEmpty()};e.prototype.apply=function(t){return e.applySubtreeWrite_(Q.Empty,this.writeTree_,t)};e.Empty=new e(new Pt(null));e.applySubtreeWrite_=function(t,r,n){if(r.value!=null){return n.updateChild(t,r.value)}else{var i=null;r.children.inorderTraversal(function(r,o){if(r===".priority"){a.assert(o.value!==null,"Priority writes must always be leaf nodes");i=o.value}else{n=e.applySubtreeWrite_(t.child(r),o,n)}});if(!n.getChild(t).isEmpty()&&i!==null){n=n.updateChild(t.child(".priority"),i)}return n}};return e}();var Jt=function(){function e(){this.visibleWrites_=Yt.Empty;this.allWrites_=[];this.lastWriteId_=-1}e.prototype.childWrites=function(e){return new Xt(e,this)};e.prototype.addOverwrite=function(e,t,r,n){a.assert(r>this.lastWriteId_,"Stacking an older write on top of newer ones");if(n===undefined){n=true}this.allWrites_.push({path:e,snap:t,writeId:r,visible:n});if(n){this.visibleWrites_=this.visibleWrites_.addWrite(e,t)}this.lastWriteId_=r};e.prototype.addMerge=function(e,t,r){a.assert(r>this.lastWriteId_,"Stacking an older merge on top of newer ones");this.allWrites_.push({path:e,children:t,writeId:r,visible:true});this.visibleWrites_=this.visibleWrites_.addWrites(e,t);this.lastWriteId_=r};e.prototype.getWrite=function(e){for(var t=0;t<this.allWrites_.length;t++){var r=this.allWrites_[t];if(r.writeId===e){return r}}return null};e.prototype.removeWrite=function(e){var t=this;var r=this.allWrites_.findIndex(function(t){return t.writeId===e});a.assert(r>=0,"removeWrite called with nonexistent writeId.");var n=this.allWrites_[r];this.allWrites_.splice(r,1);var i=n.visible;var o=false;var s=this.allWrites_.length-1;while(i&&s>=0){var u=this.allWrites_[s];if(u.visible){if(s>=r&&this.recordContainsPath_(u,n.path)){i=false}else if(n.path.contains(u.path)){o=true}}s--}if(!i){return false}else if(o){this.resetTree_();return true}else{if(n.snap){this.visibleWrites_=this.visibleWrites_.removeWrite(n.path)}else{var l=n.children;a.forEach(l,function(e){t.visibleWrites_=t.visibleWrites_.removeWrite(n.path.child(e))})}return true}};e.prototype.getCompleteWriteData=function(e){return this.visibleWrites_.getCompleteNode(e)};e.prototype.calcCompleteEventCache=function(t,r,n,i){if(!n&&!i){var a=this.visibleWrites_.getCompleteNode(t);if(a!=null){return a}else{var o=this.visibleWrites_.childCompoundWrite(t);if(o.isEmpty()){return r}else if(r==null&&!o.hasCompleteWrite(Q.Empty)){return null}else{var s=r||ot.EMPTY_NODE;return o.apply(s)}}}else{var u=this.visibleWrites_.childCompoundWrite(t);if(!i&&u.isEmpty()){return r}else{if(!i&&r==null&&!u.hasCompleteWrite(Q.Empty)){return null}else{var l=function(e){return(e.visible||i)&&(!n||!~n.indexOf(e.writeId))&&(e.path.contains(t)||t.contains(e.path))};var c=e.layerTree_(this.allWrites_,l,t);var s=r||ot.EMPTY_NODE;return c.apply(s)}}}};e.prototype.calcCompleteEventChildren=function(e,t){var r=ot.EMPTY_NODE;var n=this.visibleWrites_.getCompleteNode(e);if(n){if(!n.isLeafNode()){n.forEachChild(Qe,function(e,t){r=r.updateImmediateChild(e,t)})}return r}else if(t){var i=this.visibleWrites_.childCompoundWrite(e);t.forEachChild(Qe,function(e,t){var n=i.childCompoundWrite(new Q(e)).apply(t);r=r.updateImmediateChild(e,n)});i.getCompleteChildren().forEach(function(e){r=r.updateImmediateChild(e.name,e.node)});return r}else{var a=this.visibleWrites_.childCompoundWrite(e);a.getCompleteChildren().forEach(function(e){r=r.updateImmediateChild(e.name,e.node)});return r}};e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,r,n){a.assert(r||n,"Either existingEventSnap or existingServerSnap must exist");var i=e.child(t);if(this.visibleWrites_.hasCompleteWrite(i)){return null}else{var o=this.visibleWrites_.childCompoundWrite(i);if(o.isEmpty()){return n.getChild(t)}else{return o.apply(n.getChild(t))}}};e.prototype.calcCompleteChild=function(e,t,r){var n=e.child(t);var i=this.visibleWrites_.getCompleteNode(n);if(i!=null){return i}else{if(r.isCompleteForChild(t)){var a=this.visibleWrites_.childCompoundWrite(n);return a.apply(r.getNode().getImmediateChild(t))}else{return null}}};e.prototype.shadowingWrite=function(e){return this.visibleWrites_.getCompleteNode(e)};e.prototype.calcIndexedSlice=function(e,t,r,n,i,a){var o;var s=this.visibleWrites_.childCompoundWrite(e);var u=s.getCompleteNode(Q.Empty);if(u!=null){o=u}else if(t!=null){o=s.apply(t)}else{return[]}o=o.withIndex(a);if(!o.isEmpty()&&!o.isLeafNode()){var l=[];var c=a.getCompare();var f=i?o.getReverseIteratorFrom(r,a):o.getIteratorFrom(r,a);var h=f.getNext();while(h&&l.length<n){if(c(h,r)!==0){l.push(h)}h=f.getNext()}return l}else{return[]}};e.prototype.recordContainsPath_=function(e,t){if(e.snap){return e.path.contains(t)}else{return!!a.findKey(e.children,function(r,n){return e.path.child(n).contains(t)})}};e.prototype.resetTree_=function(){this.visibleWrites_=e.layerTree_(this.allWrites_,e.DefaultFilter_,Q.Empty);if(this.allWrites_.length>0){this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId}else{this.lastWriteId_=-1}};e.DefaultFilter_=function(e){return e.visible};e.layerTree_=function(e,t,r){var n=Yt.Empty;for(var i=0;i<e.length;++i){var o=e[i];if(t(o)){var s=o.path;var u=void 0;if(o.snap){if(r.contains(s)){u=Q.relativePath(r,s);n=n.addWrite(u,o.snap)}else if(s.contains(r)){u=Q.relativePath(s,r);n=n.addWrite(Q.Empty,o.snap.getChild(u))}else{}}else if(o.children){if(r.contains(s)){u=Q.relativePath(r,s);n=n.addWrites(u,o.children)}else if(s.contains(r)){u=Q.relativePath(s,r);if(u.isEmpty()){n=n.addWrites(Q.Empty,o.children)}else{var l=a.safeGet(o.children,u.getFront());if(l){var c=l.getChild(u.popFront());n=n.addWrite(Q.Empty,c)}}}else{}}else{throw a.assertionError("WriteRecord should have .snap or .children")}}}return n};return e}();var Xt=function(){function e(e,t){this.treePath_=e;this.writeTree_=t}e.prototype.calcCompleteEventCache=function(e,t,r){return this.writeTree_.calcCompleteEventCache(this.treePath_,e,t,r)};e.prototype.calcCompleteEventChildren=function(e){return this.writeTree_.calcCompleteEventChildren(this.treePath_,e)};e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,r){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,e,t,r)};e.prototype.shadowingWrite=function(e){return this.writeTree_.shadowingWrite(this.treePath_.child(e))};e.prototype.calcIndexedSlice=function(e,t,r,n,i){return this.writeTree_.calcIndexedSlice(this.treePath_,e,t,r,n,i)};e.prototype.calcCompleteChild=function(e,t){return this.writeTree_.calcCompleteChild(this.treePath_,e,t)};e.prototype.child=function(t){return new e(this.treePath_.child(t),this.writeTree_)};return e}();var Zt=function(){function e(e){this.listenProvider_=e;this.syncPointTree_=Pt.Empty;this.pendingWriteTree_=new Jt;this.tagToQueryMap_={};this.queryToTagMap_={}}e.prototype.applyUserOverwrite=function(e,t,r,n){this.pendingWriteTree_.addOverwrite(e,t,r,n);if(!n){return[]}else{return this.applyOperationToSyncPoints_(new Rt(It.User,e,t))}};e.prototype.applyUserMerge=function(e,t,r){this.pendingWriteTree_.addMerge(e,t,r);var n=Pt.fromObject(t);return this.applyOperationToSyncPoints_(new Mt(It.User,e,n))};e.prototype.ackUserWrite=function(e,t){if(t===void 0){t=false}var r=this.pendingWriteTree_.getWrite(e);var n=this.pendingWriteTree_.removeWrite(e);if(!n){return[]}else{var i=Pt.Empty;if(r.snap!=null){i=i.set(Q.Empty,true)}else{a.forEach(r.children,function(e,t){i=i.set(new Q(e),t)})}return this.applyOperationToSyncPoints_(new Ot(r.path,i,t))}};e.prototype.applyServerOverwrite=function(e,t){return this.applyOperationToSyncPoints_(new Rt(It.Server,e,t))};e.prototype.applyServerMerge=function(e,t){var r=Pt.fromObject(t);return this.applyOperationToSyncPoints_(new Mt(It.Server,e,r))};e.prototype.applyListenComplete=function(e){return this.applyOperationToSyncPoints_(new Dt(It.Server,e))};e.prototype.applyTaggedQueryOverwrite=function(t,r,n){var i=this.queryKeyForTag_(n);if(i!=null){var a=e.parseQueryKey_(i);var o=a.path,s=a.queryId;var u=Q.relativePath(o,t);var l=new Rt(It.forServerTaggedQuery(s),u,r);return this.applyTaggedOperation_(o,l)}else{return[]}};e.prototype.applyTaggedQueryMerge=function(t,r,n){var i=this.queryKeyForTag_(n);if(i){var a=e.parseQueryKey_(i);var o=a.path,s=a.queryId;var u=Q.relativePath(o,t);var l=Pt.fromObject(r);var c=new Mt(It.forServerTaggedQuery(s),u,l);return this.applyTaggedOperation_(o,c)}else{return[]}};e.prototype.applyTaggedListenComplete=function(t,r){var n=this.queryKeyForTag_(r);if(n){var i=e.parseQueryKey_(n);var a=i.path,o=i.queryId;var s=Q.relativePath(a,t);var u=new Dt(It.forServerTaggedQuery(o),s);return this.applyTaggedOperation_(a,u)}else{return[]}};e.prototype.addEventRegistration=function(t,r){var n=t.path;var i=null;var o=false;this.syncPointTree_.foreachOnPath(n,function(e,t){var r=Q.relativePath(e,n);i=i||t.getCompleteServerCache(r);o=o||t.hasCompleteView()});var s=this.syncPointTree_.get(n);if(!s){s=new Gt;this.syncPointTree_=this.syncPointTree_.set(n,s)}else{o=o||s.hasCompleteView();i=i||s.getCompleteServerCache(Q.Empty)}var u;if(i!=null){u=true}else{u=false;i=ot.EMPTY_NODE;var l=this.syncPointTree_.subtree(n);l.foreachChild(function(e,t){var r=t.getCompleteServerCache(Q.Empty);if(r){i=i.updateImmediateChild(e,r)}})}var c=s.viewExistsForQuery(t);if(!c&&!t.getQueryParams().loadsAllData()){var f=e.makeQueryKey_(t);a.assert(!(f in this.queryToTagMap_),"View does not exist, but we have a tag");var h=e.getNextQueryTag_();this.queryToTagMap_[f]=h;this.tagToQueryMap_["_"+h]=f}var p=this.pendingWriteTree_.childWrites(n);var d=s.addEventRegistration(t,r,p,i,u);if(!c&&!o){var v=s.viewForQuery(t);d=d.concat(this.setupListener_(t,v))}return d};e.prototype.removeEventRegistration=function(t,r,n){var i=this;var a=t.path;var o=this.syncPointTree_.get(a);var s=[];if(o&&(t.queryIdentifier()==="default"||o.viewExistsForQuery(t))){var u=o.removeEventRegistration(t,r,n);if(o.isEmpty()){this.syncPointTree_=this.syncPointTree_.remove(a)}var l=u.removed;s=u.events;var c=-1!==l.findIndex(function(e){return e.getQueryParams().loadsAllData()});var f=this.syncPointTree_.findOnPath(a,function(e,t){return t.hasCompleteView()});if(c&&!f){var h=this.syncPointTree_.subtree(a);if(!h.isEmpty()){var p=this.collectDistinctViewsForSubTree_(h);for(var d=0;d<p.length;++d){var v=p[d],y=v.getQuery();var m=this.createListenerForView_(v);this.listenProvider_.startListening(e.queryForListening_(y),this.tagForQuery_(y),m.hashFn,m.onComplete)}}else{}}if(!f&&l.length>0&&!n){if(c){var g=null;this.listenProvider_.stopListening(e.queryForListening_(t),g)}else{l.forEach(function(t){var r=i.queryToTagMap_[e.makeQueryKey_(t)];i.listenProvider_.stopListening(e.queryForListening_(t),r)})}}this.removeTags_(l)}else{}return s};e.prototype.calcCompleteEventCache=function(e,t){var r=true;var n=this.pendingWriteTree_;var i=this.syncPointTree_.findOnPath(e,function(t,r){var n=Q.relativePath(t,e);var i=r.getCompleteServerCache(n);if(i){return i}});return n.calcCompleteEventCache(e,i,t,r)};e.prototype.collectDistinctViewsForSubTree_=function(e){return e.fold(function(e,t,r){if(t&&t.hasCompleteView()){var n=t.getCompleteView();return[n]}else{var i=[];if(t){i=t.getQueryViews()}a.forEach(r,function(e,t){i=i.concat(t)});return i}})};e.prototype.removeTags_=function(t){for(var r=0;r<t.length;++r){var n=t[r];if(!n.getQueryParams().loadsAllData()){var i=e.makeQueryKey_(n);var a=this.queryToTagMap_[i];delete this.queryToTagMap_[i];delete this.tagToQueryMap_["_"+a]}}};e.queryForListening_=function(e){if(e.getQueryParams().loadsAllData()&&!e.getQueryParams().isDefault()){return e.getRef()}else{return e}};e.prototype.setupListener_=function(t,r){var n=t.path;var i=this.tagForQuery_(t);var o=this.createListenerForView_(r);var s=this.listenProvider_.startListening(e.queryForListening_(t),i,o.hashFn,o.onComplete);var u=this.syncPointTree_.subtree(n);if(i){a.assert(!u.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed")}else{var l=u.fold(function(e,t,r){if(!e.isEmpty()&&t&&t.hasCompleteView()){return[t.getCompleteView().getQuery()]}else{var n=[];if(t){n=n.concat(t.getQueryViews().map(function(e){return e.getQuery()}))}a.forEach(r,function(e,t){n=n.concat(t)});return n}});for(var c=0;c<l.length;++c){var f=l[c];this.listenProvider_.stopListening(e.queryForListening_(f),this.tagForQuery_(f))}}return s};e.prototype.createListenerForView_=function(e){var t=this;var r=e.getQuery();var n=this.tagForQuery_(r);return{hashFn:function(){var t=e.getServerCache()||ot.EMPTY_NODE;return t.hash()},onComplete:function(e){if(e==="ok"){if(n){return t.applyTaggedListenComplete(r.path,n)}else{return t.applyListenComplete(r.path)}}else{var i=U(e,r);return t.removeEventRegistration(r,null,i)}}}};e.makeQueryKey_=function(e){return e.path.toString()+"$"+e.queryIdentifier()};e.parseQueryKey_=function(e){var t=e.indexOf("$");a.assert(t!==-1&&t<e.length-1,"Bad queryKey.");return{queryId:e.substr(t+1),path:new Q(e.substr(0,t))}};e.prototype.queryKeyForTag_=function(e){return this.tagToQueryMap_["_"+e]};e.prototype.tagForQuery_=function(t){var r=e.makeQueryKey_(t);return a.safeGet(this.queryToTagMap_,r)};e.getNextQueryTag_=function(){return e.nextQueryTag_++};e.prototype.applyTaggedOperation_=function(e,t){var r=this.syncPointTree_.get(e);a.assert(r,"Missing sync point for query tag that we're tracking");var n=this.pendingWriteTree_.childWrites(e);return r.applyOperation(t,n,null)};e.prototype.applyOperationToSyncPoints_=function(e){return this.applyOperationHelper_(e,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(Q.Empty))};e.prototype.applyOperationHelper_=function(e,t,r,n){if(e.path.isEmpty()){return this.applyOperationDescendantsHelper_(e,t,r,n)}else{var i=t.get(Q.Empty);if(r==null&&i!=null){r=i.getCompleteServerCache(Q.Empty)}var a=[];var o=e.path.getFront();var s=e.operationForChild(o);var u=t.children.get(o);if(u&&s){var l=r?r.getImmediateChild(o):null;var c=n.child(o);a=a.concat(this.applyOperationHelper_(s,u,l,c))}if(i){a=a.concat(i.applyOperation(e,n,r))}return a}};e.prototype.applyOperationDescendantsHelper_=function(e,t,r,n){var i=this;var a=t.get(Q.Empty);if(r==null&&a!=null){r=a.getCompleteServerCache(Q.Empty)}var o=[];t.children.inorderTraversal(function(t,a){var s=r?r.getImmediateChild(t):null;var u=n.child(t);var l=e.operationForChild(t);if(l){o=o.concat(i.applyOperationDescendantsHelper_(l,a,s,u))}});if(a){o=o.concat(a.applyOperation(e,n,r))}return o};e.nextQueryTag_=1;return e}();var er=function(){function e(){this.rootNode_=ot.EMPTY_NODE}e.prototype.getNode=function(e){return this.rootNode_.getChild(e)};e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)};return e}();var tr=function(){function e(e){this.app_=e}e.prototype.getToken=function(e){return this.app_["INTERNAL"]["getToken"](e).then(null,function(e){if(e&&e.code==="auth/token-not-initialized"){w("Got auth/token-not-initialized error.  Treating as null token.");return null}else{return Promise.reject(e)}})};e.prototype.addTokenChangeListener=function(e){this.app_["INTERNAL"]["addAuthTokenListener"](e)};e.prototype.removeTokenChangeListener=function(e){this.app_["INTERNAL"]["removeAuthTokenListener"](e)};e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not '+"initialized correctly. ";if("credential"in this.app_.options){e+='Make sure the "credential" property provided to initializeApp() '+'is authorized to access the specified "databaseURL" and is from the correct '+"project."}else if("serviceAccount"in this.app_.options){e+='Make sure the "serviceAccount" property provided to initializeApp() '+'is authorized to access the specified "databaseURL" and is from the correct '+"project."}else{e+='Make sure the "apiKey" and "databaseURL" properties provided to '+"initializeApp() match the values provided for your app at "+"https://console.firebase.google.com/."}k(e)};return e}();var rr=function(){function e(){this.counters_={}}e.prototype.incrementCounter=function(e,t){if(t===void 0){t=1}if(!a.contains(this.counters_,e))this.counters_[e]=0;this.counters_[e]+=t};e.prototype.get=function(){return a.deepCopy(this.counters_)};return e}();var nr=function(){function e(){}e.getCollection=function(e){var t=e.toString();if(!this.collections_[t]){this.collections_[t]=new rr}return this.collections_[t]};e.getOrCreateReporter=function(e,t){var r=e.toString();if(!this.reporters_[r]){this.reporters_[r]=t()}return this.reporters_[r]};e.collections_={};e.reporters_={};return e}();var ir=function(){function e(e){this.collection_=e;this.last_=null}e.prototype.get=function(){var e=this.collection_.get();var t=a.clone(e);if(this.last_){a.forEach(this.last_,function(e,r){t[e]=t[e]-r})}this.last_=e;return t};return e}();var ar=10*1e3;var or=30*1e3;var sr=5*60*1e3;var ur=function(){function e(e,t){this.server_=t;this.statsToReport_={};this.statsListener_=new ir(e);var r=ar+(or-ar)*Math.random();H(this.reportStats_.bind(this),Math.floor(r))}e.prototype.includeStat=function(e){this.statsToReport_[e]=true};e.prototype.reportStats_=function(){var e=this;var t=this.statsListener_.get();var r={};var n=false;a.forEach(t,function(t,i){if(i>0&&a.contains(e.statsToReport_,t)){r[t]=i;n=true}});if(n){this.server_.reportStats(r)}H(this.reportStats_.bind(this),Math.floor(Math.random()*2*sr))};return e}();var lr=function(){function e(){this.eventLists_=[];this.recursionDepth_=0}e.prototype.queueEvents=function(e){var t=null;for(var r=0;r<e.length;r++){var n=e[r];var i=n.getPath();if(t!==null&&!i.equals(t.getPath())){this.eventLists_.push(t);t=null}if(t===null){t=new cr(i)}t.add(n)}if(t){this.eventLists_.push(t)}};e.prototype.raiseEventsAtPath=function(e,t){this.queueEvents(t);this.raiseQueuedEventsMatchingPredicate_(function(t){return t.equals(e)})};e.prototype.raiseEventsForChangedPath=function(e,t){this.queueEvents(t);this.raiseQueuedEventsMatchingPredicate_(function(t){return t.contains(e)||e.contains(t)})};e.prototype.raiseQueuedEventsMatchingPredicate_=function(e){this.recursionDepth_++;var t=true;for(var r=0;r<this.eventLists_.length;r++){var n=this.eventLists_[r];if(n){var i=n.getPath();if(e(i)){this.eventLists_[r].raise();this.eventLists_[r]=null}else{t=false}}}if(t){this.eventLists_=[]}this.recursionDepth_--};return e}();var cr=function(){function e(e){this.path_=e;this.events_=[]}e.prototype.add=function(e){this.events_.push(e)};e.prototype.raise=function(){for(var e=0;e<this.events_.length;e++){var t=this.events_[e];if(t!==null){this.events_[e]=null;var r=t.getEventRunner();if(g){w("event: "+t.toString())}q(r)}}};e.prototype.getPath=function(){return this.path_};return e}();var fr=function(){function e(e){this.allowedEvents_=e;this.listeners_={};a.assert(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}e.prototype.trigger=function(e){var t=[];for(var r=1;r<arguments.length;r++){t[r-1]=arguments[r]}if(Array.isArray(this.listeners_[e])){var n=this.listeners_[e].slice();for(var i=0;i<n.length;i++){n[i].callback.apply(n[i].context,t)}}};e.prototype.on=function(e,t,r){this.validateEventType_(e);this.listeners_[e]=this.listeners_[e]||[];this.listeners_[e].push({callback:t,context:r});var n=this.getInitialEvent(e);if(n){t.apply(r,n)}};e.prototype.off=function(e,t,r){this.validateEventType_(e);var n=this.listeners_[e]||[];for(var i=0;i<n.length;i++){if(n[i].callback===t&&(!r||r===n[i].context)){n.splice(i,1);return}}};e.prototype.validateEventType_=function(e){a.assert(this.allowedEvents_.find(function(t){return t===e}),"Unknown event: "+e)};return e}();var hr=function(e){s.__extends(t,e);function t(){var t=e.call(this,["visible"])||this;var r;var n;if(typeof document!=="undefined"&&typeof document.addEventListener!=="undefined"){if(typeof document["hidden"]!=="undefined"){n="visibilitychange";r="hidden"}else if(typeof document["mozHidden"]!=="undefined"){n="mozvisibilitychange";r="mozHidden"}else if(typeof document["msHidden"]!=="undefined"){n="msvisibilitychange";r="msHidden"}else if(typeof document["webkitHidden"]!=="undefined"){n="webkitvisibilitychange";r="webkitHidden"}}t.visible_=true;if(n){document.addEventListener(n,function(){var e=!document[r];if(e!==t.visible_){t.visible_=e;t.trigger("visible",e)}},false)}return t}t.getInstance=function(){return new t};t.prototype.getInitialEvent=function(e){a.assert(e==="visible","Unknown event type: "+e);return[this.visible_]};return t}(fr);var pr=function(e){s.__extends(t,e);function t(){var t=e.call(this,["online"])||this;t.online_=true;if(typeof window!=="undefined"&&typeof window.addEventListener!=="undefined"&&!a.isMobileCordova()){window.addEventListener("online",function(){if(!t.online_){t.online_=true;t.trigger("online",true)}},false);window.addEventListener("offline",function(){if(t.online_){t.online_=false;t.trigger("online",false)}},false)}return t}t.getInstance=function(){return new t};t.prototype.getInitialEvent=function(e){a.assert(e==="online","Unknown event type: "+e);return[this.online_]};t.prototype.currentlyOnline=function(){return this.online_};return t}(fr);var dr=function(){function e(e){this.onMessage_=e;this.pendingResponses=[];this.currentResponseNum=0;this.closeAfterResponse=-1;this.onClose=null}e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e;this.onClose=t;if(this.closeAfterResponse<this.currentResponseNum){this.onClose();this.onClose=null}};e.prototype.handleResponse=function(e,t){var r=this;this.pendingResponses[e]=t;var n=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];var t=function(t){if(e[t]){q(function(){r.onMessage_(e[t])})}};for(var n=0;n<e.length;++n){t(n)}if(i.currentResponseNum===i.closeAfterResponse){if(i.onClose){i.onClose();i.onClose=null}return"break"}i.currentResponseNum++};var i=this;while(this.pendingResponses[this.currentResponseNum]){var a=n();if(a==="break")break}};return e}();var vr="start";var yr="close";var mr="pLPCommand";var gr="pRTLPCB";var _r="id";var br="pw";var wr="ser";var Cr="cb";var Er="seg";var Tr="ts";var kr="d";var Sr="disconn";var xr="dframe";var Ir=1870;var Or=30;var Nr=Ir-Or;var Ar=25e3;var Pr=3e4;var Dr=function(){function e(e,t,r,n){this.connId=e;this.repoInfo=t;this.transportSessionId=r;this.lastSessionId=n;this.bytesSent=0;this.bytesReceived=0;this.everConnected_=false;this.log_=C(e);this.stats_=nr.getCollection(t);this.urlFn=function(e){return t.connectionURL(re,e)}}e.prototype.open=function(e,t){var r=this;this.curSegmentNum=0;this.onDisconnect_=t;this.myPacketOrderer=new dr(e);this.isClosed_=false;this.connectTimeoutTimer_=setTimeout(function(){r.log_("Timed out trying to connect.");r.onClosed_();r.connectTimeoutTimer_=null},Math.floor(Pr));I(function(){if(r.isClosed_)return;r.scriptTagHolder=new Rr(function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}var n=e[0],i=e[1],a=e[2];r.incrementIncomingBytes_(e);if(!r.scriptTagHolder)return;if(r.connectTimeoutTimer_){clearTimeout(r.connectTimeoutTimer_);r.connectTimeoutTimer_=null}r.everConnected_=true;if(n==vr){r.id=i;r.password=a}else if(n===yr){if(i){r.scriptTagHolder.sendNewPolls=false;r.myPacketOrderer.closeAfter(i,function(){r.onClosed_()})}else{r.onClosed_()}}else{throw new Error("Unrecognized command received: "+n)}},function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}var n=e[0],i=e[1];r.incrementIncomingBytes_(e);r.myPacketOrderer.handleResponse(n,i)},function(){r.onClosed_()},r.urlFn);var e={};e[vr]="t";e[wr]=Math.floor(Math.random()*1e8);if(r.scriptTagHolder.uniqueCallbackIdentifier)e[Cr]=r.scriptTagHolder.uniqueCallbackIdentifier;e[G]=z;if(r.transportSessionId){e[Y]=r.transportSessionId}if(r.lastSessionId){e[ee]=r.lastSessionId}if(!a.isNodeSdk()&&typeof location!=="undefined"&&location.href&&location.href.indexOf(Z)!==-1){e[J]=X}var t=r.urlFn(e);r.log_("Connecting via long-poll to "+t);r.scriptTagHolder.addTag(t,function(){})})};e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password);this.addDisconnectPingFrame(this.id,this.password)};e.forceAllow=function(){e.forceAllow_=true};e.forceDisallow=function(){e.forceDisallow_=true};e.isAvailable=function(){return e.forceAllow_||!e.forceDisallow_&&typeof document!=="undefined"&&document.createElement!=null&&!j()&&!$()&&!a.isNodeSdk()};e.prototype.markConnectionHealthy=function(){};e.prototype.shutdown_=function(){this.isClosed_=true;if(this.scriptTagHolder){this.scriptTagHolder.close();this.scriptTagHolder=null}if(this.myDisconnFrame){document.body.removeChild(this.myDisconnFrame);this.myDisconnFrame=null}if(this.connectTimeoutTimer_){clearTimeout(this.connectTimeoutTimer_);this.connectTimeoutTimer_=null}};e.prototype.onClosed_=function(){if(!this.isClosed_){this.log_("Longpoll is closing itself");this.shutdown_();if(this.onDisconnect_){this.onDisconnect_(this.everConnected_);this.onDisconnect_=null}}};e.prototype.close=function(){if(!this.isClosed_){this.log_("Longpoll is being closed.");this.shutdown_()}};e.prototype.send=function(e){var t=a.stringify(e);this.bytesSent+=t.length;this.stats_.incrementCounter("bytes_sent",t.length);var r=a.base64Encode(t);var n=M(r,Nr);for(var i=0;i<n.length;i++){this.scriptTagHolder.enqueueSegment(this.curSegmentNum,n.length,n[i]);this.curSegmentNum++}};e.prototype.addDisconnectPingFrame=function(e,t){if(a.isNodeSdk())return;this.myDisconnFrame=document.createElement("iframe");var r={};r[xr]="t";r[_r]=e;r[br]=t;this.myDisconnFrame.src=this.urlFn(r);this.myDisconnFrame.style.display="none";document.body.appendChild(this.myDisconnFrame)};e.prototype.incrementIncomingBytes_=function(e){var t=a.stringify(e).length;this.bytesReceived+=t;this.stats_.incrementCounter("bytes_received",t)};return e}();var Rr=function(){function e(t,r,n,i){this.onDisconnect=n;this.urlFn=i;this.outstandingRequests=new wt;this.pendingSegs=[];this.currentSerial=Math.floor(Math.random()*1e8);this.sendNewPolls=true;if(!a.isNodeSdk()){this.uniqueCallbackIdentifier=v();window[mr+this.uniqueCallbackIdentifier]=t;window[gr+this.uniqueCallbackIdentifier]=r;this.myIFrame=e.createIFrame_();var o="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,"javascript:".length)==="javascript:"){var s=document.domain;o='<script>document.domain="'+s+'";<\/script>'}var u="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open();this.myIFrame.doc.write(u);this.myIFrame.doc.close()}catch(e){w("frame writing exception");if(e.stack){w(e.stack)}w(e)}}else{this.commandCB=t;this.onMessageCB=r}}e.createIFrame_=function(){var e=document.createElement("iframe");e.style.display="none";if(document.body){document.body.appendChild(e);try{var t=e.contentWindow.document;if(!t){w("No IE domain setting required")}}catch(t){var r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else{throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready."}if(e.contentDocument){e.doc=e.contentDocument}else if(e.contentWindow){e.doc=e.contentWindow.document}else if(e.document){e.doc=e.document}return e};e.prototype.close=function(){var t=this;this.alive=false;if(this.myIFrame){this.myIFrame.doc.body.innerHTML="";setTimeout(function(){if(t.myIFrame!==null){document.body.removeChild(t.myIFrame);t.myIFrame=null}},Math.floor(0))}if(a.isNodeSdk()&&this.myID){var r={};r[Sr]="t";r[_r]=this.myID;r[br]=this.myPW;var n=this.urlFn(r);e.nodeRestRequest(n)}var i=this.onDisconnect;if(i){this.onDisconnect=null;i()}};e.prototype.startLongPoll=function(e,t){this.myID=e;this.myPW=t;this.alive=true;while(this.newRequest_()){}};e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.count()<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e[_r]=this.myID;e[br]=this.myPW;e[wr]=this.currentSerial;var t=this.urlFn(e);var r="";var n=0;while(this.pendingSegs.length>0){var i=this.pendingSegs[0];if(i.d.length+Or+r.length<=Ir){var a=this.pendingSegs.shift();r=r+"&"+Er+n+"="+a.seg+"&"+Tr+n+"="+a.ts+"&"+kr+n+"="+a.d;n++}else{break}}t=t+r;this.addLongPollTag_(t,this.currentSerial);return true}else{return false}};e.prototype.enqueueSegment=function(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r});if(this.alive){this.newRequest_()}};e.prototype.addLongPollTag_=function(e,t){var r=this;this.outstandingRequests.add(t,1);var n=function(){r.outstandingRequests.remove(t);r.newRequest_()};var i=setTimeout(n,Math.floor(Ar));var a=function(){clearTimeout(i);n()};this.addTag(e,a)};e.prototype.addTag=function(e,t){var r=this;if(a.isNodeSdk()){this.doNodeLongPoll(e,t)}else{setTimeout(function(){try{if(!r.sendNewPolls)return;var n=r.myIFrame.doc.createElement("script");n.type="text/javascript";n.async=true;n.src=e;n.onload=n.onreadystatechange=function(){var e=n.readyState;if(!e||e==="loaded"||e==="complete"){n.onload=n.onreadystatechange=null;if(n.parentNode){n.parentNode.removeChild(n)}t()}};n.onerror=function(){w("Long-poll script failed to load: "+e);r.sendNewPolls=false;r.close()};r.myIFrame.doc.body.appendChild(n)}catch(e){}},Math.floor(1))}};return e}();var Mr=16384;var Fr=45e3;var Lr=null;if(typeof MozWebSocket!=="undefined"){Lr=MozWebSocket}else if(typeof WebSocket!=="undefined"){Lr=WebSocket}var jr=function(){function e(t,r,n,i){this.connId=t;this.keepaliveTimer=null;this.frames=null;this.totalFrames=0;this.bytesSent=0;this.bytesReceived=0;this.log_=C(this.connId);this.stats_=nr.getCollection(r);this.connURL=e.connectionURL_(r,n,i)}e.connectionURL_=function(e,t,r){var n={};n[G]=z;if(!a.isNodeSdk()&&typeof location!=="undefined"&&location.href&&location.href.indexOf(Z)!==-1){n[J]=X}if(t){n[Y]=t}if(r){n[ee]=r}return e.connectionURL(te,n)};e.prototype.open=function(e,t){var r=this;this.onDisconnect=t;this.onMessage=e;this.log_("Websocket connecting to "+this.connURL);this.everConnected_=false;h.set("previous_websocket_failure",true);try{if(a.isNodeSdk()){var i=a.CONSTANTS.NODE_ADMIN?"AdminNode":"Node";var o={headers:{"User-Agent":"Firebase/"+z+"/"+u.SDK_VERSION+"/"+n.platform+"/"+i}};var s=Object({NODE_ENV:"production"});var l=this.connURL.indexOf("wss://")==0?s["HTTPS_PROXY"]||s["https_proxy"]:s["HTTP_PROXY"]||s["http_proxy"];if(l){o["proxy"]={origin:l}}this.mySock=new Lr(this.connURL,[],o)}else{this.mySock=new Lr(this.connURL)}}catch(e){this.log_("Error instantiating WebSocket.");var c=e.message||e.data;if(c){this.log_(c)}this.onClosed_();return}this.mySock.onopen=function(){r.log_("Websocket connected.");r.everConnected_=true};this.mySock.onclose=function(){r.log_("Websocket connection was disconnected.");r.mySock=null;r.onClosed_()};this.mySock.onmessage=function(e){r.handleIncomingFrame(e)};this.mySock.onerror=function(e){r.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;if(t){r.log_(t)}r.onClosed_()}};e.prototype.start=function(){};e.forceDisallow=function(){e.forceDisallow_=true};e.isAvailable=function(){var t=false;if(typeof navigator!=="undefined"&&navigator.userAgent){var r=/Android ([0-9]{0,}\.[0-9]{0,})/;var n=navigator.userAgent.match(r);if(n&&n.length>1){if(parseFloat(n[1])<4.4){t=true}}}return!t&&Lr!==null&&!e.forceDisallow_};e.previouslyFailed=function(){return h.isInMemoryStorage||h.get("previous_websocket_failure")===true};e.prototype.markConnectionHealthy=function(){h.remove("previous_websocket_failure")};e.prototype.appendFrame_=function(e){this.frames.push(e);if(this.frames.length==this.totalFrames){var t=this.frames.join("");this.frames=null;var r=a.jsonEval(t);this.onMessage(r)}};e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e;this.frames=[]};e.prototype.extractFrameCount_=function(e){a.assert(this.frames===null,"We already have a frame buffer");if(e.length<=6){var t=Number(e);if(!isNaN(t)){this.handleNewFrameCount_(t);return null}}this.handleNewFrameCount_(1);return e};e.prototype.handleIncomingFrame=function(e){if(this.mySock===null)return;var t=e["data"];this.bytesReceived+=t.length;this.stats_.incrementCounter("bytes_received",t.length);this.resetKeepAlive();if(this.frames!==null){this.appendFrame_(t)}else{var r=this.extractFrameCount_(t);if(r!==null){this.appendFrame_(r)}}};e.prototype.send=function(e){this.resetKeepAlive();var t=a.stringify(e);this.bytesSent+=t.length;this.stats_.incrementCounter("bytes_sent",t.length);var r=M(t,Mr);if(r.length>1){this.sendString_(String(r.length))}for(var n=0;n<r.length;n++){this.sendString_(r[n])}};e.prototype.shutdown_=function(){this.isClosed_=true;if(this.keepaliveTimer){clearInterval(this.keepaliveTimer);this.keepaliveTimer=null}if(this.mySock){this.mySock.close();this.mySock=null}};e.prototype.onClosed_=function(){if(!this.isClosed_){this.log_("WebSocket is closing itself");this.shutdown_();if(this.onDisconnect){this.onDisconnect(this.everConnected_);this.onDisconnect=null}}};e.prototype.close=function(){if(!this.isClosed_){this.log_("WebSocket is being closed");this.shutdown_()}};e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer);this.keepaliveTimer=setInterval(function(){if(e.mySock){e.sendString_("0")}e.resetKeepAlive()},Math.floor(Fr))};e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection.");setTimeout(this.onClosed_.bind(this),0)}};e.responsesRequiredToBeHealthy=2;e.healthyTimeout=3e4;return e}();var $r=function(){function e(e){this.initTransports_(e)}Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[Dr,jr]},enumerable:true,configurable:true});e.prototype.initTransports_=function(t){var r=jr&&jr["isAvailable"]();var n=r&&!jr.previouslyFailed();if(t.webSocketOnly){if(!r)k("wss:// URL used, but browser isn't known to support websockets.  Trying anyway.");n=true}if(n){this.transports_=[jr]}else{var i=this.transports_=[];F(e.ALL_TRANSPORTS,function(e,t){if(t&&t["isAvailable"]()){i.push(t)}})}};e.prototype.initialTransport=function(){if(this.transports_.length>0){return this.transports_[0]}else{throw new Error("No transports available")}};e.prototype.upgradeTransport=function(){if(this.transports_.length>1){return this.transports_[1]}else{return null}};return e}();var Ur=6e4;var Br=5e3;var Wr=10*1024;var qr=100*1024;var Vr="t";var Hr="d";var Qr="s";var Kr="r";var zr="e";var Gr="o";var Yr="a";var Jr="n";var Xr="p";var Zr="h";var en=function(){function e(e,t,r,n,i,a,o){this.id=e;this.repoInfo_=t;this.onMessage_=r;this.onReady_=n;this.onDisconnect_=i;this.onKill_=a;this.lastSessionId=o;this.connectionCount=0;this.pendingDataMessages=[];this.state_=0;this.log_=C("c:"+this.id+":");this.transportManager_=new $r(t);this.log_("Connection created");this.start_()}e.prototype.start_=function(){var e=this;var t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,undefined,this.lastSessionId);this.primaryResponsesRequired_=t["responsesRequiredToBeHealthy"]||0;var r=this.connReceiver_(this.conn_);var n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_;this.rx_=this.conn_;this.secondaryConn_=null;this.isHealthy_=false;setTimeout(function(){e.conn_&&e.conn_.open(r,n)},Math.floor(0));var i=t["healthyTimeout"]||0;if(i>0){this.healthyTimeout_=H(function(){e.healthyTimeout_=null;if(!e.isHealthy_){if(e.conn_&&e.conn_.bytesReceived>qr){e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy.");e.isHealthy_=true;e.conn_.markConnectionHealthy()}else if(e.conn_&&e.conn_.bytesSent>Wr){e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive.")}else{e.log_("Closing unhealthy connection after timeout.");e.close()}}},Math.floor(i))}};e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++};e.prototype.disconnReceiver_=function(e){var t=this;return function(r){if(e===t.conn_){t.onConnectionLost_(r)}else if(e===t.secondaryConn_){t.log_("Secondary connection lost.");t.onSecondaryConnectionLost_()}else{t.log_("closing an old connection")}}};e.prototype.connReceiver_=function(e){var t=this;return function(r){if(t.state_!=2){if(e===t.rx_){t.onPrimaryMessageReceived_(r)}else if(e===t.secondaryConn_){t.onSecondaryMessageReceived_(r)}else{t.log_("message on old connection")}}}};e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)};e.prototype.tryCleanupConnection=function(){if(this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_){this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId);this.conn_=this.secondaryConn_;this.secondaryConn_=null}};e.prototype.onSecondaryControl_=function(e){if(Vr in e){var t=e[Vr];if(t===Yr){this.upgradeIfSecondaryHealthy_()}else if(t===Kr){this.log_("Got a reset on secondary, closing it");this.secondaryConn_.close();if(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_){this.close()}}else if(t===Gr){this.log_("got pong on secondary.");this.secondaryResponsesRequired_--;this.upgradeIfSecondaryHealthy_()}}};e.prototype.onSecondaryMessageReceived_=function(e){var t=D("t",e);var r=D("d",e);if(t=="c"){this.onSecondaryControl_(r)}else if(t=="d"){this.pendingDataMessages.push(r)}else{throw new Error("Unknown protocol layer: "+t)}};e.prototype.upgradeIfSecondaryHealthy_=function(){if(this.secondaryResponsesRequired_<=0){this.log_("Secondary connection is healthy.");this.isHealthy_=true;this.secondaryConn_.markConnectionHealthy();this.proceedWithUpgrade_()}else{this.log_("sending ping on secondary.");this.secondaryConn_.send({t:"c",d:{t:Xr,d:{}}})}};e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start();this.log_("sending client ack on secondary");this.secondaryConn_.send({t:"c",d:{t:Yr,d:{}}});this.log_("Ending transmission on primary");this.conn_.send({t:"c",d:{t:Jr,d:{}}});this.tx_=this.secondaryConn_;this.tryCleanupConnection()};e.prototype.onPrimaryMessageReceived_=function(e){var t=D("t",e);var r=D("d",e);if(t=="c"){this.onControl_(r)}else if(t=="d"){this.onDataMessage_(r)}};e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_();this.onMessage_(e)};e.prototype.onPrimaryResponse_=function(){if(!this.isHealthy_){this.primaryResponsesRequired_--;if(this.primaryResponsesRequired_<=0){this.log_("Primary connection is healthy.");this.isHealthy_=true;this.conn_.markConnectionHealthy()}}};e.prototype.onControl_=function(e){var t=D(Vr,e);if(Hr in e){var r=e[Hr];if(t===Zr){this.onHandshake_(r)}else if(t===Jr){this.log_("recvd end transmission on primary");this.rx_=this.secondaryConn_;for(var n=0;n<this.pendingDataMessages.length;++n){this.onDataMessage_(this.pendingDataMessages[n])}this.pendingDataMessages=[];this.tryCleanupConnection()}else if(t===Qr){this.onConnectionShutdown_(r)}else if(t===Kr){this.onReset_(r)}else if(t===zr){E("Server Error: "+r)}else if(t===Gr){this.log_("got pong on primary.");this.onPrimaryResponse_();this.sendPingOnPrimaryIfNecessary_()}else{E("Unknown control packet command: "+t)}}};e.prototype.onHandshake_=function(e){var t=e.ts;var r=e.v;var n=e.h;this.sessionId=e.s;this.repoInfo_.updateHost(n);if(this.state_==0){this.conn_.start();this.onConnectionEstablished_(this.conn_,t);if(z!==r){k("Protocol version mismatch detected")}this.tryStartUpgrade_()}};e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();if(e){this.startUpgrade_(e)}};e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.sessionId);this.secondaryResponsesRequired_=e["responsesRequiredToBeHealthy"]||0;var r=this.connReceiver_(this.secondaryConn_);var n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,n);H(function(){if(t.secondaryConn_){t.log_("Timed out trying to upgrade.");t.secondaryConn_.close()}},Math.floor(Ur))};e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e);this.repoInfo_.updateHost(e);if(this.state_===1){this.close()}else{this.closeConnections_();this.start_()}};e.prototype.onConnectionEstablished_=function(e,t){var r=this;this.log_("Realtime connection established.");this.conn_=e;this.state_=1;if(this.onReady_){this.onReady_(t,this.sessionId);this.onReady_=null}if(this.primaryResponsesRequired_===0){this.log_("Primary connection is healthy.");this.isHealthy_=true}else{H(function(){r.sendPingOnPrimaryIfNecessary_()},Math.floor(Br))}};e.prototype.sendPingOnPrimaryIfNecessary_=function(){if(!this.isHealthy_&&this.state_===1){this.log_("sending ping on primary.");this.sendData_({t:"c",d:{t:Xr,d:{}}})}};e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null;if(this.tx_===e||this.rx_===e){this.close()}};e.prototype.onConnectionLost_=function(e){this.conn_=null;if(!e&&this.state_===0){this.log_("Realtime connection failed.");if(this.repoInfo_.isCacheableHost()){h.remove("host:"+this.repoInfo_.host);this.repoInfo_.internalHost=this.repoInfo_.host}}else if(this.state_===1){this.log_("Realtime connection lost.")}this.close()};e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down...");if(this.onKill_){this.onKill_(e);this.onKill_=null}this.onDisconnect_=null;this.close()};e.prototype.sendData_=function(e){if(this.state_!==1){throw"Connection is not connected"}else{this.tx_.send(e)}};e.prototype.close=function(){if(this.state_!==2){this.log_("Closing realtime connection.");this.state_=2;this.closeConnections_();if(this.onDisconnect_){this.onDisconnect_();this.onDisconnect_=null}}};e.prototype.closeConnections_=function(){this.log_("Shutting down all connections");if(this.conn_){this.conn_.close();this.conn_=null}if(this.secondaryConn_){this.secondaryConn_.close();this.secondaryConn_=null}if(this.healthyTimeout_){clearTimeout(this.healthyTimeout_);this.healthyTimeout_=null}};return e}();var tn=function(){function e(){}e.prototype.put=function(e,t,r,n){};e.prototype.merge=function(e,t,r,n){};e.prototype.refreshAuthToken=function(e){};e.prototype.onDisconnectPut=function(e,t,r){};e.prototype.onDisconnectMerge=function(e,t,r){};e.prototype.onDisconnectCancel=function(e,t){};e.prototype.reportStats=function(e){};return e}();var rn=1e3;var nn=60*5*1e3;var an=30*1e3;var on=1.3;var sn=3e4;var un="server_kill";var ln=3;var cn=function(e){s.__extends(t,e);function t(r,n,i,o,s,u){var l=e.call(this)||this;l.repoInfo_=r;l.onDataUpdate_=n;l.onConnectStatus_=i;l.onServerInfoUpdate_=o;l.authTokenProvider_=s;l.authOverride_=u;l.id=t.nextPersistentConnectionId_++;l.log_=C("p:"+l.id+":");l.interruptReasons_={};l.listens_={};l.outstandingPuts_=[];l.outstandingPutCount_=0;l.onDisconnectRequestQueue_=[];l.connected_=false;l.reconnectDelay_=rn;l.maxReconnectDelay_=nn;l.securityDebugCallback_=null;l.lastSessionId=null;l.establishConnectionTimer_=null;l.visible_=false;l.requestCBHash_={};l.requestNumber_=0;l.realtime_=null;l.authToken_=null;l.forceTokenRefresh_=false;l.invalidAuthTokenCount_=0;l.firstConnection_=true;l.lastConnectionAttemptTime_=null;l.lastConnectionEstablishedTime_=null;if(u&&!a.isNodeSdk()){throw new Error("Auth override specified in options, but not supported on non Node.js platforms")}l.scheduleConnect_(0);hr.getInstance().on("visible",l.onVisible_,l);if(r.host.indexOf("fblocal")===-1){pr.getInstance().on("online",l.onOnline_,l)}return l}t.prototype.sendRequest=function(e,t,r){var n=++this.requestNumber_;var i={r:n,a:e,b:t};this.log_(a.stringify(i));a.assert(this.connected_,"sendRequest call when we're not connected not allowed.");this.realtime_.sendRequest(i);if(r){this.requestCBHash_[n]=r}};t.prototype.listen=function(e,t,r,n){var i=e.queryIdentifier();var o=e.path.toString();this.log_("Listen called for "+o+" "+i);this.listens_[o]=this.listens_[o]||{};a.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"listen() called for non-default but complete query");a.assert(!this.listens_[o][i],"listen() called twice for same path/queryId.");var s={onComplete:n,hashFn:t,query:e,tag:r};this.listens_[o][i]=s;if(this.connected_){this.sendListen_(s)}};t.prototype.sendListen_=function(e){var r=this;var n=e.query;var i=n.path.toString();var a=n.queryIdentifier();this.log_("Listen on "+i+" for "+a);var o={p:i};var s="q";if(e.tag){o["q"]=n.queryObject();o["t"]=e.tag}o["h"]=e.hashFn();this.sendRequest(s,o,function(o){var s=o["d"];var u=o["s"];t.warnOnListenWarnings_(s,n);var l=r.listens_[i]&&r.listens_[i][a];if(l===e){r.log_("listen response",o);if(u!=="ok"){r.removeListen_(i,a)}if(e.onComplete){e.onComplete(u,s)}}})};t.warnOnListenWarnings_=function(e,t){if(e&&typeof e==="object"&&a.contains(e,"w")){var r=a.safeGet(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){var n='".indexOn": "'+t.getQueryParams().getIndex().toString()+'"';var i=t.path.toString();k("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+n+" at ")+(i+" to your security rules for better performance."))}}};t.prototype.refreshAuthToken=function(e){this.authToken_=e;this.log_("Auth token refreshed");if(this.authToken_){this.tryAuth()}else{if(this.connected_){this.sendRequest("unauth",{},function(){})}}this.reduceReconnectDelayIfAdminCredential_(e)};t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){var t=e&&e.length===40;if(t||a.isAdmin(e)){this.log_("Admin auth credential detected.  Reducing max reconnect time.");this.maxReconnectDelay_=an}};t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_;var r=a.isValidFormat(t)?"auth":"gauth";var n={cred:t};if(this.authOverride_===null){n["noauth"]=true}else if(typeof this.authOverride_==="object"){n["authvar"]=this.authOverride_}this.sendRequest(r,n,function(r){var n=r["s"];var i=r["d"]||"error";if(e.authToken_===t){if(n==="ok"){e.invalidAuthTokenCount_=0}else{e.onAuthRevoked_(n,i)}}})}};t.prototype.unlisten=function(e,t){var r=e.path.toString();var n=e.queryIdentifier();this.log_("Unlisten called for "+r+" "+n);a.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query");var i=this.removeListen_(r,n);if(i&&this.connected_){this.sendUnlisten_(r,n,e.queryObject(),t)}};t.prototype.sendUnlisten_=function(e,t,r,n){this.log_("Unlisten on "+e+" for "+t);var i={p:e};var a="n";if(n){i["q"]=r;i["t"]=n}this.sendRequest(a,i)};t.prototype.onDisconnectPut=function(e,t,r){if(this.connected_){this.sendOnDisconnect_("o",e,t,r)}else{this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:r})}};t.prototype.onDisconnectMerge=function(e,t,r){if(this.connected_){this.sendOnDisconnect_("om",e,t,r)}else{this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:r})}};t.prototype.onDisconnectCancel=function(e,t){if(this.connected_){this.sendOnDisconnect_("oc",e,null,t)}else{this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}};t.prototype.sendOnDisconnect_=function(e,t,r,n){var i={p:t,d:r};this.log_("onDisconnect "+e,i);this.sendRequest(e,i,function(e){if(n){setTimeout(function(){n(e["s"],e["d"])},Math.floor(0))}})};t.prototype.put=function(e,t,r,n){this.putInternal("p",e,t,r,n)};t.prototype.merge=function(e,t,r,n){this.putInternal("m",e,t,r,n)};t.prototype.putInternal=function(e,t,r,n,i){var a={p:t,d:r};if(i!==undefined)a["h"]=i;this.outstandingPuts_.push({action:e,request:a,onComplete:n});this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;if(this.connected_){this.sendPut_(o)}else{this.log_("Buffering put: "+t)}};t.prototype.sendPut_=function(e){var t=this;var r=this.outstandingPuts_[e].action;var n=this.outstandingPuts_[e].request;var i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_;this.sendRequest(r,n,function(n){t.log_(r+" response",n);delete t.outstandingPuts_[e];t.outstandingPutCount_--;if(t.outstandingPutCount_===0){t.outstandingPuts_=[]}if(i)i(n["s"],n["d"])})};t.prototype.reportStats=function(e){var t=this;if(this.connected_){var r={c:e};this.log_("reportStats",r);this.sendRequest("s",r,function(e){var r=e["s"];if(r!=="ok"){var n=e["d"];t.log_("reportStats","Error sending stats: "+n)}})}};t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+a.stringify(e));var t=e["r"];var r=this.requestCBHash_[t];if(r){delete this.requestCBHash_[t];r(e["b"])}}else if("error"in e){throw"A server-side error has occurred: "+e["error"]}else if("a"in e){this.onDataPush_(e["a"],e["b"])}};t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t);if(e==="d")this.onDataUpdate_(t["p"],t["d"],false,t["t"]);else if(e==="m")this.onDataUpdate_(t["p"],t["d"],true,t["t"]);else if(e==="c")this.onListenRevoked_(t["p"],t["q"]);else if(e==="ac")this.onAuthRevoked_(t["s"],t["d"]);else if(e==="sd")this.onSecurityDebugPacket_(t);else E("Unrecognized action received from server: "+a.stringify(e)+"\nAre you using the latest client?")};t.prototype.onReady_=function(e,t){this.log_("connection ready");this.connected_=true;this.lastConnectionEstablishedTime_=(new Date).getTime();this.handleTimestamp_(e);this.lastSessionId=t;if(this.firstConnection_){this.sendConnectStats_()}this.restoreState_();this.firstConnection_=false;this.onConnectStatus_(true)};t.prototype.scheduleConnect_=function(e){var t=this;a.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?");if(this.establishConnectionTimer_){clearTimeout(this.establishConnectionTimer_)}this.establishConnectionTimer_=setTimeout(function(){t.establishConnectionTimer_=null;t.establishConnection_()},Math.floor(e))};t.prototype.onVisible_=function(e){if(e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_){this.log_("Window became visible.  Reducing delay.");this.reconnectDelay_=rn;if(!this.realtime_){this.scheduleConnect_(0)}}this.visible_=e};t.prototype.onOnline_=function(e){if(e){this.log_("Browser went online.");this.reconnectDelay_=rn;if(!this.realtime_){this.scheduleConnect_(0)}}else{this.log_("Browser went offline.  Killing connection.");if(this.realtime_){this.realtime_.close()}}};t.prototype.onRealtimeDisconnect_=function(){this.log_("data client disconnected");this.connected_=false;this.realtime_=null;this.cancelSentTransactions_();this.requestCBHash_={};if(this.shouldReconnect_()){if(!this.visible_){this.log_("Window isn't visible.  Delaying reconnect.");this.reconnectDelay_=this.maxReconnectDelay_;this.lastConnectionAttemptTime_=(new Date).getTime()}else if(this.lastConnectionEstablishedTime_){var e=(new Date).getTime()-this.lastConnectionEstablishedTime_;if(e>sn)this.reconnectDelay_=rn;this.lastConnectionEstablishedTime_=null}var t=(new Date).getTime()-this.lastConnectionAttemptTime_;var r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r;this.log_("Trying to reconnect in "+r+"ms");this.scheduleConnect_(r);this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*on)}this.onConnectStatus_(false)};t.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt");this.lastConnectionAttemptTime_=(new Date).getTime();this.lastConnectionEstablishedTime_=null;var e=this.onDataMessage_.bind(this);var r=this.onReady_.bind(this);var n=this.onRealtimeDisconnect_.bind(this);var i=this.id+":"+t.nextConnectionId_++;var o=this;var s=this.lastSessionId;var u=false;var l=null;var c=function(){if(l){l.close()}else{u=true;n()}};var f=function(e){a.assert(l,"sendRequest call when we're not connected not allowed.");l.sendRequest(e)};this.realtime_={close:c,sendRequest:f};var h=this.forceTokenRefresh_;this.forceTokenRefresh_=false;this.authTokenProvider_.getToken(h).then(function(t){if(!u){w("getToken() completed. Creating connection.");o.authToken_=t&&t.accessToken;l=new en(i,o.repoInfo_,e,r,n,function(e){k(e+" ("+o.repoInfo_.toString()+")");o.interrupt(un)},s)}else{w("getToken() completed but was canceled")}}).then(null,function(e){o.log_("Failed to get token: "+e);if(!u){if(a.CONSTANTS.NODE_ADMIN){k(e)}c()}})}};t.prototype.interrupt=function(e){w("Interrupting connection for reason: "+e);this.interruptReasons_[e]=true;if(this.realtime_){this.realtime_.close()}else{if(this.establishConnectionTimer_){clearTimeout(this.establishConnectionTimer_);this.establishConnectionTimer_=null}if(this.connected_){this.onRealtimeDisconnect_()}}};t.prototype.resume=function(e){w("Resuming connection for reason: "+e);delete this.interruptReasons_[e];if(a.isEmpty(this.interruptReasons_)){this.reconnectDelay_=rn;if(!this.realtime_){this.scheduleConnect_(0)}}};t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})};t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];if(t&&"h"in t.request&&t.queued){if(t.onComplete)t.onComplete("disconnect");delete this.outstandingPuts_[e];this.outstandingPutCount_--}}if(this.outstandingPutCount_===0)this.outstandingPuts_=[]};t.prototype.onListenRevoked_=function(e,t){var r;if(!t){r="default"}else{r=t.map(function(e){return R(e)}).join("$")}var n=this.removeListen_(e,r);if(n&&n.onComplete)n.onComplete("permission_denied")};t.prototype.removeListen_=function(e,t){var r=new Q(e).toString();var n;if(this.listens_[r]!==undefined){n=this.listens_[r][t];delete this.listens_[r][t];if(a.getCount(this.listens_[r])===0){delete this.listens_[r]}}else{n=undefined}return n};t.prototype.onAuthRevoked_=function(e,t){w("Auth token revoked: "+e+"/"+t);this.authToken_=null;this.forceTokenRefresh_=true;this.realtime_.close();if(e==="invalid_token"||e==="permission_denied"){this.invalidAuthTokenCount_++;if(this.invalidAuthTokenCount_>=ln){this.reconnectDelay_=an;this.authTokenProvider_.notifyForInvalidToken()}}};t.prototype.onSecurityDebugPacket_=function(e){if(this.securityDebugCallback_){this.securityDebugCallback_(e)}else{if("msg"in e){console.log("FIREBASE: "+e["msg"].replace("\n","\nFIREBASE: "))}}};t.prototype.restoreState_=function(){var e=this;this.tryAuth();a.forEach(this.listens_,function(t,r){a.forEach(r,function(t,r){e.sendListen_(r)})});for(var t=0;t<this.outstandingPuts_.length;t++){if(this.outstandingPuts_[t])this.sendPut_(t)}while(this.onDisconnectRequestQueue_.length){var r=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(r.action,r.pathString,r.data,r.onComplete)}};t.prototype.sendConnectStats_=function(){var e={};var t="js";if(a.CONSTANTS.NODE_ADMIN){t="admin_node"}else if(a.CONSTANTS.NODE_CLIENT){t="node"}e["sdk."+t+"."+u.SDK_VERSION.replace(/\./g,"-")]=1;if(a.isMobileCordova()){e["framework.cordova"]=1}else if(a.isReactNative()){e["framework.reactnative"]=1}this.reportStats(e)};t.prototype.shouldReconnect_=function(){var e=pr.getInstance().currentlyOnline();return a.isEmpty(this.interruptReasons_)&&e};t.nextPersistentConnectionId_=0;t.nextConnectionId_=0;return t}(tn);var fn=function(e){s.__extends(t,e);function t(t,r,n){var i=e.call(this)||this;i.repoInfo_=t;i.onDataUpdate_=r;i.authTokenProvider_=n;i.log_=C("p:rest:");i.listens_={};return i}t.prototype.reportStats=function(e){throw new Error("Method not implemented.")};t.getListenId_=function(e,t){if(t!==undefined){return"tag$"+t}else{a.assert(e.getQueryParams().isDefault(),"should have a tag if it's not a default query.");return e.path.toString()}};t.prototype.listen=function(e,r,n,i){var o=this;var s=e.path.toString();this.log_("Listen called for "+s+" "+e.queryIdentifier());var u=t.getListenId_(e,n);var l={};this.listens_[u]=l;var c=e.getQueryParams().toRestQueryStringParameters();this.restRequest_(s+".json",c,function(e,t){var r=t;if(e===404){r=null;e=null}if(e===null){o.onDataUpdate_(s,r,false,n)}if(a.safeGet(o.listens_,u)===l){var c;if(!e){c="ok"}else if(e==401){c="permission_denied"}else{c="rest_error:"+e}i(c,null)}})};t.prototype.unlisten=function(e,r){var n=t.getListenId_(e,r);delete this.listens_[n]};t.prototype.refreshAuthToken=function(e){};t.prototype.restRequest_=function(e,t,r){var n=this;if(t===void 0){t={}}t["format"]="export";this.authTokenProvider_.getToken(false).then(function(i){var o=i&&i.accessToken;if(o){t["auth"]=o}var s=(n.repoInfo_.secure?"https://":"http://")+n.repoInfo_.host+e+"?"+a.querystring(t);n.log_("Sending REST request for "+s);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(r&&u.readyState===4){n.log_("REST Response for "+s+" received. status:",u.status,"response:",u.responseText);var e=null;if(u.status>=200&&u.status<300){try{e=a.jsonEval(u.responseText)}catch(e){k("Failed to parse JSON response for "+s+": "+u.responseText)}r(null,e)}else{if(u.status!==401&&u.status!==404){k("Got unsuccessful REST response for "+s+" Status: "+u.status)}r(u.status)}r=null}};u.open("GET",s,true);u.send()})};return t}(tn);var hn="repo_interrupt";var pn=function(){function e(e,t,r){var n=this;this.repoInfo_=e;this.app=r;this.dataUpdateCount=0;this.statsListener_=null;this.eventQueue_=new lr;this.nextWriteId_=1;this.interceptServerDataCallback_=null;this.onDisconnect_=new Ct;this.persistentConnection_=null;var i=new tr(r);this.stats_=nr.getCollection(e);if(t||V()){this.server_=new fn(this.repoInfo_,this.onDataUpdate_.bind(this),i);setTimeout(this.onConnectStatus_.bind(this,true),0)}else{var o=r.options["databaseAuthVariableOverride"];if(typeof o!=="undefined"&&o!==null){if(typeof o!=="object"){throw new Error("Only objects are supported for option databaseAuthVariableOverride")}try{a.stringify(o)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}this.persistentConnection_=new cn(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),i,o);this.server_=this.persistentConnection_}i.addTokenChangeListener(function(e){n.server_.refreshAuthToken(e)});this.statsReporter_=nr.getOrCreateReporter(e,function(){return new ur(n.stats_,n.server_)});this.transactions_init_();this.infoData_=new er;this.infoSyncTree_=new Zt({startListening:function(e,t,r,i){var a=[];var o=n.infoData_.getNode(e.path);if(!o.isEmpty()){a=n.infoSyncTree_.applyServerOverwrite(e.path,o);setTimeout(function(){i("ok")},0)}return a},stopListening:function(){}});this.updateInfo_("connected",false);this.serverSyncTree_=new Zt({startListening:function(e,t,r,i){n.server_.listen(e,r,t,function(t,r){var a=i(t,r);n.eventQueue_.raiseEventsForChangedPath(e.path,a)});return[]},stopListening:function(e,t){n.server_.unlisten(e,t)}})}e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host};e.prototype.name=function(){return this.repoInfo_.namespace};e.prototype.serverTime=function(){var e=this.infoData_.getNode(new Q(".info/serverTimeOffset"));var t=e.val()||0;return(new Date).getTime()+t};e.prototype.generateServerValues=function(){return Et({timestamp:this.serverTime()})};e.prototype.onDataUpdate_=function(e,t,r,n){this.dataUpdateCount++;var i=new Q(e);t=this.interceptServerDataCallback_?this.interceptServerDataCallback_(e,t):t;var o=[];if(n){if(r){var s=a.map(t,function(e){return ct(e)});o=this.serverSyncTree_.applyTaggedQueryMerge(i,s,n)}else{var u=ct(t);o=this.serverSyncTree_.applyTaggedQueryOverwrite(i,u,n)}}else if(r){var l=a.map(t,function(e){return ct(e)});o=this.serverSyncTree_.applyServerMerge(i,l)}else{var c=ct(t);o=this.serverSyncTree_.applyServerOverwrite(i,c)}var f=i;if(o.length>0){f=this.rerunTransactions_(i)}this.eventQueue_.raiseEventsForChangedPath(f,o)};e.prototype.interceptServerData_=function(e){this.interceptServerDataCallback_=e};e.prototype.onConnectStatus_=function(e){this.updateInfo_("connected",e);if(e===false){this.runOnDisconnectEvents_()}};e.prototype.onServerInfoUpdate_=function(e){var t=this;F(e,function(e,r){t.updateInfo_(r,e)})};e.prototype.updateInfo_=function(e,t){var r=new Q("/.info/"+e);var n=ct(t);this.infoData_.updateSnapshot(r,n);var i=this.infoSyncTree_.applyServerOverwrite(r,n);this.eventQueue_.raiseEventsForChangedPath(r,i)};e.prototype.getNextWriteId_=function(){return this.nextWriteId_++};e.prototype.setWithPriority=function(e,t,r,n){var i=this;this.log_("set",{path:e.toString(),value:t,priority:r});var a=this.generateServerValues();var o=ct(t,r);var s=St(o,a);var u=this.getNextWriteId_();var l=this.serverSyncTree_.applyUserOverwrite(e,s,u,true);this.eventQueue_.queueEvents(l);this.server_.put(e.toString(),o.val(true),function(t,r){var a=t==="ok";if(!a){k("set at "+e+" failed: "+t)}var o=i.serverSyncTree_.ackUserWrite(u,!a);i.eventQueue_.raiseEventsForChangedPath(e,o);i.callOnCompleteCallback(n,t,r)});var c=this.abortTransactions_(e);this.rerunTransactions_(c);this.eventQueue_.raiseEventsForChangedPath(c,[])};e.prototype.update=function(e,t,r){var n=this;this.log_("update",{path:e.toString(),value:t});var i=true;var o=this.generateServerValues();var s={};a.forEach(t,function(e,t){i=false;var r=ct(t);s[e]=St(r,o)});if(!i){var u=this.getNextWriteId_();var l=this.serverSyncTree_.applyUserMerge(e,s,u);this.eventQueue_.queueEvents(l);this.server_.merge(e.toString(),t,function(t,i){var a=t==="ok";if(!a){k("update at "+e+" failed: "+t)}var o=n.serverSyncTree_.ackUserWrite(u,!a);var s=o.length>0?n.rerunTransactions_(e):e;n.eventQueue_.raiseEventsForChangedPath(s,o);n.callOnCompleteCallback(r,t,i)});a.forEach(t,function(t){var r=n.abortTransactions_(e.child(t));n.rerunTransactions_(r)});this.eventQueue_.raiseEventsForChangedPath(e,[])}else{w("update() called with empty data.  Don't do anything.");this.callOnCompleteCallback(r,"ok")}};e.prototype.runOnDisconnectEvents_=function(){var e=this;this.log_("onDisconnectEvents");var t=this.generateServerValues();var r=kt(this.onDisconnect_,t);var n=[];r.forEachTree(Q.Empty,function(t,r){n=n.concat(e.serverSyncTree_.applyServerOverwrite(t,r));var i=e.abortTransactions_(t);e.rerunTransactions_(i)});this.onDisconnect_=new Ct;this.eventQueue_.raiseEventsForChangedPath(Q.Empty,n)};e.prototype.onDisconnectCancel=function(e,t){var r=this;this.server_.onDisconnectCancel(e.toString(),function(n,i){if(n==="ok"){r.onDisconnect_.forget(e)}r.callOnCompleteCallback(t,n,i)})};e.prototype.onDisconnectSet=function(e,t,r){var n=this;var i=ct(t);this.server_.onDisconnectPut(e.toString(),i.val(true),function(t,a){if(t==="ok"){n.onDisconnect_.remember(e,i)}n.callOnCompleteCallback(r,t,a)})};e.prototype.onDisconnectSetWithPriority=function(e,t,r,n){var i=this;var a=ct(t,r);this.server_.onDisconnectPut(e.toString(),a.val(true),function(t,r){if(t==="ok"){i.onDisconnect_.remember(e,a)}i.callOnCompleteCallback(n,t,r)})};e.prototype.onDisconnectUpdate=function(e,t,r){var n=this;if(a.isEmpty(t)){w("onDisconnect().update() called with empty data.  Don't do anything.");this.callOnCompleteCallback(r,"ok");return}this.server_.onDisconnectMerge(e.toString(),t,function(i,o){if(i==="ok"){a.forEach(t,function(t,r){var i=ct(r);n.onDisconnect_.remember(e.child(t),i)})}n.callOnCompleteCallback(r,i,o)})};e.prototype.addEventCallbackForQuery=function(e,t){var r;if(e.path.getFront()===".info"){r=this.infoSyncTree_.addEventRegistration(e,t)}else{r=this.serverSyncTree_.addEventRegistration(e,t)}this.eventQueue_.raiseEventsAtPath(e.path,r)};e.prototype.removeEventCallbackForQuery=function(e,t){var r;if(e.path.getFront()===".info"){r=this.infoSyncTree_.removeEventRegistration(e,t)}else{r=this.serverSyncTree_.removeEventRegistration(e,t)}this.eventQueue_.raiseEventsAtPath(e.path,r)};e.prototype.interrupt=function(){if(this.persistentConnection_){this.persistentConnection_.interrupt(hn)}};e.prototype.resume=function(){if(this.persistentConnection_){this.persistentConnection_.resume(hn)}};e.prototype.stats=function(e){if(e===void 0){e=false}if(typeof console==="undefined")return;var t;if(e){if(!this.statsListener_)this.statsListener_=new ir(this.stats_);t=this.statsListener_.get()}else{t=this.stats_.get()}var r=Object.keys(t).reduce(function(e,t){return Math.max(t.length,e)},0);a.forEach(t,function(e,t){for(var n=e.length;n<r+2;n++)e+=" ";console.log(e+t)})};e.prototype.statsIncrementCounter=function(e){this.stats_.incrementCounter(e);this.statsReporter_.includeStat(e)};e.prototype.log_=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}var r="";if(this.persistentConnection_){r=this.persistentConnection_.id+":"}w.apply(void 0,[r].concat(e))};e.prototype.callOnCompleteCallback=function(e,t,r){if(e){q(function(){if(t=="ok"){e(null)}else{var n=(t||"error").toUpperCase();var i=n;if(r)i+=": "+r;var a=new Error(i);a.code=n;e(a)}})}};Object.defineProperty(e.prototype,"database",{get:function(){return this.__database||(this.__database=new Tn(this))},enumerable:true,configurable:true});return e}();var dn=function(){function e(t){this.indexedFilter_=new $t(t.getIndex());this.index_=t.getIndex();this.startPost_=e.getStartPost_(t);this.endPost_=e.getEndPost_(t)}e.prototype.getStartPost=function(){return this.startPost_};e.prototype.getEndPost=function(){return this.endPost_};e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0};e.prototype.updateChild=function(e,t,r,n,i,a){if(!this.matches(new Ne(t,r))){r=ot.EMPTY_NODE}return this.indexedFilter_.updateChild(e,t,r,n,i,a)};e.prototype.updateFullNode=function(e,t,r){if(t.isLeafNode()){t=ot.EMPTY_NODE}var n=t.withIndex(this.index_);n=n.updatePriority(ot.EMPTY_NODE);var i=this;t.forEachChild(Qe,function(e,t){if(!i.matches(new Ne(e,t))){n=n.updateImmediateChild(e,ot.EMPTY_NODE)}});return this.indexedFilter_.updateFullNode(e,n,r)};e.prototype.updatePriority=function(e,t){return e};e.prototype.filtersNodes=function(){return true};e.prototype.getIndexedFilter=function(){return this.indexedFilter_};e.prototype.getIndex=function(){return this.index_};e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else{return e.getIndex().minPost()}};e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else{return e.getIndex().maxPost()}};return e}();var vn=function(){function e(e){this.rangedFilter_=new dn(e);this.index_=e.getIndex();this.limit_=e.getLimit();this.reverse_=!e.isViewFromLeft()}e.prototype.updateChild=function(e,t,r,n,i,a){if(!this.rangedFilter_.matches(new Ne(t,r))){r=ot.EMPTY_NODE}if(e.getImmediateChild(t).equals(r)){return e}else if(e.numChildren()<this.limit_){return this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,n,i,a)}else{return this.fullLimitUpdateChild_(e,t,r,i,a)}};e.prototype.updateFullNode=function(e,t,r){var n;if(t.isLeafNode()||t.isEmpty()){n=ot.EMPTY_NODE.withIndex(this.index_)}else{if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){n=ot.EMPTY_NODE.withIndex(this.index_);var i=void 0;if(this.reverse_){i=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_)}else{i=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_)}var a=0;while(i.hasNext()&&a<this.limit_){var o=i.getNext();var s=void 0;if(this.reverse_){s=this.index_.compare(this.rangedFilter_.getStartPost(),o)<=0}else{s=this.index_.compare(o,this.rangedFilter_.getEndPost())<=0}if(s){n=n.updateImmediateChild(o.name,o.node);a++}else{break}}}else{n=t.withIndex(this.index_);n=n.updatePriority(ot.EMPTY_NODE);var u=void 0;var l=void 0;var c=void 0;var i=void 0;if(this.reverse_){i=n.getReverseIterator(this.index_);u=this.rangedFilter_.getEndPost();l=this.rangedFilter_.getStartPost();var f=this.index_.getCompare();c=function(e,t){return f(t,e)}}else{i=n.getIterator(this.index_);u=this.rangedFilter_.getStartPost();l=this.rangedFilter_.getEndPost();c=this.index_.getCompare()}var a=0;var h=false;while(i.hasNext()){var o=i.getNext();if(!h&&c(u,o)<=0){h=true}var s=h&&a<this.limit_&&c(o,l)<=0;if(s){a++}else{n=n.updateImmediateChild(o.name,ot.EMPTY_NODE)}}}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,n,r)};e.prototype.updatePriority=function(e,t){return e};e.prototype.filtersNodes=function(){return true};e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()};e.prototype.getIndex=function(){return this.index_};e.prototype.fullLimitUpdateChild_=function(e,t,r,n,i){var o;if(this.reverse_){var s=this.index_.getCompare();o=function(e,t){return s(t,e)}}else{o=this.index_.getCompare()}var u=e;a.assert(u.numChildren()==this.limit_,"");var l=new Ne(t,r);var c=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_);var f=this.rangedFilter_.matches(l);if(u.hasChild(t)){var h=u.getImmediateChild(t);var p=n.getChildAfterChild(this.index_,c,this.reverse_);while(p!=null&&(p.name==t||u.hasChild(p.name))){p=n.getChildAfterChild(this.index_,p,this.reverse_)}var d=p==null?1:o(p,l);var v=f&&!r.isEmpty()&&d>=0;if(v){if(i!=null){i.trackChildChange(jt.childChangedChange(t,r,h))}return u.updateImmediateChild(t,r)}else{if(i!=null){i.trackChildChange(jt.childRemovedChange(t,h))}var y=u.updateImmediateChild(t,ot.EMPTY_NODE);var m=p!=null&&this.rangedFilter_.matches(p);if(m){if(i!=null){i.trackChildChange(jt.childAddedChange(p.name,p.node))}return y.updateImmediateChild(p.name,p.node)}else{return y}}}else if(r.isEmpty()){return e}else if(f){if(o(c,l)>=0){if(i!=null){i.trackChildChange(jt.childRemovedChange(c.name,c.node));i.trackChildChange(jt.childAddedChange(t,r))}return u.updateImmediateChild(t,r).updateImmediateChild(c.name,ot.EMPTY_NODE)}else{return e}}else{return e}};return e}();var yn=function(){function e(){this.limitSet_=false;this.startSet_=false;this.startNameSet_=false;this.endSet_=false;this.endNameSet_=false;this.limit_=0;this.viewFrom_="";this.indexStartValue_=null;this.indexStartName_="";this.indexEndValue_=null;this.indexEndName_="";this.index_=Qe}e.prototype.hasStart=function(){return this.startSet_};e.prototype.isViewFromLeft=function(){if(this.viewFrom_===""){return this.startSet_}else{return this.viewFrom_===e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT}};e.prototype.getIndexStartValue=function(){a.assert(this.startSet_,"Only valid if start has been set");return this.indexStartValue_};e.prototype.getIndexStartName=function(){a.assert(this.startSet_,"Only valid if start has been set");if(this.startNameSet_){return this.indexStartName_}else{return O}};e.prototype.hasEnd=function(){return this.endSet_};e.prototype.getIndexEndValue=function(){a.assert(this.endSet_,"Only valid if end has been set");return this.indexEndValue_};e.prototype.getIndexEndName=function(){a.assert(this.endSet_,"Only valid if end has been set");if(this.endNameSet_){return this.indexEndName_}else{return N}};e.prototype.hasLimit=function(){return this.limitSet_};e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&this.viewFrom_!==""};e.prototype.getLimit=function(){a.assert(this.limitSet_,"Only valid if limit has been set");return this.limit_};e.prototype.getIndex=function(){return this.index_};e.prototype.copy_=function(){var t=new e;t.limitSet_=this.limitSet_;t.limit_=this.limit_;t.startSet_=this.startSet_;t.indexStartValue_=this.indexStartValue_;t.startNameSet_=this.startNameSet_;t.indexStartName_=this.indexStartName_;t.endSet_=this.endSet_;t.indexEndValue_=this.indexEndValue_;t.endNameSet_=this.endNameSet_;t.indexEndName_=this.indexEndName_;t.index_=this.index_;t.viewFrom_=this.viewFrom_;return t};e.prototype.limit=function(e){var t=this.copy_();t.limitSet_=true;t.limit_=e;t.viewFrom_="";return t};e.prototype.limitToFirst=function(t){var r=this.copy_();r.limitSet_=true;r.limit_=t;r.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT;return r};e.prototype.limitToLast=function(t){var r=this.copy_();r.limitSet_=true;r.limit_=t;r.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT;return r};e.prototype.startAt=function(e,t){var r=this.copy_();r.startSet_=true;if(!(e!==undefined)){e=null}r.indexStartValue_=e;if(t!=null){r.startNameSet_=true;r.indexStartName_=t}else{r.startNameSet_=false;r.indexStartName_=""}return r};e.prototype.endAt=function(e,t){var r=this.copy_();r.endSet_=true;if(!(e!==undefined)){e=null}r.indexEndValue_=e;if(t!==undefined){r.endNameSet_=true;r.indexEndName_=t}else{r.endNameSet_=false;r.indexEndName_=""}return r};e.prototype.orderBy=function(e){var t=this.copy_();t.index_=e;return t};e.prototype.getQueryObject=function(){var t=e.WIRE_PROTOCOL_CONSTANTS_;var r={};if(this.startSet_){r[t.INDEX_START_VALUE]=this.indexStartValue_;if(this.startNameSet_){r[t.INDEX_START_NAME]=this.indexStartName_}}if(this.endSet_){r[t.INDEX_END_VALUE]=this.indexEndValue_;if(this.endNameSet_){r[t.INDEX_END_NAME]=this.indexEndName_}}if(this.limitSet_){r[t.LIMIT]=this.limit_;var n=this.viewFrom_;if(n===""){if(this.isViewFromLeft()){n=t.VIEW_FROM_LEFT}else{n=t.VIEW_FROM_RIGHT}}r[t.VIEW_FROM]=n}if(this.index_!==Qe){r[t.INDEX]=this.index_.toString()}return r};e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)};e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==Qe};e.prototype.getNodeFilter=function(){if(this.loadsAllData()){return new $t(this.getIndex())}else if(this.hasLimit()){return new vn(this)}else{return new dn(this)}};e.prototype.toRestQueryStringParameters=function(){var t=e.REST_QUERY_CONSTANTS_;var r={};if(this.isDefault()){return r}var n;if(this.index_===Qe){n=t.PRIORITY_INDEX}else if(this.index_===ht){n=t.VALUE_INDEX}else if(this.index_===Re){n=t.KEY_INDEX}else{a.assert(this.index_ instanceof pt,"Unrecognized index type!");n=this.index_.toString()}r[t.ORDER_BY]=a.stringify(n);if(this.startSet_){r[t.START_AT]=a.stringify(this.indexStartValue_);if(this.startNameSet_){r[t.START_AT]+=","+a.stringify(this.indexStartName_)}}if(this.endSet_){r[t.END_AT]=a.stringify(this.indexEndValue_);if(this.endNameSet_){r[t.END_AT]+=","+a.stringify(this.indexEndName_)}}if(this.limitSet_){if(this.isViewFromLeft()){r[t.LIMIT_TO_FIRST]=this.limit_}else{r[t.LIMIT_TO_LAST]=this.limit_}}return r};e.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"};e.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"};e.DEFAULT=new e;return e}();var mn=function(e){s.__extends(t,e);function t(t,r){var n=this;if(!(t instanceof pn)){throw new Error("new Reference() no longer supported - use app.database().")}n=e.call(this,t,r,yn.DEFAULT,false)||this;return n}t.prototype.getKey=function(){a.validateArgCount("Reference.key",0,0,arguments.length);if(this.path.isEmpty())return null;else return this.path.getBack()};t.prototype.child=function(e){a.validateArgCount("Reference.child",1,1,arguments.length);if(typeof e==="number"){e=String(e)}else if(!(e instanceof Q)){if(this.path.getFront()===null)Ee("Reference.child",1,e,false);else Ce("Reference.child",1,e,false)}return new t(this.repo,this.path.child(e))};t.prototype.getParent=function(){a.validateArgCount("Reference.parent",0,0,arguments.length);var e=this.path.parent();return e===null?null:new t(this.repo,e)};t.prototype.getRoot=function(){a.validateArgCount("Reference.root",0,0,arguments.length);var e=this;while(e.getParent()!==null){e=e.getParent()}return e};t.prototype.databaseProp=function(){return this.repo.database};t.prototype.set=function(e,t){a.validateArgCount("Reference.set",1,2,arguments.length);Te("Reference.set",this.path);ve("Reference.set",1,e,this.path,false);a.validateCallback("Reference.set",2,t,true);var r=new a.Deferred;this.repo.setWithPriority(this.path,e,null,r.wrapCallback(t));return r.promise};t.prototype.update=function(e,t){a.validateArgCount("Reference.update",1,2,arguments.length);Te("Reference.update",this.path);if(Array.isArray(e)){var r={};for(var n=0;n<e.length;++n){r[""+n]=e[n]}e=r;k("Passing an Array to Firebase.update() is deprecated. "+"Use set() if you want to overwrite the existing data, or "+"an Object with integer keys if you really do want to "+"only update some of the children.")}ge("Reference.update",1,e,this.path,false);a.validateCallback("Reference.update",2,t,true);var i=new a.Deferred;this.repo.update(this.path,e,i.wrapCallback(t));return i.promise};t.prototype.setWithPriority=function(e,t,r){a.validateArgCount("Reference.setWithPriority",2,3,arguments.length);Te("Reference.setWithPriority",this.path);ve("Reference.setWithPriority",1,e,this.path,false);_e("Reference.setWithPriority",2,t,false);a.validateCallback("Reference.setWithPriority",3,r,true);if(this.getKey()===".length"||this.getKey()===".keys")throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var n=new a.Deferred;this.repo.setWithPriority(this.path,e,t,n.wrapCallback(r));return n.promise};t.prototype.remove=function(e){a.validateArgCount("Reference.remove",0,1,arguments.length);Te("Reference.remove",this.path);a.validateCallback("Reference.remove",1,e,true);return this.set(null,e)};t.prototype.transaction=function(e,t,r){a.validateArgCount("Reference.transaction",1,3,arguments.length);Te("Reference.transaction",this.path);a.validateCallback("Reference.transaction",1,e,false);a.validateCallback("Reference.transaction",2,t,true);Se("Reference.transaction",3,r,true);if(this.getKey()===".length"||this.getKey()===".keys")throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";if(r===undefined)r=true;var n=new a.Deferred;if(typeof t==="function"){n.promise.catch(function(){})}var i=function(e,r,i){if(e){n.reject(e)}else{n.resolve(new Ie(r,i))}if(typeof t==="function"){t(e,r,i)}};this.repo.startTransaction(this.path,e,i,r);return n.promise};t.prototype.setPriority=function(e,t){a.validateArgCount("Reference.setPriority",1,2,arguments.length);Te("Reference.setPriority",this.path);_e("Reference.setPriority",1,e,false);a.validateCallback("Reference.setPriority",2,t,true);var r=new a.Deferred;this.repo.setWithPriority(this.path.child(".priority"),e,null,r.wrapCallback(t));return r.promise};t.prototype.push=function(e,t){a.validateArgCount("Reference.push",0,2,arguments.length);Te("Reference.push",this.path);ve("Reference.push",1,e,this.path,true);a.validateCallback("Reference.push",2,t,true);var r=this.repo.serverTime();var n=Oe(r);var i=this.child(n);var o=this.child(n);var s;if(e!=null){s=i.set(e,t).then(function(){return o})}else{s=Promise.resolve(o)}i.then=s.then.bind(s);i.catch=s.then.bind(s,undefined);if(typeof t==="function"){s.catch(function(){})}return i};t.prototype.onDisconnect=function(){Te("Reference.onDisconnect",this.path);return new xe(this.repo,this.path)};Object.defineProperty(t.prototype,"database",{get:function(){return this.databaseProp()},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:true,configurable:true});return t}(bt);bt.__referenceConstructor=mn;Gt.__referenceConstructor=mn;var gn=function(){function e(){this.children={};this.childCount=0;this.value=null}return e}();var _n=function(){function e(e,t,r){if(e===void 0){e=""}if(t===void 0){t=null}if(r===void 0){r=new gn}this.name_=e;this.parent_=t;this.node_=r}e.prototype.subTree=function(t){var r=t instanceof Q?t:new Q(t);var n=this,i;while((i=r.getFront())!==null){var o=a.safeGet(n.node_.children,i)||new gn;n=new e(i,n,o);r=r.popFront()}return n};e.prototype.getValue=function(){return this.node_.value};e.prototype.setValue=function(e){a.assert(typeof e!=="undefined","Cannot set value to undefined");this.node_.value=e;this.updateParents_()};e.prototype.clear=function(){this.node_.value=null;this.node_.children={};this.node_.childCount=0;this.updateParents_()};e.prototype.hasChildren=function(){return this.node_.childCount>0};e.prototype.isEmpty=function(){return this.getValue()===null&&!this.hasChildren()};e.prototype.forEachChild=function(t){var r=this;a.forEach(this.node_.children,function(n,i){t(new e(n,r,i))})};e.prototype.forEachDescendant=function(e,t,r){if(t&&!r)e(this);this.forEachChild(function(t){t.forEachDescendant(e,true,r)});if(t&&r)e(this)};e.prototype.forEachAncestor=function(e,t){var r=t?this:this.parent();while(r!==null){if(e(r)){return true}r=r.parent()}return false};e.prototype.forEachImmediateDescendantWithValue=function(e){this.forEachChild(function(t){if(t.getValue()!==null)e(t);else t.forEachImmediateDescendantWithValue(e)})};e.prototype.path=function(){return new Q(this.parent_===null?this.name_:this.parent_.path()+"/"+this.name_)};e.prototype.name=function(){return this.name_};e.prototype.parent=function(){return this.parent_};e.prototype.updateParents_=function(){if(this.parent_!==null)this.parent_.updateChild_(this.name_,this)};e.prototype.updateChild_=function(e,t){var r=t.isEmpty();var n=a.contains(this.node_.children,e);if(r&&n){delete this.node_.children[e];this.node_.childCount--;this.updateParents_()}else if(!r&&!n){this.node_.children[e]=t.node_;this.node_.childCount++;this.updateParents_()}};return e}();var bn;(function(e){e[e["RUN"]=0]="RUN";e[e["SENT"]=1]="SENT";e[e["COMPLETED"]=2]="COMPLETED";e[e["SENT_NEEDS_ABORT"]=3]="SENT_NEEDS_ABORT";e[e["NEEDS_ABORT"]=4]="NEEDS_ABORT"})(bn||(bn={}));pn.MAX_TRANSACTION_RETRIES_=25;pn.prototype.transactions_init_=function(){this.transactionQueueTree_=new _n};pn.prototype.startTransaction=function(e,t,r,n){this.log_("transaction on "+e);var i=function(){};var o=new mn(this,e);o.on("value",i);var s=function(){o.off("value",i)};var u={path:e,update:t,onComplete:r,status:null,order:v(),applyLocally:n,retryCount:0,unwatcher:s,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null};var l=this.getLatestState_(e);u.currentInputSnapshot=l;var c=u.update(l.val());if(c===undefined){u.unwatcher();u.currentOutputSnapshotRaw=null;u.currentOutputSnapshotResolved=null;if(u.onComplete){var f=new dt(u.currentInputSnapshot,new mn(this,u.path),Qe);u.onComplete(null,false,f)}}else{ye("transaction failed: Data returned ",c,u.path);u.status=bn.RUN;var h=this.transactionQueueTree_.subTree(e);var p=h.getValue()||[];p.push(u);h.setValue(p);var d=void 0;if(typeof c==="object"&&c!==null&&a.contains(c,".priority")){d=a.safeGet(c,".priority");a.assert(de(d),"Invalid priority returned by transaction. "+"Priority must be a valid string, finite number, server value, or null.")}else{var y=this.serverSyncTree_.calcCompleteEventCache(e)||ot.EMPTY_NODE;d=y.getPriority().val()}d=d;var m=this.generateServerValues();var g=ct(c,d);var _=St(g,m);u.currentOutputSnapshotRaw=g;u.currentOutputSnapshotResolved=_;u.currentWriteId=this.getNextWriteId_();var b=this.serverSyncTree_.applyUserOverwrite(e,_,u.currentWriteId,u.applyLocally);this.eventQueue_.raiseEventsForChangedPath(e,b);this.sendReadyTransactions_()}};pn.prototype.getLatestState_=function(e,t){return this.serverSyncTree_.calcCompleteEventCache(e,t)||ot.EMPTY_NODE};pn.prototype.sendReadyTransactions_=function(e){var t=this;if(e===void 0){e=this.transactionQueueTree_}if(!e){this.pruneCompletedTransactionsBelowNode_(e)}if(e.getValue()!==null){var r=this.buildTransactionQueue_(e);a.assert(r.length>0,"Sending zero length transaction queue");var n=r.every(function(e){return e.status===bn.RUN});if(n){this.sendTransactionQueue_(e.path(),r)}}else if(e.hasChildren()){e.forEachChild(function(e){t.sendReadyTransactions_(e)})}};pn.prototype.sendTransactionQueue_=function(e,t){var r=this;var n=t.map(function(e){return e.currentWriteId});var i=this.getLatestState_(e,n);var o=i;var s=i.hash();for(var u=0;u<t.length;u++){var l=t[u];a.assert(l.status===bn.RUN,"tryToSendTransactionQueue_: items in queue should all be run.");l.status=bn.SENT;l.retryCount++;var c=Q.relativePath(e,l.path);o=o.updateChild(c,l.currentOutputSnapshotRaw)}var f=o.val(true);var h=e;this.server_.put(h.toString(),f,function(n){r.log_("transaction put response",{path:h.toString(),status:n});var i=[];if(n==="ok"){var a=[];for(var o=0;o<t.length;o++){t[o].status=bn.COMPLETED;i=i.concat(r.serverSyncTree_.ackUserWrite(t[o].currentWriteId));if(t[o].onComplete){var s=t[o].currentOutputSnapshotResolved;var u=new mn(r,t[o].path);var l=new dt(s,u,Qe);a.push(t[o].onComplete.bind(null,null,true,l))}t[o].unwatcher()}r.pruneCompletedTransactionsBelowNode_(r.transactionQueueTree_.subTree(e));r.sendReadyTransactions_();r.eventQueue_.raiseEventsForChangedPath(e,i);for(var o=0;o<a.length;o++){q(a[o])}}else{if(n==="datastale"){for(var o=0;o<t.length;o++){if(t[o].status===bn.SENT_NEEDS_ABORT)t[o].status=bn.NEEDS_ABORT;else t[o].status=bn.RUN}}else{k("transaction at "+h.toString()+" failed: "+n);for(var o=0;o<t.length;o++){t[o].status=bn.NEEDS_ABORT;t[o].abortReason=n}}r.rerunTransactions_(e)}},s)};pn.prototype.rerunTransactions_=function(e){var t=this.getAncestorTransactionNode_(e);var r=t.path();var n=this.buildTransactionQueue_(t);this.rerunTransactionQueue_(n,r);return r};pn.prototype.rerunTransactionQueue_=function(e,t){if(e.length===0){return}var r=[];var n=[];var i=e.filter(function(e){return e.status===bn.RUN});var o=i.map(function(e){return e.currentWriteId});for(var s=0;s<e.length;s++){var u=e[s];var l=Q.relativePath(t,u.path);var c=false,f=void 0;a.assert(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null.");if(u.status===bn.NEEDS_ABORT){c=true;f=u.abortReason;n=n.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,true))}else if(u.status===bn.RUN){if(u.retryCount>=pn.MAX_TRANSACTION_RETRIES_){c=true;f="maxretry";n=n.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,true))}else{var h=this.getLatestState_(u.path,o);u.currentInputSnapshot=h;var p=e[s].update(h.val());if(p!==undefined){ye("transaction failed: Data returned ",p,u.path);var d=ct(p);var v=typeof p==="object"&&p!=null&&a.contains(p,".priority");if(!v){d=d.updatePriority(h.getPriority())}var y=u.currentWriteId;var m=this.generateServerValues();var g=St(d,m);u.currentOutputSnapshotRaw=d;u.currentOutputSnapshotResolved=g;u.currentWriteId=this.getNextWriteId_();o.splice(o.indexOf(y),1);n=n.concat(this.serverSyncTree_.applyUserOverwrite(u.path,g,u.currentWriteId,u.applyLocally));n=n.concat(this.serverSyncTree_.ackUserWrite(y,true))}else{c=true;f="nodata";n=n.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,true))}}}this.eventQueue_.raiseEventsForChangedPath(t,n);n=[];if(c){e[s].status=bn.COMPLETED;(function(e){setTimeout(e,Math.floor(0))})(e[s].unwatcher);if(e[s].onComplete){if(f==="nodata"){var _=new mn(this,e[s].path);var b=e[s].currentInputSnapshot;var w=new dt(b,_,Qe);r.push(e[s].onComplete.bind(null,null,false,w))}else{r.push(e[s].onComplete.bind(null,new Error(f),false,null))}}}}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(var s=0;s<r.length;s++){q(r[s])}this.sendReadyTransactions_()};pn.prototype.getAncestorTransactionNode_=function(e){var t;var r=this.transactionQueueTree_;while((t=e.getFront())!==null&&r.getValue()===null){r=r.subTree(t);e=e.popFront()}return r};pn.prototype.buildTransactionQueue_=function(e){var t=[];this.aggregateTransactionQueuesForNode_(e,t);t.sort(function(e,t){return e.order-t.order});return t};pn.prototype.aggregateTransactionQueuesForNode_=function(e,t){var r=this;var n=e.getValue();if(n!==null){for(var i=0;i<n.length;i++){t.push(n[i])}}e.forEachChild(function(e){r.aggregateTransactionQueuesForNode_(e,t)})};pn.prototype.pruneCompletedTransactionsBelowNode_=function(e){var t=this;var r=e.getValue();if(r){var n=0;for(var i=0;i<r.length;i++){if(r[i].status!==bn.COMPLETED){r[n]=r[i];n++}}r.length=n;e.setValue(r.length>0?r:null)}e.forEachChild(function(e){t.pruneCompletedTransactionsBelowNode_(e)})};pn.prototype.abortTransactions_=function(e){var t=this;var r=this.getAncestorTransactionNode_(e).path();var n=this.transactionQueueTree_.subTree(e);n.forEachAncestor(function(e){t.abortTransactionsOnNode_(e)});this.abortTransactionsOnNode_(n);n.forEachDescendant(function(e){t.abortTransactionsOnNode_(e)});return r};pn.prototype.abortTransactionsOnNode_=function(e){var t=e.getValue();if(t!==null){var r=[];var n=[];var i=-1;for(var o=0;o<t.length;o++){if(t[o].status===bn.SENT_NEEDS_ABORT){}else if(t[o].status===bn.SENT){a.assert(i===o-1,"All SENT items should be at beginning of queue.");i=o;t[o].status=bn.SENT_NEEDS_ABORT;t[o].abortReason="set"}else{a.assert(t[o].status===bn.RUN,"Unexpected transaction status in abort");t[o].unwatcher();n=n.concat(this.serverSyncTree_.ackUserWrite(t[o].currentWriteId,true));if(t[o].onComplete){var s=null;r.push(t[o].onComplete.bind(null,new Error("set"),false,s))}}}if(i===-1){e.setValue(null)}else{t.length=i+1}this.eventQueue_.raiseEventsForChangedPath(e.path(),n);for(var o=0;o<r.length;o++){q(r[o])}}};var wn="databaseURL";var Cn;var En=function(){function e(){this.repos_={};this.useRestClient_=false}e.getInstance=function(){if(!Cn){Cn=new e}return Cn};e.prototype.interrupt=function(){for(var e in this.repos_){for(var t in this.repos_[e]){this.repos_[e][t].interrupt()}}};e.prototype.resume=function(){for(var e in this.repos_){for(var t in this.repos_[e]){this.repos_[e][t].resume()}}};e.prototype.databaseFromApp=function(e,t){var r=t||e.options[wn];if(r===undefined){T("Can't determine Firebase Database URL.  Be sure to include "+wn+" option when calling firebase.initializeApp().")}var n=oe(r);var i=n.repoInfo;ke("Invalid Firebase Database URL",1,n);if(!n.path.isEmpty()){T("Database URL must point to the root of a Firebase Database "+"(not including a child path).")}var a=this.createRepo(i,e);return a.database};e.prototype.deleteRepo=function(e){var t=a.safeGet(this.repos_,e.app.name);if(!t||a.safeGet(t,e.repoInfo_.toURLString())!==e){T("Database "+e.app.name+"("+e.repoInfo_+") has already been deleted.")}e.interrupt();delete t[e.repoInfo_.toURLString()]};e.prototype.createRepo=function(e,t){var r=a.safeGet(this.repos_,t.name);if(!r){r={};this.repos_[t.name]=r}var n=a.safeGet(r,e.toURLString());if(n){T("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.")}n=new pn(e,this.useRestClient_,t);r[e.toURLString()]=n;return n};e.prototype.forceRestClient=function(e){this.useRestClient_=e};return e}();var Tn=function(){function e(e){this.repo_=e;if(!(e instanceof pn)){T("Don't call new Database() directly - please use firebase.database().")}this.root_=new mn(e,Q.Empty);this.INTERNAL=new kn(this)}Object.defineProperty(e.prototype,"app",{get:function(){return this.repo_.app},enumerable:true,configurable:true});e.prototype.ref=function(e){this.checkDeleted_("ref");a.validateArgCount("database.ref",0,1,arguments.length);if(e instanceof mn){return this.refFromURL(e.toString())}return e!==undefined?this.root_.child(e):this.root_};e.prototype.refFromURL=function(e){var t="database.refFromURL";this.checkDeleted_(t);a.validateArgCount(t,1,1,arguments.length);var r=oe(e);ke(t,1,r);var n=r.repoInfo;if(n.host!==this.repo_.repoInfo_.host){T(t+": Host name does not match the current database: "+"(found "+n.host+" but expected "+this.repo_.repoInfo_.host+")")}return this.ref(r.path.toString())};e.prototype.checkDeleted_=function(e){if(this.repo_===null){T("Cannot call "+e+" on a deleted database.")}};e.prototype.goOffline=function(){a.validateArgCount("database.goOffline",0,0,arguments.length);this.checkDeleted_("goOffline");this.repo_.interrupt()};e.prototype.goOnline=function(){a.validateArgCount("database.goOnline",0,0,arguments.length);this.checkDeleted_("goOnline");this.repo_.resume()};e.ServerValue={TIMESTAMP:{".sv":"timestamp"}};return e}();var kn=function(){function e(e){this.database=e}e.prototype.delete=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(e){this.database.checkDeleted_("delete");En.getInstance().deleteRepo(this.database.repo_);this.database.repo_=null;this.database.root_=null;this.database.INTERNAL=null;this.database=null;return[2]})})};return e}();var Sn=function(){jr.forceDisallow();Dr.forceAllow()};var xn=function(){Dr.forceDisallow()};var In=function(){return jr["isAvailable"]()};var On=function(e,t){e.repo.persistentConnection_.securityDebugCallback_=t};var Nn=function(e,t){e.repo.stats(t)};var An=function(e,t){e.repo.statsIncrementCounter(t)};var Pn=function(e){return e.repo.dataUpdateCount};var Dn=function(e,t){return e.repo.interceptServerData_(t)};var Rn=Object.freeze({forceLongPolling:Sn,forceWebSockets:xn,isWebSocketsAvailable:In,setSecurityDebugCallback:On,stats:Nn,statsIncrementCounter:An,dataUpdateCount:Pn,interceptServerData:Dn});var Mn=cn;cn.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};cn.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Fn=en;var Ln=function(e){var t=cn.prototype.put;cn.prototype.put=function(r,n,i,a){if(a!==undefined){a=e()}t.call(this,r,n,i,a)};return function(){cn.prototype.put=t}};var jn=ne;var $n=function(e){return e.queryIdentifier()};var Un=function(e){return e.repo.persistentConnection_.listens_};var Bn=function(e){En.getInstance().forceRestClient(e)};var Wn=Object.freeze({DataConnection:Mn,RealTimeConnection:Fn,hijackHash:Ln,ConnectionTarget:jn,queryIdentifier:$n,listens:Un,forceRestClient:Bn});var qn=Tn.ServerValue;function Vn(t){var r=t.INTERNAL.registerService("database",function(e,t,r){return En.getInstance().databaseFromApp(e,r)},{Reference:mn,Query:bt,Database:Tn,enableLogging:b,INTERNAL:Rn,ServerValue:qn,TEST_ACCESS:Wn},null,true);if(a.isNodeSdk()){e.exports=r}}Vn(u);t.registerDatabase=Vn;t.Database=Tn;t.Query=bt;t.Reference=mn;t.enableLogging=b;t.ServerValue=qn;t.DataSnapshot=dt;t.OnDisconnect=xe}).call(this,r(15))},function(e,t,r){"use strict";r.r(t);r.d(t,"setLogLevel",function(){return u});r.d(t,"Logger",function(){return s});r.d(t,"LogLevel",function(){return i});var n=[];var i;(function(e){e[e["DEBUG"]=0]="DEBUG";e[e["VERBOSE"]=1]="VERBOSE";e[e["INFO"]=2]="INFO";e[e["WARN"]=3]="WARN";e[e["ERROR"]=4]="ERROR";e[e["SILENT"]=5]="SILENT"})(i||(i={}));var a=i.INFO;var o=function(e,t){var r=[];for(var n=2;n<arguments.length;n++){r[n-2]=arguments[n]}if(t<e.logLevel)return;var a=(new Date).toISOString();switch(t){case i.DEBUG:console.log.apply(console,["["+a+"]  "+e.name+":"].concat(r));break;case i.VERBOSE:console.log.apply(console,["["+a+"]  "+e.name+":"].concat(r));break;case i.INFO:console.info.apply(console,["["+a+"]  "+e.name+":"].concat(r));break;case i.WARN:console.warn.apply(console,["["+a+"]  "+e.name+":"].concat(r));break;case i.ERROR:console.error.apply(console,["["+a+"]  "+e.name+":"].concat(r));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}};var s=function(){function e(e){this.name=e;this._logLevel=a;this._logHandler=o;n.push(this)}Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in i)){throw new TypeError("Invalid value assigned to `logLevel`")}this._logLevel=e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if(typeof e!=="function"){throw new TypeError("Value assigned to `logHandler` must be a function")}this._logHandler=e},enumerable:true,configurable:true});e.prototype.debug=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}this._logHandler.apply(this,[this,i.DEBUG].concat(e))};e.prototype.log=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}this._logHandler.apply(this,[this,i.VERBOSE].concat(e))};e.prototype.info=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}this._logHandler.apply(this,[this,i.INFO].concat(e))};e.prototype.warn=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}this._logHandler.apply(this,[this,i.WARN].concat(e))};e.prototype.error=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}this._logHandler.apply(this,[this,i.ERROR].concat(e))};return e}();function u(e){n.forEach(function(t){t.logLevel=e})}},function(e,t,r){"use strict";var n=r(8);var i=r.n(n);var a=i.a},function(e,t,r){t=e.exports=r(0)(false);t.push([e.i,":root{--link-colour:#42b983;--separator-colour:#d1d1d1}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif!important}body.noscroll{overflow:hidden}a{color:var(--link-colour);text-decoration:none;cursor:pointer}a:hover{color:#982c61;border-bottom:2px solid #4a4a4a}button:focus,button:hover,input[type=button]:focus,input[type=button]:hover,input[type=reset]:focus,input[type=reset]:hover,input[type=submit]:focus,input[type=submit]:hover{background-color:var(--link-colour);border-color:var(--link-colour);color:#fff}input[type=search]::-webkit-search-cancel-button{display:none}.searchBoxWrapper{display:inline-flex;align-items:center}.inputBox{display:block;margin:10px 0;padding:10px;min-width:40vw;min-height:42px}.clearButton{margin-left:-25px}.selected{color:#982c61}.separator{height:1px;margin:6px 0}.fade-enter-active,.fade-leave-active{transition:opacity .2s}.fade-enter,.fade-leave-to{opacity:0}",""])},function(e,t,r){"use strict";var n=r(9);var i=r.n(n);var a=i.a},function(e,t,r){t=e.exports=r(0)(false);t.push([e.i,".tags[data-v-74f8c9cf]{min-height:24px}.tagLink[data-v-74f8c9cf]{color:#999;margin:0 5px 0 0}.tagLink[data-v-74f8c9cf]:hover{background-color:#f2f2f2;color:#982c61;border-bottom:2px solid #4a4a4a}",""])},function(e,t,r){e.exports=r.p+"bullet.svg"},function(e,t,r){"use strict";var n=r(10);var i=r.n(n);var a=i.a},function(e,t,r){t=e.exports=r(0)(false);t.push([e.i,".bottomInputContainer[data-v-2fc2a75b]{display:flex;flex-direction:row;justify-content:space-between}.inputCol[data-v-2fc2a75b]{display:flex;flex-direction:column;justify-content:space-around;align-items:flex-start;max-width:50%}",""])},function(e,t,r){"use strict";var n=r(11);var i=r.n(n);var a=i.a},function(e,t,r){t=e.exports=r(0)(false);t.push([e.i,".taskFlexbox[data-v-84bc4c44]{display:flex;margin:10px 0}.task[data-v-84bc4c44]{display:flex;flex-direction:column;justify-content:flex-start;margin:5px 0 0 33px;width:100%}.completed[data-v-84bc4c44]{opacity:.4;text-decoration:line-through solid currentcolor}.showHide[data-v-84bc4c44]{width:2vw;padding:4px;margin-right:-33px;flex-grow:1;cursor:pointer;text-align:center;font-weight:lighter;color:#999;background-color:#f6f6f6;border-radius:8px}.showHide[data-v-84bc4c44]:hover{color:#fff;background-color:var(--link-colour);transition:background-color .2s ease 0s}.contextMenuLocation[data-v-84bc4c44]{position:absolute;z-index:2;height:0}.contextMenu[data-v-84bc4c44]{display:flex;flex-direction:column;min-height:58px;min-width:80px;margin:16px 0 10px -38px;background:#f6f6f6;border:1px solid #bbb;border-radius:4px}.contextMenuLink[data-v-84bc4c44]{padding:1px 5px}.contextMenuLink[data-v-84bc4c44]:hover{color:#fff;background-color:var(--link-colour);transition:background-color .2s ease 0s;border-bottom:0}.mainTaskContainer[data-v-84bc4c44]{display:flex;align-items:center}.bullet[data-v-84bc4c44]{height:32px;width:32px;background-color:transparent;border-radius:32px;cursor:pointer}.bullet[data-v-84bc4c44]:hover{background-color:#aaa}.taskText[data-v-84bc4c44],input[type=text][data-v-84bc4c44],textarea[data-v-84bc4c44]{display:inline;padding:6px 10px 0;margin:0 0 3px 3px;line-height:20px;min-height:11px;min-width:90%}.btn[data-v-84bc4c44]{min-height:32px;margin:0 10px;font-size:18px;color:#ddd;background-color:#f6f6f6;border-color:#f6f6f6;border-radius:8px;text-decoration:none}.btn[data-v-84bc4c44]:hover{background-color:var(--link-colour);border:1px solid var(--link-colour);transition:background-color .2s ease 0s;color:#fff}.dangerBtn[data-v-84bc4c44]:hover{background-color:#e00808;border:1px solid #e00808}.bold[data-v-84bc4c44]{font-weight:700}.smallText[data-v-84bc4c44]{display:inline;font-size:1.2rem;color:#696969}.description[data-v-84bc4c44]{font-size:1.5rem;color:#696969}.leftIndent[data-v-84bc4c44]{margin-left:40px}",""])},function(e,t,r){"use strict";var n=r(12);var i=r.n(n);var a=i.a},function(e,t,r){t=e.exports=r(0)(false);t.push([e.i,".modal-mask[data-v-b1c73604]{position:fixed;overflow:auto;z-index:3;top:0;right:0;bottom:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.5);transition:opacity .3s ease}.modal-wrapper[data-v-b1c73604]{position:fixed;top:5%;z-index:100;border-radius:15px;left:25%;transform:translateX(-12.5%);overflow-y:auto;max-height:90%}.modal-container[data-v-b1c73604]{min-width:25vw;max-width:62vw;margin:0 auto;padding:20px 30px;background-color:#fff;border-radius:2px;box-shadow:0 2px 8px rgba(0,0,0,.33);transition:all .3s ease}.modal-header h3[data-v-b1c73604]{margin-top:0;color:#42b983}.modal-body[data-v-b1c73604]{margin:20px 0;max-width:100%}.modal-default-button[data-v-b1c73604]{float:right}.modal-enter[data-v-b1c73604],.modal-leave-active[data-v-b1c73604]{opacity:0}.modal-enter .modal-container[data-v-b1c73604],.modal-leave-active .modal-container[data-v-b1c73604]{-webkit-transform:scale(1.1);transform:scale(1.1)}",""])},function(e,t,r){"use strict";r.r(t);var n=r(2);var i=function(){var e=this;var t=e.$createElement;var r=e._self._c||t;return r("home")};var a=[];var o=function(){var e=this;var t=e.$createElement;var r=e._self._c||t;return r("div",{attrs:{id:"home"}},[r("header",{staticStyle:{display:"inline-block"}},[r("h1",[e._v("Home")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.newTask,expression:"newTask"}],ref:"newTaskInput",staticClass:"inputBox",attrs:{type:"search",placeholder:"New task"},domProps:{value:e.newTask},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter")){return null}return e.addTaskFromInput(t)},input:function(t){if(t.target.composing){return}e.newTask=t.target.value}}}),e._v(" "),r("div",[r("div",{staticClass:"searchBoxWrapper",on:{mouseover:function(t){e.showClearButton=true},mouseleave:function(t){e.showClearButton=false}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.computedSearchTerm,expression:"computedSearchTerm"}],ref:"searchInput",staticClass:"inputBox",attrs:{type:"search",placeholder:"Search"},domProps:{value:e.computedSearchTerm},on:{input:function(t){if(t.target.composing){return}e.computedSearchTerm=t.target.value}}}),e._v(" "),e.showClearButton?r("a",{staticClass:"clearButton",on:{click:function(t){e.computedSearchTerm=""}}},[e._v("x")]):e._e()])]),e._v(" "),r("span",[r("a",{class:{selected:e.localVisibility==="all"},on:{click:function(t){e.localVisibility="all"}}},[e._v("all")]),e._v(" "),r("a",{class:{selected:e.localVisibility==="active"},on:{click:function(t){e.localVisibility="active"}}},[e._v("active")]),e._v(" "),r("a",{class:{selected:e.localVisibility==="completed"},on:{click:function(t){e.localVisibility="completed"}}},[e._v("completed")])]),e._v(" "),r("tags",{attrs:{tags:e.tags}}),e._v(" "),r("div",{staticClass:"separator"}),e._v(" "),r("div",{staticClass:"separator"}),e._v(" "),r("div",{staticClass:"separator"})],1),e._v(" "),r("div",{attrs:{id:"topRight"}},[r("div",{attrs:{id:"topRightButtons"}},[r("button",{staticClass:"topRightButton",on:{click:function(t){e.setCurrentTopRightTab("settings")}}},[e._v("Settings\n            ")]),e._v(" "),e.clipboard!==null?r("button",{staticClass:"topRightButton",staticStyle:{"border-left":"1px solid #ccc"},on:{click:function(t){e.setCurrentTopRightTab("clipboard")}}},[e._v("Clipboard\n            ")]):e._e(),e._v(" "),e.storageMethod==="firebase"?r("button",{staticClass:"topRightButton",staticStyle:{"border-left":"1px solid #ccc"},on:{click:function(t){e.setCurrentTopRightTab("firebase")}}},[e._v("Firebase\n            ")]):e._e()]),e._v(" "),r(e.currentTopRightTab,{tag:"component"})],1),e._v(" "),r("section",[r("tasks",{attrs:{taskIDs:e.rootTaskIDs}}),e._v(" "),e.localVisibility!=="completed"?r("p",{staticStyle:{color:"#999"}},[e._v(e._s(e.numberOfTasksRemaining)+" "+e._s(e._f("pluralise")(e.numberOfTasksRemaining))+" left")]):e._e()],1),e._v(" "),r("div",{staticClass:"bottomRightButton",on:{click:function(t){e.addTask()}}},[e._v("+\n    ")])])};var s=[];
/**
 * vuex v3.0.1
 * (c) 2017 Evan You
 * @license MIT
 */var u=function(e){var t=Number(e.version.split(".")[0]);if(t>=2){e.mixin({beforeCreate:n})}else{var r=e.prototype._init;e.prototype._init=function(e){if(e===void 0)e={};e.init=e.init?[n].concat(e.init):n;r.call(this,e)}}function n(){var e=this.$options;if(e.store){this.$store=typeof e.store==="function"?e.store():e.store}else if(e.parent&&e.parent.$store){this.$store=e.parent.$store}}};var l=typeof window!=="undefined"&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function c(e){if(!l){return}e._devtoolHook=l;l.emit("vuex:init",e);l.on("vuex:travel-to-state",function(t){e.replaceState(t)});e.subscribe(function(e,t){l.emit("vuex:mutation",e,t)})}function f(e,t){Object.keys(e).forEach(function(r){return t(e[r],r)})}function h(e){return e!==null&&typeof e==="object"}function p(e){return e&&typeof e.then==="function"}function d(e,t){if(!e){throw new Error("[vuex] "+t)}}var v=function e(t,r){this.runtime=r;this._children=Object.create(null);this._rawModule=t;var n=t.state;this.state=(typeof n==="function"?n():n)||{}};var y={namespaced:{configurable:true}};y.namespaced.get=function(){return!!this._rawModule.namespaced};v.prototype.addChild=function e(t,r){this._children[t]=r};v.prototype.removeChild=function e(t){delete this._children[t]};v.prototype.getChild=function e(t){return this._children[t]};v.prototype.update=function e(t){this._rawModule.namespaced=t.namespaced;if(t.actions){this._rawModule.actions=t.actions}if(t.mutations){this._rawModule.mutations=t.mutations}if(t.getters){this._rawModule.getters=t.getters}};v.prototype.forEachChild=function e(t){f(this._children,t)};v.prototype.forEachGetter=function e(t){if(this._rawModule.getters){f(this._rawModule.getters,t)}};v.prototype.forEachAction=function e(t){if(this._rawModule.actions){f(this._rawModule.actions,t)}};v.prototype.forEachMutation=function e(t){if(this._rawModule.mutations){f(this._rawModule.mutations,t)}};Object.defineProperties(v.prototype,y);var m=function e(t){this.register([],t,false)};m.prototype.get=function e(t){return t.reduce(function(e,t){return e.getChild(t)},this.root)};m.prototype.getNamespace=function e(t){var r=this.root;return t.reduce(function(e,t){r=r.getChild(t);return e+(r.namespaced?t+"/":"")},"")};m.prototype.update=function e(t){g([],this.root,t)};m.prototype.register=function e(t,r,n){var i=this;if(n===void 0)n=true;if(false){}var a=new v(r,n);if(t.length===0){this.root=a}else{var o=this.get(t.slice(0,-1));o.addChild(t[t.length-1],a)}if(r.modules){f(r.modules,function(e,r){i.register(t.concat(r),e,n)})}};m.prototype.unregister=function e(t){var r=this.get(t.slice(0,-1));var n=t[t.length-1];if(!r.getChild(n).runtime){return}r.removeChild(n)};function g(e,t,r){if(false){}t.update(r);if(r.modules){for(var n in r.modules){if(!t.getChild(n)){if(false){}return}g(e.concat(n),t.getChild(n),r.modules[n])}}}var _={assert:function(e){return typeof e==="function"},expected:"function"};var b={assert:function(e){return typeof e==="function"||typeof e==="object"&&typeof e.handler==="function"},expected:'function or object with "handler" function'};var w={getters:_,mutations:_,actions:b};function C(e,t){Object.keys(w).forEach(function(r){if(!t[r]){return}var n=w[r];f(t[r],function(t,i){d(n.assert(t),E(e,r,i,t,n.expected))})})}function E(e,t,r,n,i){var a=t+" should be "+i+' but "'+t+"."+r+'"';if(e.length>0){a+=' in module "'+e.join(".")+'"'}a+=" is "+JSON.stringify(n)+".";return a}var T;var k=function e(t){var r=this;if(t===void 0)t={};if(!T&&typeof window!=="undefined"&&window.Vue){$(window.Vue)}if(false){}var n=t.plugins;if(n===void 0)n=[];var i=t.strict;if(i===void 0)i=false;var a=t.state;if(a===void 0)a={};if(typeof a==="function"){a=a()||{}}this._committing=false;this._actions=Object.create(null);this._actionSubscribers=[];this._mutations=Object.create(null);this._wrappedGetters=Object.create(null);this._modules=new m(t);this._modulesNamespaceMap=Object.create(null);this._subscribers=[];this._watcherVM=new T;var o=this;var s=this;var u=s.dispatch;var l=s.commit;this.dispatch=function e(t,r){return u.call(o,t,r)};this.commit=function e(t,r,n){return l.call(o,t,r,n)};this.strict=i;N(this,a,[],this._modules.root);O(this,a);n.forEach(function(e){return e(r)});if(T.config.devtools){c(this)}};var S={state:{configurable:true}};S.state.get=function(){return this._vm._data.$$state};S.state.set=function(e){if(false){}};k.prototype.commit=function e(t,r,n){var i=this;var a=j(t,r,n);var o=a.type;var s=a.payload;var u=a.options;var l={type:o,payload:s};var c=this._mutations[o];if(!c){if(false){}return}this._withCommit(function(){c.forEach(function e(t){t(s)})});this._subscribers.forEach(function(e){return e(l,i.state)});if(false){}};k.prototype.dispatch=function e(t,r){var n=this;var i=j(t,r);var a=i.type;var o=i.payload;var s={type:a,payload:o};var u=this._actions[a];if(!u){if(false){}return}this._actionSubscribers.forEach(function(e){return e(s,n.state)});return u.length>1?Promise.all(u.map(function(e){return e(o)})):u[0](o)};k.prototype.subscribe=function e(t){return x(t,this._subscribers)};k.prototype.subscribeAction=function e(t){return x(t,this._actionSubscribers)};k.prototype.watch=function e(t,r,n){var i=this;if(false){}return this._watcherVM.$watch(function(){return t(i.state,i.getters)},r,n)};k.prototype.replaceState=function e(t){var r=this;this._withCommit(function(){r._vm._data.$$state=t})};k.prototype.registerModule=function e(t,r,n){if(n===void 0)n={};if(typeof t==="string"){t=[t]}if(false){}this._modules.register(t,r);N(this,this.state,t,this._modules.get(t),n.preserveState);O(this,this.state)};k.prototype.unregisterModule=function e(t){var r=this;if(typeof t==="string"){t=[t]}if(false){}this._modules.unregister(t);this._withCommit(function(){var e=L(r.state,t.slice(0,-1));T.delete(e,t[t.length-1])});I(this)};k.prototype.hotUpdate=function e(t){this._modules.update(t);I(this,true)};k.prototype._withCommit=function e(t){var r=this._committing;this._committing=true;t();this._committing=r};Object.defineProperties(k.prototype,S);function x(e,t){if(t.indexOf(e)<0){t.push(e)}return function(){var r=t.indexOf(e);if(r>-1){t.splice(r,1)}}}function I(e,t){e._actions=Object.create(null);e._mutations=Object.create(null);e._wrappedGetters=Object.create(null);e._modulesNamespaceMap=Object.create(null);var r=e.state;N(e,r,[],e._modules.root,true);O(e,r,t)}function O(e,t,r){var n=e._vm;e.getters={};var i=e._wrappedGetters;var a={};f(i,function(t,r){a[r]=function(){return t(e)};Object.defineProperty(e.getters,r,{get:function(){return e._vm[r]},enumerable:true})});var o=T.config.silent;T.config.silent=true;e._vm=new T({data:{$$state:t},computed:a});T.config.silent=o;if(e.strict){F(e)}if(n){if(r){e._withCommit(function(){n._data.$$state=null})}T.nextTick(function(){return n.$destroy()})}}function N(e,t,r,n,i){var a=!r.length;var o=e._modules.getNamespace(r);if(n.namespaced){e._modulesNamespaceMap[o]=n}if(!a&&!i){var s=L(t,r.slice(0,-1));var u=r[r.length-1];e._withCommit(function(){T.set(s,u,n.state)})}var l=n.context=A(e,o,r);n.forEachMutation(function(t,r){var n=o+r;D(e,n,t,l)});n.forEachAction(function(t,r){var n=t.root?r:o+r;var i=t.handler||t;R(e,n,i,l)});n.forEachGetter(function(t,r){var n=o+r;M(e,n,t,l)});n.forEachChild(function(n,a){N(e,t,r.concat(a),n,i)})}function A(e,t,r){var n=t==="";var i={dispatch:n?e.dispatch:function(r,n,i){var a=j(r,n,i);var o=a.payload;var s=a.options;var u=a.type;if(!s||!s.root){u=t+u;if(false){}}return e.dispatch(u,o)},commit:n?e.commit:function(r,n,i){var a=j(r,n,i);var o=a.payload;var s=a.options;var u=a.type;if(!s||!s.root){u=t+u;if(false){}}e.commit(u,o,s)}};Object.defineProperties(i,{getters:{get:n?function(){return e.getters}:function(){return P(e,t)}},state:{get:function(){return L(e.state,r)}}});return i}function P(e,t){var r={};var n=t.length;Object.keys(e.getters).forEach(function(i){if(i.slice(0,n)!==t){return}var a=i.slice(n);Object.defineProperty(r,a,{get:function(){return e.getters[i]},enumerable:true})});return r}function D(e,t,r,n){var i=e._mutations[t]||(e._mutations[t]=[]);i.push(function t(i){r.call(e,n.state,i)})}function R(e,t,r,n){var i=e._actions[t]||(e._actions[t]=[]);i.push(function t(i,a){var o=r.call(e,{dispatch:n.dispatch,commit:n.commit,getters:n.getters,state:n.state,rootGetters:e.getters,rootState:e.state},i,a);if(!p(o)){o=Promise.resolve(o)}if(e._devtoolHook){return o.catch(function(t){e._devtoolHook.emit("vuex:error",t);throw t})}else{return o}})}function M(e,t,r,n){if(e._wrappedGetters[t]){if(false){}return}e._wrappedGetters[t]=function e(t){return r(n.state,n.getters,t.state,t.getters)}}function F(e){e._vm.$watch(function(){return this._data.$$state},function(){if(false){}},{deep:true,sync:true})}function L(e,t){return t.length?t.reduce(function(e,t){return e[t]},e):e}function j(e,t,r){if(h(e)&&e.type){r=t;t=e;e=e.type}if(false){}return{type:e,payload:t,options:r}}function $(e){if(T&&e===T){if(false){}return}T=e;u(T)}var U=Q(function(e,t){var r={};H(t).forEach(function(t){var n=t.key;var i=t.val;r[n]=function t(){var r=this.$store.state;var n=this.$store.getters;if(e){var a=K(this.$store,"mapState",e);if(!a){return}r=a.context.state;n=a.context.getters}return typeof i==="function"?i.call(this,r,n):r[i]};r[n].vuex=true});return r});var B=Q(function(e,t){var r={};H(t).forEach(function(t){var n=t.key;var i=t.val;r[n]=function t(){var r=[],n=arguments.length;while(n--)r[n]=arguments[n];var a=this.$store.commit;if(e){var o=K(this.$store,"mapMutations",e);if(!o){return}a=o.context.commit}return typeof i==="function"?i.apply(this,[a].concat(r)):a.apply(this.$store,[i].concat(r))}});return r});var W=Q(function(e,t){var r={};H(t).forEach(function(t){var n=t.key;var i=t.val;i=e+i;r[n]=function t(){if(e&&!K(this.$store,"mapGetters",e)){return}if(false){}return this.$store.getters[i]};r[n].vuex=true});return r});var q=Q(function(e,t){var r={};H(t).forEach(function(t){var n=t.key;var i=t.val;r[n]=function t(){var r=[],n=arguments.length;while(n--)r[n]=arguments[n];var a=this.$store.dispatch;if(e){var o=K(this.$store,"mapActions",e);if(!o){return}a=o.context.dispatch}return typeof i==="function"?i.apply(this,[a].concat(r)):a.apply(this.$store,[i].concat(r))}});return r});var V=function(e){return{mapState:U.bind(null,e),mapGetters:W.bind(null,e),mapMutations:B.bind(null,e),mapActions:q.bind(null,e)}};function H(e){return Array.isArray(e)?e.map(function(e){return{key:e,val:e}}):Object.keys(e).map(function(t){return{key:t,val:e[t]}})}function Q(e){return function(t,r){if(typeof t!=="string"){r=t;t=""}else if(t.charAt(t.length-1)!=="/"){t+="/"}return e(t,r)}}function K(e,t,r){var n=e._modulesNamespaceMap[r];if(false){}return n}var z={Store:k,install:$,version:"3.0.1",mapState:U,mapMutations:B,mapGetters:W,mapActions:q,createNamespacedHelpers:V};var G=z;var Y=function(){var e=this;var t=e.$createElement;var r=e._self._c||t;return r("div",{staticClass:"paddedLeftAndBottom"},[r("span",{staticStyle:{"font-weight":"bold"}},[e._v("storage method")]),e._v(" "),r("label",{staticClass:"noBold"},[e._v("\n        local storage\n        "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.computedStorageMethod,expression:"computedStorageMethod"}],attrs:{type:"radio",value:"localStorage"},domProps:{checked:e._q(e.computedStorageMethod,"localStorage")},on:{change:function(t){e.computedStorageMethod="localStorage"}}})]),e._v(" "),r("label",{staticClass:"noBold"},[e._v("\n        firebase\n        "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.computedStorageMethod,expression:"computedStorageMethod"}],attrs:{type:"radio",value:"firebase"},domProps:{checked:e._q(e.computedStorageMethod,"firebase")},on:{change:function(t){e.computedStorageMethod="firebase"}}})])])};var J=[];var X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};var Z={name:"Settings",data:function e(){return{}},computed:X({},W(["storageMethod"]),{computedStorageMethod:{get:function e(){return this.storageMethod},set:function e(t){this.setStorageMethod(t)}}}),methods:X({},B(["setStorageMethod"]))};var ee=Z;var te=r(22);function re(e,t,r,n,i,a,o,s){var u=typeof e==="function"?e.options:e;if(t){u.render=t;u.staticRenderFns=r;u._compiled=true}if(n){u.functional=true}if(a){u._scopeId="data-v-"+a}var l;if(o){l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext;if(!e&&typeof __VUE_SSR_CONTEXT__!=="undefined"){e=__VUE_SSR_CONTEXT__}if(i){i.call(this,e)}if(e&&e._registeredComponents){e._registeredComponents.add(o)}};u._ssrRegister=l}else if(i){l=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i}if(l){if(u.functional){u._injectStyles=l;var c=u.render;u.render=function e(t,r){l.call(r);return c(t,r)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,l):[l]}}return{exports:e,options:u}}var ne=re(ee,Y,J,false,null,"58331e2a",null);var ie=ne.exports;var ae=function(){var e=this;var t=e.$createElement;var r=e._self._c||t;return e.clipboardNotEmpty?r("div",[r("p",{staticStyle:{margin:"0"}},[e._v(e._s(e.clipboard)+": "+e._s(e.taskContent))]),e._v(" "),r("span",[r("b",{staticStyle:{display:"inline"}},[e._v("mode: "+e._s(e.clipboardMode))]),e._v(" "),r("button",{staticClass:"btn",staticStyle:{float:"right"},on:{click:function(t){e.setClipboard(null);e.setCurrentTopRightTab("settings")}}},[e._v("x\n        ")])])]):e._e()};var oe=[];var se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};var ue={name:"Clipboard",data:function e(){return{}},computed:se({},W(["clipboard","clipboardMode","taskByID"]),{clipboardNotEmpty:function e(){return this.clipboard!==null},taskContent:function e(){return this.taskByID(this.clipboard).content}}),methods:se({},B(["setClipboard","setCurrentTopRightTab"]))};var le=ue;var ce=r(24);var fe=re(le,ae,oe,false,null,"a1ef7eea",null);var he=fe.exports;var pe=function(){var e=this;var t=e.$createElement;var r=e._self._c||t;return r("div",{staticClass:"paddedLeftAndBottom"},[r("label",[e._v("\n        state key\n        "),r("input",{directives:[{name:"resize-on-insert",rawName:"v-resize-on-insert"},{name:"model",rawName:"v-model",value:e.computedFirebaseStateKey,expression:"computedFirebaseStateKey"}],staticStyle:{width:"100%"},attrs:{type:"text"},domProps:{value:e.computedFirebaseStateKey},on:{input:function(t){if(t.target.composing){return}e.computedFirebaseStateKey=t.target.value}}})]),e._v(" "),r("button",{on:{click:e.confirmLoad}},[e._v("load tasks")]),e._v(" "),r("button",{on:{click:e.confirmSave}},[e._v("save tasks")])])};var de=[];var ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};var ye={name:"Firebase",data:function e(){return{}},computed:ve({},W(["firebaseStateKey"]),{computedFirebaseStateKey:{get:function e(){return this.firebaseStateKey},set:function e(t){this.setFirebaseStateKey(t)}}}),methods:ve({},B(["setFirebaseStateKey"]),q(["initialiseTasks","saveStateToFirebase"]),{confirmLoad:function e(){if(window.confirm("Are you sure you want to load tasks?")){this.initialiseTasks()}},confirmSave:function e(){if(window.confirm("Are you sure you want to save tasks to Firebase? This will overwrite the existing ones")){this.saveStateToFirebase()}}})};var me=ye;var ge=r(26);var _e=re(me,pe,de,false,null,"581721f5",null);var be=_e.exports;function we(e){this.id=e.id;this.content=e.content;this.description=e.description||"";this.complete=e.complete||false;this.author=e.author||"";this.link=e.link||"";this.tasks=e.tasks||[];this.parent=e.parent||null;this.bold=e.bold||false}function Ce(e){return e.split(" ").filter(function(e){return e.length>1&&e[0]==="#"})}var Ee={all:function e(t){return t},active:function e(t){return t.filter(function(e){return!e.complete})},completed:function e(t){return t.filter(function(e){return e.complete})}};var Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};var ke={name:"Home",components:{Settings:ie,Clipboard:he,Firebase:be},filters:{pluralise:function e(t){return t===1?"item":"items"}},data:function e(){return{topRightComponent:"settings",newTask:"",showClearButton:false}},computed:Te({},W(["tasksAsArray","taskByID","rootTasks","rootTaskIDs","tagsInTasks","taskStorageUID","searchTerm","visibility","clipboard","currentTopRightTab","storageMethod","filteredTaskIDs"]),{localVisibility:{get:function e(){return this.visibility},set:function e(t){this.changeVisibility(t)}},numberOfTasksRemaining:function e(){var t=this;return this.filteredTaskIDs.filter(function(e){var r=t.taskByID(e);return!r.complete}).length},tags:function e(){return this.tagsInTasks(this.filteredTaskIDs)},computedSearchTerm:{get:function e(){return this.searchTerm},set:function e(t){this.changeSearchTerm(t)}}}),watch:{localVisibility:function e(){var t=this.visibility==="all"&&this.searchTerm.trim().length===0;this.changeShowInnerTasks(t)},searchTerm:function e(){var t=this.visibility==="all"&&this.searchTerm.trim().length===0;this.changeShowInnerTasks(t)}},mounted:function e(){var t=this;window.addEventListener("keyup",function(e){var r=document.activeElement.tagName.toLowerCase()!=="input"&&document.activeElement.tagName.toLowerCase()!=="textarea";switch(e.keyCode){case 78:if(r){t.$refs.newTaskInput.focus()}break;case 83:if(r){t.$refs.searchInput.focus()}break}})},methods:Te({},B(["incrementTaskStorageUID","changeSearchTerm","changeVisibility","setTask","addTaskToRoot","changeShowInnerTasks","setCurrentTopRightTab"]),{addTaskFromInput:function e(){var t=this.newTask&&this.newTask.trim();if(!t){return}this.addTask(t)},addTask:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";this.incrementTaskStorageUID();var r=new we({id:this.taskStorageUID,content:t,parent:"root"});this.setTask(r);this.addTaskToRoot(r.id);this.newTask="";this.$nextTick(function(){var e=document.getElementById("task-"+r.id+"-input");if(e){e.focus()}})}})};var Se=ke;var xe=r(28);var Ie=re(Se,o,s,false,null,null,null);var Oe=Ie.exports;var Ne="flowyClone";var Ae={};var Pe={};var De={};var Re={initialiseApp:function e(t){t.dispatch("initialiseSettings",null,{root:true});t.dispatch("initialiseTasks",null,{root:true})}};var Me={state:Ae,getters:Pe,mutations:De,actions:Re};var Fe=r(13);var Le=r.n(Fe);var je=r(32);var $e={apiKey:"AIzaSyBvzMqwJsz5txI3742d1k2EQ0QtUCKF2KA",authDomain:"flowy-7f42c.firebaseapp.com",databaseURL:"https://flowy-7f42c.firebaseio.com",projectId:"flowy-7f42c",storageBucket:"flowy-7f42c.appspot.com",messagingSenderId:"406366096460"};Le.a.initializeApp($e);var Ue=Le.a.database();var Be={tasks:new Map,tasksChangeTracker:1,rootTaskIDs:[],taskStorageUID:0,showInnerTasks:true};var We={tasks:function e(t,r){return t.tasksChangeTracker&&t.tasks},tasksAsArray:function e(t,r){return Array.from(r.tasks.values())},taskByID:function e(t,r){return function(e){return r.tasks.get(e)}},hasTask:function e(t,r){return function(e){return r.tasks.has(e)}},tasksInTask:function e(t,r){return function(e){if(!r.hasTask(e)){return[]}var t=r.taskByID(e);return t.tasks.map(function(e){return r.taskByID(e)})}},rootTaskIDs:function e(t,r){return t.rootTaskIDs},rootTasks:function e(t,r){return r.rootTaskIDs.map(function(e){return r.taskByID(e)})},tagsInTask:function e(t,r){return function(e){var t=Ce(e.content);var n=Ce(e.description);var i=t.concat(n);if(typeof e.tasks!=="undefined"&&e.tasks.length>0){var a=r.tagsInTasks(e.tasks);i=i.concat(a)}return i.unique()}},tagsInTasks:function e(t,r){return function(e){return e.map(function(e){var t=r.taskByID(e);return r.tagsInTask(t)}).flatten().unique()}},taskStorageUID:function e(t,r){return t.taskStorageUID},showInnerTasks:function e(t,r){return t.showInnerTasks}};var qe={incrementTaskChangeTracker:function e(t){t.tasksChangeTracker+=1},initialiseTasksWithObject:function e(t,r){if(!r){return}var n=JSON.parse(r);if(n.tasks){t.tasks=new Map(n.tasks)}if(n.rootTaskIDs){t.rootTaskIDs=n.rootTaskIDs}if(n.taskStorageUID){t.taskStorageUID=n.taskStorageUID}},setTask:function e(t,r){var n=r["id"];t.tasks.set(n,r);qe.incrementTaskChangeTracker(t)},deleteTask:function e(t,r){var n=t.tasks.get(r);n.tasks.map(function(r){return e(t,r)});t.tasks.delete(r);qe.removeTaskFromRoot(t,r);qe.incrementTaskChangeTracker(t)},setRootTaskIDs:function e(t,r){t.rootTaskIDs=r},removeTaskFromRoot:function e(t,r){var n=t.rootTaskIDs.indexOf(r);if(n>-1){t.rootTaskIDs.splice(n,1)}},removeTaskFromParentTask:function e(t,r){var n=r.parentTaskID,i=r.innerTaskID;var a=t.tasks.get(n);var o=a.tasks.indexOf(i);if(o>-1){a.tasks.splice(o,1)}qe.setTask(t,a)},addTaskToTask:function e(t,r){var n=r.taskID,i=r.newTaskID;var a=t.tasks.get(n);a.tasks.push(i);qe.incrementTaskChangeTracker(t)},addTaskToRoot:function e(t,r){t.rootTaskIDs.push(r)},incrementTaskStorageUID:function e(t){t.taskStorageUID++},changeShowInnerTasks:function e(t,r){t.showInnerTasks=r}};var Ve={initialiseTasks:function e(t){if(t.getters.storageMethod==="localStorage"){var r=localStorage.getItem(Ne);t.commit("initialiseTasksWithObject",r);t.commit("incrementTaskChangeTracker")}else{var n=t.getters.firebaseStateKey;Ue.ref("states/"+n).once("value").then(function(e){t.commit("initialiseTasksWithObject",e.val());t.commit("incrementTaskChangeTracker")})}},saveStateToFirebase:function e(t){var r=t.getters.firebaseStateKey;var n={tasks:Array.from(t.getters.tasks.entries()),rootTaskIDs:t.getters.rootTaskIDs,taskStorageUID:t.getters.taskStorageUID};Ue.ref("states/"+r).set(JSON.stringify(n))}};var He={state:Be,getters:We,mutations:qe,actions:Ve};function Qe(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++){r[t]=e[t]}return r}else{return Array.from(e)}}var Ke={searchTerm:"",visibility:"all"};var ze={searchTerm:function e(t){return t.searchTerm},visibility:function e(t){return t.visibility},shownTaskIDs:function e(t,r){var n=r.filteredTaskIDs;function i(e){var t=r.taskByID(e);if(t.parent&&t.parent!=="root"){var n;return(n=[e]).concat.apply(n,Qe(i(t.parent)))}return[e]}return n.map(i).flatten().unique()},filteredTaskIDs:function e(t,r){var n=r.searchTerm&&r.searchTerm.trim();var i=r.visibility==="all"&&n.length===0;if(i){return r.tasksAsArray.map(function(e){return e.id})}if(!n){return Ee[r.visibility](r.tasksAsArray).map(function(e){return e.id})}var a=r.tasksAsArray.filter(function(e){return e.content.toLowerCase().indexOf(n.toLowerCase())>-1});var o=Ee[r.visibility](a);var s=o.map(function(e){return e.id});if(n[0]==="#"){var u=function e(t){var n;var i=r.taskByID(t);return(n=[t]).concat.apply(n,Qe(i.tasks.map(e)))};return s.map(u).flatten().unique()}return s}};var Ge={changeSearchTerm:function e(t,r){if(t.searchTerm!==r){t.searchTerm=r}},changeVisibility:function e(t,r){if(t.visibility!==r){t.visibility=r}}};var Ye={state:Ke,getters:ze,mutations:Ge};var Je={storageMethod:"localStorage",firebaseStateKey:"test"};var Xe={storageMethod:function e(t,r){return t.storageMethod},firebaseStateKey:function e(t,r){return t.firebaseStateKey}};var Ze={setStorageMethod:function e(t,r){t.storageMethod=r},setFirebaseStateKey:function e(t,r){t.firebaseStateKey=r},initialiseSettingsWithObject:function e(t,r){if(!r){return}var n=JSON.parse(r);if(n.settings){t.storageMethod=n.settings.storageMethod;t.firebaseStateKey=n.settings.firebaseStateKey}}};var et={initialiseSettings:function e(t){var r=localStorage.getItem(Ne);t.commit("initialiseSettingsWithObject",r)}};var tt={state:Je,getters:Xe,mutations:Ze,actions:et};var rt={clipboard:null,clipboardMode:"copy"};var nt={clipboard:function e(t,r){return t.clipboard},clipboardMode:function e(t,r){return t.clipboardMode}};var it={setClipboard:function e(t,r){t.clipboard=r},setClipboardMode:function e(t,r){t.clipboardMode=r}};var at={state:rt,getters:nt,mutations:it};var ot={currentTopRightTab:"settings"};var st={currentTopRightTab:function e(t,r){return t.currentTopRightTab}};var ut={setCurrentTopRightTab:function e(t,r){t.currentTopRightTab=r}};var lt={state:ot,getters:st,mutations:ut};var ct=r(19);var ft=r.n(ct);var ht=r(20);n["a"].use(G);var pt=new G.Store({strict:ht["env"].NODE_ENV!=="production",modules:{storageModule:Me,tasksModule:He,taskFilteringModule:Ye,settingsModule:tt,clipboardModule:at,topRightTabsModule:lt}});pt.subscribe(ft()(function(e,t){var r=function e(){return{tasks:Array.from(t.tasksModule.tasks.entries()),rootTaskIDs:t.tasksModule.rootTaskIDs,taskStorageUID:t.tasksModule.taskStorageUID,settings:{storageMethod:t.settingsModule.storageMethod,firebaseStateKey:t.settingsModule.firebaseStateKey}}};var n=t.settingsModule.storageMethod==="localStorage";var i=["setTask","deleteTask","addTaskToTask","addTaskToRoot"].indexOf(e.type)>-1;var a=["setStorageMethod","setFirebaseStateKey"].indexOf(e.type)>-1;if(n&&i||a){localStorage.setItem(Ne,JSON.stringify(r()))}},300));var dt=pt;var vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};var yt={el:"#app",name:"App",components:{Home:Oe},created:function e(){var t=this;this.initialiseApp();window.addEventListener("keyup",function(e){if(e.keyCode===27){document.activeElement.blur();t.changeSearchTerm("")}})},methods:vt({},B(["changeSearchTerm"]),q(["initialiseApp"])),store:dt};var mt=yt;var gt=r(34);var _t=re(mt,i,a,false,null,null,null);var bt=_t.exports;var wt=function(){var e=this;var t=e.$createElement;var r=e._self._c||t;return r("div",{staticClass:"tasksList"},e._l(e.filteredTaskIDs,function(t){return r("task",{key:t,attrs:{taskID:t},on:{deleteTask:e.deleteInnerTask}})}))};var Ct=[];var Et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};var Tt={name:"Tasks",props:{outerTaskID:{type:Number,required:false,default:-1},taskIDs:{type:Array,required:true}},computed:Et({},W(["shownTaskIDs","searchTerm"]),{filteredTaskIDs:function e(){var t=this;return this.taskIDs.filter(function(e){return t.shownTaskIDs.indexOf(e)>-1})}}),methods:Et({},B(["removeTaskFromParentTask","deleteTask"]),{deleteInnerTask:function e(t){if(this.outerTaskID>-1){this.removeTaskFromParentTask({parentTaskID:this.outerTaskID,innerTaskID:t})}this.deleteTask(t)}})};var kt=Tt;var St=re(kt,wt,Ct,false,null,null,null);var xt=St.exports;var It=function(){var e=this;var t=e.$createElement;var r=e._self._c||t;return r("span",{staticClass:"tags"},[e._v(" ​\n    "),e._l(e.tags,function(t){return r("a",{key:t,staticClass:"tagLink",on:{click:function(t){t.preventDefault();return e.updateSearchTerm(t)}}},[e._v("\n        "+e._s(t)+"\n    ")])})],2)};var Ot=[];var Nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};var At={name:"Tags",props:{tags:{type:Array,required:true}},computed:Nt({},W(["searchTerm"])),methods:Nt({},B(["changeSearchTerm"]),{updateSearchTerm:function e(t){var r=t.target.innerText.slice(0).trim();if(this.searchTerm!==r){this.changeSearchTerm(r)}}})};var Pt=At;var Dt=r(36);var Rt=re(Pt,It,Ot,false,null,"74f8c9cf",null);var Mt=Rt.exports;var Ft=function(){var e=this;var t=e.$createElement;var n=e._self._c||t;return n("div",{staticClass:"taskFlexbox"},[e.task.tasks.length>0?n("div",{staticClass:"showHide",on:{click:function(t){e.expandChildrenFlag=!e.expandChildrenFlag}}},[e._v("\n        "+e._s(e.showHideButtonText)+"\n    ")]):e._e(),e._v(" "),n("div",{staticClass:"task"},[n("div",{staticClass:"mainTaskContainer"},[n("img",{staticClass:"bullet",attrs:{src:r(38)},on:{click:e.toggleContextMenu,dblclick:e.displayModal}}),e._v(" "),e.showModal?n("modal",{on:{close:e.hideModal}},[n("h3",{staticStyle:{margin:"0"},attrs:{slot:"header"},slot:"header"},[e._v("Task "+e._s(e.taskID))]),e._v(" "),n("detailedTask",{attrs:{slot:"body",taskID:e.taskID},slot:"body"})],1):e._e(),e._v(" "),n("div",{staticClass:"contextMenuLocation"},[n("transition",{attrs:{name:"fade"}},[e.showContextMenu?n("div",{staticClass:"contextMenu"},[e.task.tasks.length>0?n("a",{staticClass:"contextMenuLink",on:{click:function(t){e.expandChildrenFlag=!e.expandChildrenFlag}}},[e._v("\n                            "+e._s(e.showHideText)+"\n                        ")]):e._e(),e._v(" "),n("a",{staticClass:"contextMenuLink",on:{click:e.toggleComplete}},[e._v("Complete")]),e._v(" "),n("a",{staticClass:"contextMenuLink",on:{click:e.bold}},[e._v("Bold")]),e._v(" "),n("div",{staticClass:"separator"}),e._v(" "),n("a",{staticClass:"contextMenuLink",on:{click:function(t){e.addNewTask();e.toggleContextMenu()}}},[e._v("Add new child")]),e._v(" "),n("a",{staticClass:"contextMenuLink",on:{click:function(t){e.displayModal();e.toggleContextMenu()}}},[e._v("Edit")]),e._v(" "),n("a",{staticClass:"contextMenuLink",on:{click:function(t){e.deleteTask();e.toggleContextMenu()}}},[e._v("Delete")]),e._v(" "),n("div",{staticClass:"separator"}),e._v(" "),n("a",{staticClass:"contextMenuLink",on:{click:e.copyTask}},[e._v("Copy")]),e._v(" "),n("a",{staticClass:"contextMenuLink",on:{click:e.cutTask}},[e._v("Cut")]),e._v(" "),e.clipboard!=null&&e.clipboard!==e.taskID?n("a",{staticClass:"contextMenuLink",on:{click:e.pasteInto}},[e._v("Paste into")]):e._e(),e._v(" "),n("div",{staticClass:"separator"}),e._v(" "),n("a",{staticClass:"contextMenuLink",on:{click:e.moveUp}},[e._v("Move up")]),e._v(" "),n("a",{staticClass:"contextMenuLink",on:{click:e.moveDown}},[e._v("Move down")])]):e._e()])],1),e._v(" "),n("span",{staticStyle:{"margin-left":"5px",width:"100%"}},[n("textarea",{directives:[{name:"resize-on-insert",rawName:"v-resize-on-insert"},{name:"model",rawName:"v-model",value:e.taskContent,expression:"taskContent"}],ref:"taskInput",staticClass:"taskText",class:{bold:e.task.bold,completed:e.task.complete},attrs:{id:"task-"+e.task.id+"-input",type:"text"},domProps:{value:e.taskContent},on:{input:function(t){if(t.target.composing){return}e.taskContent=t.target.value}}})]),e._v(" "),n("button",{staticClass:"btn",on:{click:e.addNewTask}},[e._v("+\n            ")]),e._v(" "),n("button",{staticClass:"btn dangerBtn",on:{click:e.deleteTask}},[e._v("x\n            ")])],1),e._v(" "),n("div",{class:{completed:e.task.complete}},[n("div",[e.task.description.length>0?n("p",{staticClass:"description leftIndent",staticStyle:{"margin-top":"0","margin-bottom":"0"}},[e._v(e._s(e.task.description))]):e._e()]),e._v(" "),n("div",{staticClass:"leftIndent"},[e.task.link.length>0?n("a",{attrs:{href:e.task.link}},[e._v("\n                    link\n                ")]):e._e(),e._v(" "),e.task.author.length>0?n("p",{staticClass:"smallText"},[e._v(e._s(e.task.author)+"\n                ")]):e._e()]),e._v(" "),n("div",{staticClass:"leftIndent"},[e.tags.length>0?n("tags",{attrs:{tags:e.tags}}):e._e()],1)]),e._v(" "),n("div",[e.expandChildrenFlag?n("div",[e.task.tasks.length>0?n("tasks",{staticClass:"innerTasks",attrs:{outerTaskID:e.task.id,taskIDs:[].concat(e.task.tasks)}}):e._e()],1):e._e(),e._v(" "),!e.expandChildrenFlag?n("div",{staticClass:"leftIndent"},[e.numberOfChildren>0?n("p",{staticClass:"smallText"},[e._v(e._s(e.numberOfChildren)+" "+e._s(e._f("pluralise")(e.numberOfChildren)))]):e._e()]):e._e()])])])};var Lt=[];var jt=function(){var e=this;var t=e.$createElement;var r=e._self._c||t;return r("div",[r("div",[r("legend",[e._v("content")]),e._v(" "),r("textarea",{directives:[{name:"resize-on-insert",rawName:"v-resize-on-insert"},{name:"model",rawName:"v-model",value:e.task.content,expression:"task.content"}],domProps:{value:e.task.content},on:{input:function(t){if(t.target.composing){return}e.$set(e.task,"content",t.target.value)}}}),e._v(" "),r("div",[r("legend",[e._v("description")]),e._v(" "),r("textarea",{directives:[{name:"resize-on-insert",rawName:"v-resize-on-insert"},{name:"model",rawName:"v-model",value:e.task.description,expression:"task.description"}],domProps:{value:e.task.description},on:{input:function(t){if(t.target.composing){return}e.$set(e.task,"description",t.target.value)}}})]),e._v(" "),e.tags.length>0?r("tags",{attrs:{tags:e.tags}}):e._e()],1),e._v(" "),r("br"),e._v(" "),r("div",[r("span",{staticClass:"bottomInputContainer"},[r("span",{staticClass:"inputCol"},[r("span",[e._v("\n                    complete "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.task.complete,expression:"task.complete"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.task.complete)?e._i(e.task.complete,null)>-1:e.task.complete},on:{change:function(t){var r=e.task.complete,n=t.target,i=n.checked?true:false;if(Array.isArray(r)){var a=null,o=e._i(r,a);if(n.checked){o<0&&e.$set(e.task,"complete",r.concat([a]))}else{o>-1&&e.$set(e.task,"complete",r.slice(0,o).concat(r.slice(o+1)))}}else{e.$set(e.task,"complete",i)}}}})]),e._v(" "),r("span",[r("a",{attrs:{href:e.taskLink}},[e._v("\n                        link\n                    ")]),e._v(" "),r("textarea",{directives:[{name:"resize-on-insert",rawName:"v-resize-on-insert"},{name:"model",rawName:"v-model",value:e.task.link,expression:"task.link"}],domProps:{value:e.task.link},on:{input:function(t){if(t.target.composing){return}e.$set(e.task,"link",t.target.value)}}})])]),e._v(" "),r("span",{staticClass:"inputCol"},[r("span",[e._v("\n                    bold "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.task.bold,expression:"task.bold"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.task.bold)?e._i(e.task.bold,null)>-1:e.task.bold},on:{change:function(t){var r=e.task.bold,n=t.target,i=n.checked?true:false;if(Array.isArray(r)){var a=null,o=e._i(r,a);if(n.checked){o<0&&e.$set(e.task,"bold",r.concat([a]))}else{o>-1&&e.$set(e.task,"bold",r.slice(0,o).concat(r.slice(o+1)))}}else{e.$set(e.task,"bold",i)}}}})]),e._v(" "),r("span",[e._v("\n                    author "),r("textarea",{directives:[{name:"resize-on-insert",rawName:"v-resize-on-insert"},{name:"model",rawName:"v-model",value:e.task.author,expression:"task.author"}],domProps:{value:e.task.author},on:{input:function(t){if(t.target.composing){return}e.$set(e.task,"author",t.target.value)}}})])])])])])};var $t=[];var Ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};var Bt={name:"DetailedTask",props:{taskID:{type:Number,required:true}},data:function e(){return{task:{id:0,content:"",description:"",complete:false,author:"",link:"",tasks:[],bold:false}}},computed:Ut({},W(["taskByID","tagsInTask"]),{taskLink:function e(){if(this.task.link.length>0){return this.task.link}return"#"},tags:function e(){return this.tagsInTask(this.task)}}),watch:{task:{handler:function e(t){if(this.shouldUpdateTask){this.setTask(t)}},deep:true}},created:function e(){this.task=this.taskByID(this.taskID);this.shouldUpdateTask=true;document.body.classList.add("noscroll");this.$once("hook:destroyed",function(){document.body.classList.remove("noscroll")})},methods:Ut({},B(["setTask"]),{goHome:function e(){this.$root.$emit("change-component-event","home")}})};var Wt=Bt;var qt=r(39);var Vt=re(Wt,jt,$t,false,null,"2fc2a75b",null);var Ht=Vt.exports;function Qt(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++){r[t]=e[t]}return r}else{return Array.from(e)}}Array.prototype.unique=function(){return this.map(JSON.stringify).reverse().filter(function(e,t,r){return r.indexOf(e,t+1)===-1}).reverse().map(JSON.parse)};Array.prototype.flatten=function(){var e;return(e=[]).concat.apply(e,Qt(this))};Array.prototype.flattenDeep=function(){return this.reduce(function(e,t){var r=Array.isArray(t);if(r){return e.concat(t.flattenDeep())}return e.concat(t)},[])};Array.prototype.diff=function(e){return this.filter(function(t){return e.indexOf(t)<0})};function Kt(e,t){var r={};t.forEach(function(t){r[t]=e[t]});return r}function zt(e,t){return Object.assign(JSON.parse(JSON.stringify(e)),t)}function Gt(e,t,r){var n=e[t];e.splice(t,1);e.splice(r,0,n)}var Yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};var Jt={name:"Task",components:{DetailedTask:Ht},filters:{pluralise:function e(t){return t===1?"child":"children"}},props:{taskID:{type:Number,required:true}},data:function e(){return{showContextMenu:false,showModal:false,expandChildrenFlag:true}},computed:Yt({},W(["taskStorageUID","rootTaskIDs","taskByID","tasksInTask","tagsInTask","showInnerTasks","clipboard","clipboardMode"]),{task:function e(){return this.taskByID(this.taskID)},taskContent:{get:function e(){return this.task.content},set:function e(t){this.task.content=t;this.setTask(this.task)}},showHideButtonText:function e(){return this.expandChildrenFlag?"[-]":"[+]"},showHideText:function e(){return this.expandChildrenFlag?"Hide":"Show"},tags:function e(){return this.tagsInTask(this.task)},numberOfChildren:function e(){var t=this;function r(e){var n=t.taskByID(e);var i=n.tasks.map(function(e){return r(e)});var a=i.reduce(function(e,t){return e+t},0);return 1+a}var n=this.task.tasks.map(function(e){return r(e)});return n.reduce(function(e,t){return e+t},0)}}),methods:Yt({},B(["incrementTaskStorageUID","setTask","setRootTaskIDs","addTaskToTask","setClipboard","setClipboardMode","removeTaskFromRoot","removeTaskFromParentTask"]),{toggleComplete:function e(){this.task.complete=!this.task.complete;this.toggleContextMenu();this.setTask(this.task)},toggleContextMenu:function e(){this.showContextMenu=!this.showContextMenu},bold:function e(){var t=this;this.task.bold=!this.task.bold;this.$nextTick(function(){Stretchy.resize(t.$refs.taskInput)});this.toggleContextMenu();this.setTask(this.task)},addNewTask:function e(){this.incrementTaskStorageUID();var t=new we({id:this.taskStorageUID,content:"",parent:this.task.id});this.setTask(t);this.addTaskToTask({taskID:this.task.id,newTaskID:t.id});this.$nextTick(function(){var e=document.getElementById("task-"+t.id+"-input");if(e){e.focus()}})},deleteTask:function e(){var t=window.confirm("Are you sure you want to delete this?");if(t){this.$emit("deleteTask",this.task.id)}},copyTask:function e(){this.setClipboardMode("copy");this.setClipboard(this.taskID);this.toggleContextMenu()},cutTask:function e(){this.setClipboardMode("cut");this.setClipboard(this.taskID);this.toggleContextMenu()},removeOriginalTaskIfCutting:function e(t){if(this.clipboardMode==="copy"){return}var r=this.taskByID(t);if(r.parent==="root"){this.removeTaskFromRoot(t)}else{this.removeTaskFromParentTask({parentTaskID:r.parent,innerTaskID:t})}},getTaskIDToPaste:function e(){var t=this;function r(e){t.incrementTaskStorageUID();var n=t.taskByID(e);var i=JSON.parse(JSON.stringify(n));i.id=t.taskStorageUID;i.tasks=i.tasks.map(function(e){return r(e)});t.setTask(i);return i.id}if(this.clipboardMode==="copy"){return r(this.clipboard)}return this.clipboard},getTaskIDToPasteAndRemoveOriginalTask:function e(){var t=this.getTaskIDToPaste();this.removeOriginalTaskIfCutting(this.clipboard);var r=this.taskByID(t);r.parent=this.task.id;this.setTask(r);return t},pasteInto:function e(){var t=this.getTaskIDToPasteAndRemoveOriginalTask();this.task.tasks.push(t);this.toggleContextMenu()},moveUp:function e(){var t=this.task.parent;if(t==="root"){var r=JSON.parse(JSON.stringify(this.rootTaskIDs));var n=r.indexOf(this.task.id);var i=n-1;if(i<0){i=r.length}Gt(r,n,i);this.setRootTaskIDs(r)}else{var a=this.taskByID(t);var o=a.tasks.indexOf(this.task.id);var s=o-1;if(s<0){s=a.tasks.length}Gt(a.tasks,o,s);this.setTask(a)}this.toggleContextMenu()},moveDown:function e(){var t=this.task.parent;if(t==="root"){var r=JSON.parse(JSON.stringify(this.rootTaskIDs));var n=r.indexOf(this.task.id);var i=n+1;if(i===r.length){i=0}Gt(r,n,i);this.setRootTaskIDs(r)}else{var a=this.taskByID(t);var o=a.tasks.indexOf(this.task.id);var s=o+1;if(s===a.tasks.length){s=0}Gt(a.tasks,o,s);this.setTask(a)}this.toggleContextMenu()},displayModal:function e(){this.showModal=true;this.showContextMenu=false},hideModal:function e(){this.showModal=false}})};var Xt=Jt;var Zt=r(41);var er=re(Xt,Ft,Lt,false,null,"84bc4c44",null);var tr=er.exports;var rr=function(){var e=this;var t=e.$createElement;var r=e._self._c||t;return r("transition",{attrs:{name:"modal"}},[r("div",[r("div",{staticClass:"modal-mask",on:{click:function(t){e.$emit("close")}}}),e._v(" "),r("div",{staticClass:"modal-wrapper"},[r("div",{staticClass:"modal-container"},[r("div",{staticClass:"modal-header"},[e._t("header")],2),e._v(" "),r("div",{staticClass:"separator"}),e._v(" "),r("div",{staticClass:"modal-body"},[e._t("body",[e._v("\n                        default body\n                    ")])],2),e._v(" "),r("div",{staticClass:"separator"}),e._v(" "),r("div",{staticClass:"modal-footer"},[e._t("footer",[e._v("\n                        ​\n                        "),r("button",{staticClass:"modal-default-button",on:{click:function(t){e.$emit("close")}}},[e._v("\n                            OK\n                        ")])])],2)])])])])};var nr=[];var ir={name:"Modal"};var ar=ir;var or=r(43);var sr=re(ar,rr,nr,false,null,"b1c73604",null);var ur=sr.exports;n["a"].component("tasks",xt);n["a"].component("tags",Mt);n["a"].component("task",tr);n["a"].component("modal",ur);n["a"].directive("resize-on-insert",{inserted:function e(t){Stretchy.resize(t)}});new n["a"](bt)}]);